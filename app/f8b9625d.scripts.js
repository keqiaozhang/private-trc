function css(a){var b=document.styleSheets,c={};for(var d in b){var e=b[d].rules||b[d].cssRules;for(var f in e)try{a.is(e[f].selectorText)&&(c=$.extend(c,css2json(e[f].style),css2json(a.attr("style"))))}catch(g){}}return c}function css2json(a){var b={};if(!a)return b;if(a instanceof CSSStyleDeclaration)for(var c in a)a[c].toLowerCase&&(b[a[c].toLowerCase()]=a[a[c]]);else if("string"==typeof a){a=a.split("; ");for(var c in a){var d=a[c].split(": ");b[d[0].toLowerCase()]=d[1]}}return b}function svg2img(a,b){var c=(new XMLSerializer).serializeToString(a),d=document.createElement("canvas"),e=$(a).width(),f=$(a).height(),g=3;d.width=e*g,d.height=f*g;var h=d.getContext("2d"),i=document.createElement("img");i.setAttribute("src","data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))),$(i).one("load",function(){h.drawImage(i,0,0,e*g,f*g);var a=document.createElement("canvas");return a.width=e,a.height=f,pica().resize(d,a,{alpha:!0}).then(function(){i.setAttribute("src",a.toDataURL("image/png")),d.remove(),a.remove(),b(i)}),!0})}function getStyle(a){function b(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}var c,d={};if(window.getComputedStyle){var e=function(a,b){return b.toUpperCase()};c=window.getComputedStyle(a,null);for(var f=0,g=c.length;f<g;f++){var h=c[f];if(!h.match(/^\-webkit/)){var i=h.replace(/\-([a-z])/g,e),j=c.getPropertyValue(h);["none","0px","normal","0","auto","rgb(0, 0, 0)","rgba(0, 0, 0, 0)"].indexOf(j)===-1&&(j.match(/^rgb/)&&(j=b(j)),d[i]=j)}}return d}if(c=a.currentStyle){for(var h in c)d[h]=c[h];return d}}function rename_element(a,b){var c=document.createElement(b);for(Array.from(a.attributes).forEach(function(a){c.setAttribute(a.nodeName,a.nodeValue)});a.firstChild;)c.appendChild(a.firstChild);return a.parentNode.replaceChild(c,a),c}function DateUtils(a){function b(b){if(a.isBlank(b)||!/^\d{4}-\d{2}-\d{2}/.test(b))return!1;var d=new Date(b);return c(d)}function c(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())}return{isValidDateString:b,isValidDate:c}}function modalConfirmHelper(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal-confirm-helper.html",windowClass:d,scope:e})}function d(c,d,e){var f=[],g={modalInstance:{}};_.forEach(e,function(a){f.push({click:function(){g.modalInstance.close(a)},label:a.label,type:a.type})});var h=a.$new();return h.buttons=f,h.message=d,h.sign=c,g.modalInstance=b.open({templateUrl:"components/modal/modal-confirm-box.html",windowClass:"cr-confirm-box",scope:h}),g.modalInstance.result}function e(a){a=a||angular.noop;var b=arguments[1]||{};return function(){var d,e,f=Array.prototype.slice.call(arguments),g=f.shift();d=c({modal:_.merge({data:{},dismissable:!0,title:"Confirmation requested",html:"<p>Are you sure you want to <strong>"+g+"</strong> ?</p>",buttons:[{classes:"btn-primary",text:"Yes",click:function(a,b){e=!0,d.close({e:a,data:b})}},{classes:"btn-default",text:"Cancel",click:function(a){d.dismiss(a)}}]},b)},"modal-primary"),d.result.then(function(b){e&&a.apply(b.e,[b.data])})["catch"](function(a){})}}function f(a,b){return a=a||angular.noop,b=b||angular.noop,function(){var d,e,f=Array.prototype.slice.call(arguments),g=f.shift();d=c({modal:{dismissable:!0,title:"Save changes ?",html:"<p><strong>"+g+"</strong> has been modifield, save changes ?</p>",buttons:[{classes:"btn-primary",text:"Yes",click:function(a){e=!0,d.close(a)}},{classes:"btn-default",text:"No",click:function(a){e=!1,d.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){d.dismiss(a)}}]}},"modal-primary"),d.result.then(function(c){e?a.apply(c,f):b.apply(c,f)})}}function g(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Deletion",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}return{confirm:{"delete":g,saveChanges:f,confirmAction:e,confirmBox:d}}}function Auth(a,b,c,d,e,f,g,h,i,j){function k(){void 0===b.auth?b.auth={}:(A(),console.log("load storage data",j.getInfo(),j.isAuthenticated()))}function l(){return _.get(b,"auth.token")}function m(){return _.get(b,"auth.subject")}function n(){return _.get(b,"auth.scope")}function o(){function b(c){var d=c.data;if(d&&"auth"===d.type){a.removeEventListener("message",b,!1),e.src="about:blank";var h=B(d.urlParams);r(h).then(function(a){g.debug("Valid token. "+a.accessToken),s(a),f.resolve()},function(a){g.debug("Invalid access token. Start authorization process"),f.rejected("Invalid access token")})}}C.revokeToken();var d=p();if(!c.iframeId)return void(a.location.href=d);var e=a.document.getElementById(c.iframeId),f=h.defer();return a.addEventListener("message",b,!1),e.src=d,f.promise}function p(){var a=c.authzServerUri+"authorization?response_type=token&client_id="+c.clientId+"&redirect_uri="+c.redirectUri+"&scope="+c.scope.join(" ");return encodeURI(a)}function q(a){var b=c.authzServerUri+"tokeninfo?access_token="+a;return f.get(b).then(function(a){return a.data})}function r(a){var b=h.defer();return C.getTokenInfo(a.accessToken).then(function(c){b.resolve(a)},function(a){b.reject(a)}),b.promise}function s(a){a=angular.copy(a);var c=d.decode(a.accessToken);a.issuedAt=(new Date).setTime(1e3*c.body.iat),b.auth.token=a,z(c),A()}function t(){var a=C.getToken();return a.issuedAt+1e3*a.expiresIn<Date.now()}function u(){_.set(b,"auth.token",null),_.set(b,"auth.subject",null),_.set(b,"auth.scope",null),j.reset()}function v(){return l()&&!C.isTokenExpired()}function w(){var a=angular.copy(_.get(b,"auth.redirectState")),d=angular.copy(_.get(b,"auth.redirectParams"));a||(a=c.defaultRedirectState,d={}),g.debug("redirect to state "+a),_.set(b,"auth.redirectState",null),_.set(b,"auth.redirectParams",null),i.go(a,d)}function x(a,d){a.name!==c.callbackState&&(g.debug("save redirect state "+a.name),_.set(b,"auth.redirectState",angular.copy(a.name)),_.set(b,"auth.redirectParams",angular.copy(d)))}function y(a){if(c.resourceUrls&&c.resourceUrls.length>0){for(var b,d=0;d<c.resourceUrls.length;d++)if(b=c.resourceUrls[d],_.startsWith(a,b))return!0;return!1}return!0}function z(a){if(a.body.sub){var c={login:a.body[e.SUBJECT],name:a.body[e.USER_NAME],lastname:a.body[e.USER_LASTNAME],wwid:a.body[e.USER_WWID]},d=a.body[e.SCOPE].split(" ");b.auth.subject=c,b.auth.scope=d}}function A(){var a=_.get(b,"auth.subject"),c=_.get(b,"auth.scope"),d=v();j.setAuthenticated(d),j.setInfo(a),j.setPermissions(c)}function B(a){for(var b,c,d,e=a.split("&"),f=0;f<e.length;f++){var g=e[f].split("=");"access_token"==g[0]?b=g[1]:"expires_in"===g[0]?c=g[1]:"token_type"===g[0]&&(d=g[1])}return{accessToken:b,expiresIn:c,type:d}}var C=this;C.isAuthenticated=v,C.getToken=l,C.getSubject=m,C.getScope=n,C.authorize=o,C.getTokenInfo=q,C.validateToken=r,C.registerToken=s,C.isTokenExpired=t,C.revokeToken=u,C.redirectToSavedState=w,C.saveRedirectState=x,C.isForResource=y,k()}function Subject(){function a(a){j=a}function b(){return j}function c(a){k=a}function d(){return k}function e(a){return a.wwid===j.wwid}function f(a){return _.includes(k,a)}function g(a){l=a}function h(){return l}function i(){j=null,k=[],l=!1}var j,k,l;return i(),{getInfo:b,setInfo:a,getPermissions:d,setPermissions:c,isPermitted:f,isAuthenticated:h,setAuthenticated:g,reset:i,isSameUser:e}}function itBtnSelect(){function a(a,b,c,d){function e(){f(),g()}function f(){a.$watch("choices",function(b,c){if(b!==c){a.checkboxes={},i={};var d=b instanceof Array;angular.forEach(b,function(b,c){var e=d?b:c;i[e]=!1,a.checkboxes[e]=b}),h()}})}function g(){a.$watchCollection("checkModel",function(b){var c=[];_.forEach(b,function(a,b){a&&c.push(b)}),_.isEqual(j.sort(),c.sort())||(j=angular.copy(c),a.onSelect(c))})}function h(){a.checkModel=angular.copy(i)}var i={},j=[];a.reset=h,a.checkboxes={},a.allLabel=a.allLabel||"All",e()}return{restrict:"E",scope:{choices:"=",onSelect:"=",allLabel:"@"},template:'<div class="btn-group"><label class="btn btn-default" ng-click="reset();">{{allLabel}}</label><label ng-repeat="(value, label) in checkboxes" class="btn btn-default" ng-model="checkModel[value]" btn-checkbox>{{label||value}}</label></div>',link:a}}function UnauthorizedInterceptor(a,b,c,d,e,f,g){return{request:function(a){return a},requestError:function(a){return b.reject(a)},response:function(a){return a},responseError:function(g){return 403===g.status&&c.error("Click here for more information about access rights","Unauthorized action",{onTap:function(){e.open(d.requestUrls.root)}}),401===g.status&&c.error("Click <strong>here</strong> to Login again","Session Expired",{onTap:function(){a.$emit(f.session.EXPIRED)},allowHtml:!0,tapToDismiss:!0,maxOpened:1,autoDismiss:!0}),b.reject(g)}}}function BuildSignaturesModalCtrl(a,b,c){function d(){a.signatures=c,a.compareOptions={exclude:["id","creation","lastModified","ingredientsJson","uniqueKeyComponents"],label:"Signature"}}function e(){b.close()}a.ok=e,d()}function TestListModalCtrl(a,b,c,d,e,f,g,h,i,j){function k(){q=angular.copy(h),q.sort=["campaignName","campaignId","creation"],a.title=g?g:"Tests",a.testSet.setReloadFunction(n),l(),n()}function l(){a.$watch("paging.offset",function(a,b){a!==b&&m(a)}),a.$watch("showHidden",function(a,b){a?_.unset(q,"isInReport"):q.isInReport=!0,n()})}function m(b){q.limit=a.paging.limit,q.offset=b,a.loading=!0,d.search(q,function(b){a.paging.totalCount=b.totalCount,a.paging.offset=b.offset,a.testSet.data=b.results,_.each(a.testSet.data,function(a){var b=d.comments({testId:a.id});a.comments=b}),a.loading=!1})}function n(){m(a.paging.offset)}function o(){var a=angular.copy(h);f.openDuplicate(a,n)}function p(){b.$broadcast(j.build.TESTS_CHANGE),c.close()}var q;a.close=p,a.testSet=e,a.paging={totalCount:0,offset:0,limit:100},a.loading=!1,a.showHidden=!0,a.openDuplicate=o,a.extraFields=i,k(),a.$on("modal.closing",function(a,c,d){"backdrop click"!==c&&"escape key press"!==c||b.$broadcast(j.build.TESTS_CHANGE)})}function CommentPopupModalCtrl(a,b,c,d,e,f,g){function h(a){a.edit=!0,a.previous=a.text}function i(a){return e.isSameUser(a.author)}function j(){d.createComment({campaignId:c.id},{text:a.newComment}).$promise.then(function(b){a.newComment="",c.comments.push(b),c._meta.nbComments=c.comments.length},function(a){g.error(a.statusText,"Unable to edit comment")})}function k(a){delete a.edit,delete a.previous,d.updateComment({campaignId:c.id},{text:a.text,id:a.id}).$promise.then(function(b){a=b},function(a){g.error(a.statusText,"Unable to edit comment")})}function l(a){delete a.edit,a.text=a.previous,delete a.previous}function m(){b.close()}a.ok=m,a.campaign=c,a.editComment=h,a.addComment=j,a.updateComment=k,a.cancelEditComment=l,a.canEdit=i,a.service=f,a.newComment=""}function MailReportModalCtrl(a,b,c,d,e,f,g){function h(a){b.workers.push(a)}function i(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\b(OPR|Edge)\/(\d+)/),null!=a)?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c.join(" "))}function j(a){return!(a.toLowerCase().indexOf("ie")>=0)}function k(){var c=[];_.each(b.workers,function(a){c.push(a.email)}),d.send({to:c.join(","),subject:b.title,content:$("#preview").html()}).$promise.then(function(){e.success("Mail will be delivery soon.","Success"),a.close()},function(){e.error("Fail to send mail","Error")})}function l(){a.dismiss()}b.title=f,b.ok=k,b.cancel=l,b.workers=[],b.selectUser=h,b.supported=j(i()),a.rendered.then(function(){if(b.supported){var a=$("#"+g).wordExport();document.getElementById("preview").appendChild(a.get(0))}})}function IssueListModalCtrl(a,b,c,d){a.title=d,a.issues=c,a.close=function(){b.close()}}function TestDuplicateModalCtrl(a,b,c,d,e,f){function g(){c.findDuplicate(e).$promise.then(function(b){a.data=b,a.loading=!1})}function h(a){var b=a.tests.length;return _.each(a.tests,function(a){a.isInReport===!1&&b--}),b}function i(a,b){var e=a.isInReport;a.isInReport=b,c.update({id:a.id,isInReport:b},function(){},function(b){a.isInReport=e,d.error("Cannot change test visibility",b.message)})}function j(){f(),b.close()}a.close=j,a.showInReport=i,a.count=h,a.data=[],a.loading=!0,g()}function WidgetModals(a){this.openTestList=function(b,c,d){var e=a.open({animation:!1,templateUrl:"app/widgets/modal/test-list-modal.html",controller:"TestListModalCtrl",size:"lg",resolve:{queryParams:function(){return b},title:function(){return c},extraFields:function(){return d}}});return e.result},this.openIssueList=function(b,c){var d=a.open({animation:!1,templateUrl:"app/widgets/modal/issue-list-modal.html",controller:"IssueListModalCtrl",resolve:{issues:function(){return b},title:function(){return c}}});return d.result},this.openBuildSignatures=function(b){var c=a.open({animation:!1,templateUrl:"app/widgets/modal/build-signatures-modal.html",controller:"BuildSignaturesModalCtrl",size:"lg",resolve:{signatures:function(){return b}}});return c},this.mailReport=function(b,c){var d=a.open({animation:!1,templateUrl:"app/widgets/modal/mail-report-modal.html",controller:"MailReportModalCtrl",size:"full",resolve:{title:function(){return b},id:function(){return c}}});return d},this.openDuplicate=function(b,c){return a.open({animation:!1,templateUrl:"app/widgets/modal/test-duplicate-modal.html",controller:"TestDuplicateModalCtrl",resolve:{queryParams:function(){return b},callback:function(){return c}}})},this.openCampaignSelector=function(b){return a.open({animation:!1,templateUrl:"app/widgets/modal/campaign-selector-modal.html",controller:"CampaignSelectorModalCtrl",size:"full",resolve:{inputOptions:function(){return b}}})},this.openDiffCampaigns=function(b){return a.open({animation:!1,templateUrl:"app/widgets/modal/diff-campaigns-modal.html",controller:"DiffCampaignsModalCtrl",size:"full",resolve:{campaigns:function(){return b}}})},this.openDiffReports=function(b,c,d){return a.open({animation:!1,templateUrl:"app/widgets/modal/diff-reports-modal.html",controller:"DiffReportsModalCtrl",size:"full",resolve:{reports:function(){return b},query:function(){return c},groupBy:function(){return d}}})},this.openReportPicker=function(b){return a.open({animation:!1,templateUrl:"app/widgets/modal/report-picker-modal.html",controller:"ReportPickerModalCtrl",size:"lg",resolve:{query:function(){return b}}})},this.openPeopleRetrival=function(b){var c=a.open({animation:!1,templateUrl:"app/widgets/modal/find-people-modal.html",controller:"FindPeopleModalCtrl",resolve:{title:b?b:function(){return"Share with people"}}});return c.result}}function CampaignSelectorModalCtrl(a,b,c,d,e,f,g,h,i){function j(){var a;a=m.multi?b.selection:b.selection[0],c.close(a)}function k(){c.dismiss()}function l(a){b.selection=a}var m=_.extend({multi:!1,constrain:null,equals:null},i);a("RestGridCtrl",{$scope:b}),b.exportCsvUrl=g.URL+"/campaigns/csv",b.restOptions.resource=f("campaigns");var n=["name","status","verdict","creation","bench.name","build.branch","build.buildId","build.targetProduct"];b.restOptions.externalCriteria=m.constrain,b.gridOptions.columnDefs=e,_.each(b.gridOptions.columnDefs,function(a){if(n.indexOf(a.name)>=0?a.visible=!0:a.visible=!1,_.has(m.equals,a.name)){var b=m.equals[a.name],c=_.get(a,"filters",[]),d={condition:h.filter.EXACT,term:b};_.findIndex(c,d)<0&&c.push(d),a.filters=c}}),_.each(m.equals,function(a,b){}),b.gridOptions.persistStateNamespace="campaign-grid",b.gridOptions.chooseColumnsExclude=["_meta.*"],b.gridOptions.enableRowSelection=!0,m.multi?(b.gridOptions.enableSelectAll=!0,b.gridOptions.multiSelect=!0):(b.gridOptions.enableSelectAll=!1,b.gridOptions.multiSelect=!1);var o=b.gridOptions.onRegisterApi;b.gridOptions.onRegisterApi=function(a){o(a),void 0!==a.selection&&(a.selection.on.rowSelectionChanged(b,function(b){l(a.selection.getSelectedRows())}),a.selection.on.rowSelectionChangedBatch(b,function(b,c){l(a.selection.getSelectedRows())}))},b.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),b.cellScope={detailModalOptions:{title:function(a){return"Detail of campaign "+(a.name?a.name:"")},objectDef:d}},b.ok=j,b.cancel=k,b.selection=[]}function DiffCampaignsModalCtrl(a,b,c,d,e){function f(){var b={diffs:_.map(e,"id"),key:"campaignId"};a.options.hideIteration&&(b.depth=0),a.options.onlyCore&&(b.phase=d.phase.CORE),c.findDifference(b).$promise.then(function(b){_.each(b,function(a){a.tests=_.keyBy(a.tests,g)}),a.items=b})}function g(a){return a.campaignId}a.campaigns=e,a.items=[],a.options={hideIteration:!0,onlyCore:!0},a.close=function(){b.close()},a.$watchCollection("options",function(){f()}),f()}function DiffReportsModalCtrl(a,b,c,d,e,f,g){function h(){a.loading=!0,c.findDifference(_.merge({diffs:_.map(e,"id"),key:"reportId",isInReport:!0},f)).$promise.then(function(b){_.each(b,function(a){a.tests=_.keyBy(a.tests,i)}),a.items=b,a.loading=!1})}function i(a){var b=_.map(e,"id"),c=_.filter(a.reports,function(a){return b.indexOf(a.id)>=0});return c[0].id}a.reports=e,a.items=[],a.groupBy=g,a.loading=!0,a.close=function(){b.close()},h()}function ReportPickerModalCtrl(a,b,c,d){function e(){b.close({reports:a.selected})}function f(){b.dismiss()}a.query=d,a.selected=[],a.ok=e,a.cancel=f}function crashesLink(){function a(a,b,c){}return{restrict:"E",template:'<a ui-sref="{{type}}.detail.events(params)" tooltip="{{entity._meta.nbCriticalCrashes}} critical crash(es) for {{entity._meta.nbCrashes}} crash(es) in the {{type}}"><span class="glyphicon glyphicon-flash"></span> {{entity._meta.nbCriticalCrashes}} / {{entity._meta.nbCrashes}} </a>',link:a,scope:{entity:"=",type:"@",params:"="}}}function defineCampaign(a,b){function c(c,d,e){function f(){c.selectedTestFeature={},a.get({}).$promise.then(function(a){a.totalCount>0&&(c.domains=a.results,c.campaign.domain=c.domains[0].domain)}),b.query().$promise.then(function(a){c.types=a,c.campaign.type=c.types[0].value})}c.campaign=c.ngModel,c.campaign.stopTime=new Date,c.campaign.startTime=new Date,c.campaign.startTime.setHours((new Date).getHours()-1),c.domains=[],c.types=[],f(),c.$watch("campaign.team",function(a){a||(c.campaign.isPrivate=!1)})}return{name:"define-campaign",restrict:"E",link:c,scope:{ngModel:"=",ngDisabled:"="},templateUrl:"app/widgets/form/define-campaign.html"}}function chooseBuild(a,b,c){function d(d,e,f){function g(){a.lastUsed({}).$promise.then(function(a){if(a.totalCount>0){var b=_.filter(a.results,function(a){return angular.isDefined(a.targetProduct)});d.buildTargetProducts=b}}),b.lastUsed({}).$promise.then(function(a){a.totalCount>0&&(d.buildVariants=a.results,d.build.variant=d.buildVariants[0].variant)}),c.lastUsed({}).$promise.then(function(a){if(a.totalCount>0){var b=_.filter(a.results,function(a){return angular.isDefined(a.targetDevice)});d.buildTargetDevices=b}})}d.build=d.ngModel,d.buildVariants=[],d.buildTargetDevices=[],d.buildTargetProducts=[],g()}return{name:"choose-build",restrict:"E",link:d,scope:{ngModel:"=",ngDisabled:"="},templateUrl:"app/widgets/form/choose-build.html"}}function testsEditor(a,b){function c(c,d,e){function f(a){g(c.tests,a),g(c.checkedTests,a),g(t,a)}function g(a,b){var c=a.indexOf(b);c>=0&&a.splice(c,1)}function h(a){a.validation={},a.importFailed=!1,a.errorMsg="",i(a),c.issuesValidator(a);_.valuesIn(a.validation).forEach(function(b){b.validate===!1&&(a.importFailed=!0,a.errorMsg?a.errorMsg+=","+b.errMsg:a.errorMsg+=b.errMsg)}),delete a.validation}function i(a){var b="Name of test case is required.",c={};a.validation.usecase=c,a.testCase?a.validation.usecase.validate=!0:(c.validate=!1,c.errMsg=b)}function j(){_.remove(c.tests,u),t.forEach(function(a){(!c.dispalyChecked||c.dispalyChecked&&c.checkedTests.includes(a))&&k(a)&&c.tests.push(a)})}function k(a){var b=s.testCase,c=s.feature,d=s.description,e=s.status,f=s.verdict;return!(b&&!l(a.testCase,b))&&(!(c&&!l(a.feature,c))&&(!(d&&!l(a.description,d))&&((!e||a.status==e)&&(!f||a.verdict==f))))}function l(a,b){return!(!a||!_.toLower(a).includes(_.toLower(b)))}function m(){c.tests.forEach(function(a){c.checkedTests.includes(a)||c.checkedTests.push(a)})}function n(){return 0!=c.checkedTests.length&&c.tests.every(function(a){return c.checkedTests.includes(a)})}function o(a){return c.checkedTests.includes(a)}function p(a){c.checkedTests.includes(a)?c.checkedTests.splice(c.checkedTests.indexOf(a),1):c.checkedTests.push(a)}function q(){if(n()){var a=_.intersection(c.checkedTests,c.tests);a.forEach(function(a){c.checkedTests.splice(c.checkedTests.indexOf(a),1)})}else m();j()}function r(){var a=_.clone(c.checkedTests);a.forEach(function(a){f(a)})}c.issuePopover={templateUrl:"inputIssuesTemplate.html"};var s={};c.search=s,c.statuses=_.map(_.keysIn(b.status),function(a){return{key:a,value:b.status[a]}}),c.verdicts=_.map(_.keysIn(b.verdict),function(a){return{key:a,value:b.verdict[a]}});var t=c.ngModel;c.tests=_.clone(c.ngModel),c.isChecked=o,c.isCheckedAll=n,c.clickCheckAll=q,c.removeAllChecked=r,c.clickCheck=p,c.dispalyChecked=!1,c.remove=a.confirm["delete"](function(a){f(a)}),c.$watch("tests",function(){_.each(c.tests,function(a){h(a)})},!0),c.$watchCollection("ngModel",function(a,b){_.isEqual(a,b)||(_.concat(c.tests,_.difference(a,b)),j())}),c.$watch("dispalyChecked",function(){j()}),c.issuesValidator=function(a){var b="The Issue id must only contain [A-Z], -, [0-9], valid separator are space, comma(,) or semicolon(;) ",c={};if(a.validation.issue=c,a.issues){var d=_.every(a.issues.split(/[\s,;]+/),function(a){return!a||null!==a.match(/^[A-Z]+-[0-9]+/)});d?a.errorMsg===b&&(c.validate=!0):(c.validate=!1,c.errMsg=b)}},c.clickCheckFilter=function(){j()},c.$watch("search",function(a,b){_.isEqual(a,b)||j()},!0);var u=function(){return!0}}return{name:"tests-editor",restrict:"E",link:c,scope:{ngModel:"=",ngDisabled:"=",checkedTests:"="},templateUrl:"app/widgets/form/tests-editor.html"}}function stateTitle(a){function b(b,c,d){b.$watch(a.getTitle,function(a){a&&c.text(d.stateTitle+" "+a)})}return{restrict:"A",link:b}}function StateHistory(a,b,c,d){function e(){a.$on("$locationChangeSuccess",function(){f(b.current.name,b.params,d.getTitle())})}function f(a,b,c){var d={name:a,params:b,time:new Date,title:c};h.push(d)}function g(a,b){for(var c=[],d=h.length-1;d>=0;d--){var e=h[d];e.name===a&&c.push(e)}return c}var h=[];return e(),{log:f,getLatest:g}}function StateTitle(a,b,c,d){function e(){return g}function f(a){var b="";if(a.title){var c=a.locals?a.locals.globals:{};b=d(a.title)(c)}return b}var g="";return a.$on("$stateChangeSuccess",function(a,c,d,e,h){g=f(b.$current)}),{getTitle:e}}function btnAddToReport(){function a(a,b,c){a.select=function(b){a.onSelect({report:b})}}return{restrict:"E",scope:{reports:"=",onSelect:"&"},templateUrl:"app/widgets/button/btn-add-to-report.html",link:a}}function btnEdit(){return{restrict:"E",transclude:!0,template:'<button class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span> <span ng-transclude></span></button>'}}function verdictDistributionChart(a,b,c,d){function e(a,c,e){function g(c){if(0===c.series.length)a.config=null;else{var d=f(c.series);a.config=b.bar({options:{chart:{height:350},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){if(a.context){var b={verdict:this.series.name};b[a.group]=this.name,h(b)}}}}}}},yAxis:{title:{text:"Test count"}},series:d})}}function h(b){var c=_.merge(angular.copy(a.context),b),e=b.verdict+" tests of "+a.group+" "+b[a.group];d.openTestList(c,e)}a.$watch("data",function(a,b){a!==b&&g(a)})}function f(b){return b.forEach(function(b){b.data=b.data.map(function(a){return{name:a.name,y:a.count}}),b.color=a("verdictColor")(b.name)}),b}return{restrict:"E",template:'<div ng-if="config"><highchart config="config"></highchart></div>',scope:{data:"=",context:"=",group:"="},link:e}}function verdictDistributionPanelDirective(a,b,c,d){return{restrict:"E",scope:{data:"=",context:"=",options:"=",group:"="},templateUrl:"app/widgets/verdict-distribution-panel.html",link:function(e,f){function g(){e.$watch("data.verdictDistribution",function(a,b){a!==b&&h(a)}),e.$watch("data.executionStats",function(a,b){a&&i(a)})}function h(a){e.verdictRepartition=a}function i(c){var f=e.data.executionStats,g=f.passed/f.completed;e.executionChart=b.donutIndicator({title:{text:"<span>"+d("number")(100*g,0)+"%</span>",style:{"font-size":"25px","font-weight":"normal",color:a.darkGray}},options:{chart:{height:200,title:{text:"%"}},plotOptions:{pie:{size:"100%",dataLabels:{enabled:!1}}}},series:[{data:[{name:"passed",y:f.passed,color:a.green},{name:"pending",y:f.pending,color:"transparent"},{name:"failed",y:f.failed,color:a.red},{name:"blocked",y:f.blocked,color:a.orange},{name:"N/A",y:f.na,color:a.gray}]}]})}function j(a,b){var d,f=_.merge(angular.copy(e.context),a);d=void 0===a?"All functional tests":void 0!==a.verdict?a.verdict+" functional tests":"All COMPLETED tests",c.openTestList(f,d,b)}e.openTests=j,g()}}}function taskListDirective(){function a(a,b){function c(){d(a.tasks),a.$watch("tasks",function(a,b){a!==b&&d(a)})}function d(b){a.filteredTasks=_.orderBy(b,"creation","desc")}c()}return{restrict:"E",scope:{tasks:"="},link:a,templateUrl:"app/widgets/task-list.html"}}function taskItemDirective(a,b){function c(c,d){function e(){f(c.task),c.$watch("task + task.stopTime",function(a,b){a!==b&&f(c.task)})}function f(a){c.title=_.capitalize(_.lowerCase(_.startCase(a.type))),c.taskClass="cr-task-"+_.kebabCase(a.type),a.startTime&&a.stopTime&&(c.taskDuration=new Date(a.stopTime).getTime()-new Date(a.startTime).getTime()),g(c.task)}function g(a){h&&b.unfollow(h),a&&(h=b.follow([a]))}var h;c.task?e():c.taskId&&a.get({taskId:c.taskId}).$promise.then(function(a){c.task=a,e()})}return{restrict:"E",scope:{task:"=?",taskId:"=?"},link:c,templateUrl:"app/widgets/task-item.html"}}function ObjectComparatorDirective(a){function b(a,b){function c(){a.properties=e(a.list),d()}function d(){a.$watch("list",function(b,c){b!==c&&(a.properties=e(b))})}function e(a){if(0===a.length)return{};var b=g(a);b=_.difference(b,i.exclude),b=_.sortBy(b);var c=[];a.length;return _.forEach(b,function(b){c.push(f(b,a))}),c}function f(a,b){for(var c=_.fill(Array(b.length),""),d=0;d<b.length;d++)c[d]=b[d][a];var e=_.some(c,function(a){return!_.isEqual(a,c[0])});return{name:a,haveDifferences:e,values:c}}function g(a){var b=_.keys(_.reduce(a,function(a,b){return _.forOwn(b,function(b,c){_.startsWith(c,"$$")||(a[c]=!0)}),a},{}));return b}function h(a){return i.label+" "+(a+1)}var i={exclude:_.isArray(a.options.exclude)?a.options.exclude:[],label:a.options.label?a.options.label:"Object"};a.properties=[],a.itemName=h,c()}return{restrict:"E",scope:{list:"=",options:"="},templateUrl:"app/widgets/object-comparator.html",link:b}}function paginationBarDirective(){function a(a,b){a.$watch("currentPage",function(b,c){b!==c&&(a.ngModel=(b-1)*a.limit,a.ngChange&&a.ngChange())})}return{restrict:"E",scope:{limit:"=",total:"=",ngModel:"=",ngChange:"="},templateUrl:"app/widgets/pagination-bar.html",link:a}}function itemSelector(){function a(a,b,c){function d(){a.$watch("items",function(b){a.choices=_.map(a.items,function(a){return{value:a,selected:e(a)}})})}function e(b){return _.reduce(a.selection,function(a,c){return a||c.id===b.id},!1)}function f(b){b.selected=!b.selected,b.selected!==!0||e(b.value)||a.selection.push(b.value),b.selected===!1&&_.remove(a.selection,function(a){return a.id===b.value.id})}a.select=f,a.action=_.get(c,"action","add"),a.selection=[],d()}return{restrict:"E",scope:{items:"=",selection:"="},transclude:!0,templateUrl:"app/widgets/item-selector.html",link:a}}function dropdownHover(){function a(a,b,c,d){b.on("mouseenter",function(){a.$apply(function(){d.toggle();var b=c.dropdownHover;b&&a.$eval(b)})})}return{restrict:"A",require:"^dropdown",link:a}}function durationPicker(){function a(a,b,c,d){function e(){a.ngModel=a.hour*f+1e3*a.minute*60}var f=36e5;a.hour=Math.floor(a.ngModel/f),a.minute=Math.floor(a.ngModel%f/6e4),a.onChange=e}return{name:"duration-picker",restrict:"E",link:a,scope:{ngModel:"=",ngEnable:"="},templateUrl:"app/widgets/duration-picker-directive.html"}}function dropdownSelector(){function a(a){a.select=function(b){a.ngModel=b},a.$watchCollection("choices",function(){a.displayChoices=a.choices}),a.$watch("searchText",function(b,c){b!==c&&(a.searchText?a.displayChoices=a.choices.filter(function(b){return b.toLowerCase().indexOf(a.searchText.toLowerCase())!==-1}):a.displayChoices=a.choices)})}return{restrict:"E",scope:{title:"@",choices:"=",ngModel:"=",btnClass:"@",withoutAll:"&?",search:"&?"},transclude:!0,templateUrl:"app/widgets/dropdown-selector.html",link:a}}function LiveFollower(a,b){return function(c){function d(b,c){if(angular.isArray(b)){var d=_.filter(b,m),e=[];return _.forEach(d,function(a){var b=h(a,c);e.push(b)}),l&&a.debug(k,"followed",e),e}if(angular.isObject(b))return f(b,c)}function e(b){if(angular.isArray(b))l&&a.debug(k,"unfollowed",b),_.forEach(b,function(a){i(a)});else if(angular.isObject(b))return g(b)}function f(b,c){var d={};return m(b)&&(d=h(b,c),l&&a.debug(k,"followed",d)),d}function g(b){l&&a.debug(k,"unfollowed",b),i(b)}function h(a,c){var d={topic:o(a),listener:j(a,c)};return b.addTopicListener(d.topic,d.listener),d}function i(a){if(angular.isUndefined(a.topic)||angular.isUndefined(a.listener))throw"Objects to unfollow should be the one provided by the LiveStream.follow() method";b.removeTopicListener(a.topic,a.listener)}function j(b,c){return function(d){l&&a.debug(k,d),n(b,d),_.isFunction(c)&&c(d)}}if(!c.topic)return void a.error("you must give the topic to follow the objects");var k=c.name?c.name:"unamed live service",l=c.logging===!0,m=_.isFunction(c.followFilter)?c.followFilter:function(){return!0},n=_.isFunction(c.updater)?c.updater:_.merge,o=c.topic;return{follow:d,unfollow:e}}}function TestLive(a,b,c){return new b({followFilter:function(a){return a.status===c.status.RUNNING||a.status===c.status.PENDING},topic:function(a){return"campaigns."+a.campaignId+".tests."+a.id},updater:function(a,b){b._meta&&(a._meta=b._meta),a.status=b.status,a.verdict=b.verdict,a.startTime=b.startTime,a.stopTime=b.stopTime}})}function CampaignLive(a,b,c){return new b({name:"campaign live",topic:function(a){return"campaigns."+a.id},updater:function(a,b){b._meta&&(a._meta=b._meta),a.status=b.status,a.verdict=b.verdict,a.stopTime=b.stopTime,a.lastTest=b.lastTest,a.name=b.name}})}function ActivitiesLive(a,b,c,d,e,f,g){function h(b,c,d){k="activity."+b+"."+c,l=d?d:i(),a.addTopicListener(k,l)}function i(){return function(a){if(d.addActivity(a),"COMMENT"===a.action){var b={};b.date=a.date,b.context=a.context,b.text=a.context.text,b.author=a.user,b.lastModified=a.lastModified,b.author.username!==g.getInfo().login&&f.info("A new comment has been posted"),b.id=a.id;var e=_.find(c.comments,function(b){return b.id===a.id});if(e){var h=c.comments.indexOf(e);c.comments[h]=b}else c.comments.push(b),c.count++}}}function j(){k&&l&&a.removeTopicListener(k,l)}var k=null,l=null;return{follow:h,unfollow:j}}function BenchLive(a,b,c){return function(b){function c(b){return _.each(b,function(b){var c={topic:f(b),updater:e(b)};g.push(c),a.addTopicListener(c.topic,c.updater)}),g.slice()}function d(b){_.each(b,function(b){if(!angular.isUndefined(b)){var c=_.remove(g,function(a){return a.topic===b.topic})[0];a.removeTopicListener(c.topic,c.updater)}})}function e(a){return function(b){h(a,b)}}function f(a){return"benchStates."+a.bench.name;
}var g=[],h=_.isFunction(b)?b:_.merge;return{follow:c,unfollow:d}}}function TaskLive(a,b){return new b({name:"task live",logging:!0,followFilter:function(a){return"ACTIVE"===a.status||"PENDING"===a.status},topic:function(a){return"taskState."+a.taskId},updater:function(a,b){a.status=b.status,a.checkpoint=b.checkpoint,b.stopTime&&(a.stopTime=new Date(b.stopTime)),b.startTime&&(a.startTime=new Date(b.startTime))}})}function ProgressLive(a){return new a({name:"progress live",logging:!0,topic:function(a){return"progress."+a.id}})}function CampaignTestChangeLive(a,b,c){return new b({name:"Change of tests under campaign live",topic:function(a){return"campaigns_change_tests."+a.id},updater:function(){}})}function CampaignTestDeletionLive(a,b,c){return new b({name:"deletion of test under campaign live",topic:function(a){return"campaigns_delete_tests."+a.id},updater:function(){}})}function QualityReportingCtrl(a,b,c,d,e,f){function g(){c.getInstances().$promise.then(function(b){a.instances=b,s.instance=a.instances[0].instanceId,s.label=a.instances[0].address})}function h(a){var b=a.currentTarget.files,c=b[0];s.file=c,s.campaignName=q(c.name),r(s.file)}function i(){a.projects={},a.domains={},a.login=void 0}function j(){return s.campaignName&&s.username&&s.separator&&s.domain&&s.project&&s.instance&&a.login===!0}function k(b){s.instance=b.instanceId,s.label=b.address,s.project="",s.domain="",a.projects={},a.domains={},a.login=!1}function l(){a.qrInfo.project="",a.qrInfo.domain="",a.projects={},a.domains={},a.cookie=null,a.login=!0;var b={username:a.qrInfo.username,password:a.qrInfo.password,instance:a.qrInfo.instance,sCookie:a.cookie};c.getDomains(b).$promise.then(function(b){a.domains=b.context,a.cookie=b.sCookie,a.qrInfo.domain=a.domains[0],a.loginError=!1},function(b){a.login=!1,a.loginError=!0}).then(m)}function m(){a.qrInfo.project="",a.projects={};var b={username:a.qrInfo.username,instance:a.qrInfo.instance,password:a.qrInfo.password,domain:a.qrInfo.domain,sCookie:a.cookie};c.getProjects(b).$promise.then(function(b){a.projects=b.context,a.cookie=b.sCookie,a.qrInfo.project=a.projects[0]})}function n(){var a=new FormData;a.append("username",s.username),a.append("campaignname",s.campaignName),a.append("password",s.password),a.append("separator",s.separator),a.append("domain",s.domain),a.append("project",s.project),a.append("instance",s.instance),a.append("file",s.file),c.upload({},a).$promise.then(p,o)}function o(a){d.error(a.data.message,"Import Failed",{allowHtml:!0,closeButton:!0,timeOut:0,extendedTimeOut:0})}function p(a){var b=a.id,c=function(){f.go("campaign.detail",{campaignId:b})},d=function(){s.file=null,s.campaignName=null},g="Your tests upload to HP ALM is on going and you will receive an email when done.You can start exploring your test campaign or import a new one.";e.confirm.confirmBox("glyphicon glyphicon-ok-sign text-success",g,[{label:"Go to campaign",type:"info",perform:c},{label:"Import another one",type:"default",perform:d}]).then(function(a){a.perform()})}function q(a){return a.substr(0,a.lastIndexOf("."))}function r(b){if("undefined"!=typeof FileReader){var c=new FileReader,d=0,e=0;c.onloadend=function(b){d>e&&(a.qrInfo.separatorType="comma",a.qrInfo.separator=",",a.$digest())},c.onload=function(a){for(var b=a.target.result.replace(/^\s+|\s+$/g,""),c=b.split("\n"),f=0;f<c.length&&f<3;f++){c[f].split(",");d+=c[f].split(",").length,e+=c[f].split(";").length}},c.readAsText(b)}}var s={password:"",separatorType:"semicolon",separator:";"};a.qrInfo=s,a.login=!1,a.handleFile=h,a.doImport=n,a.getDomainsAndProjects=l,a.getProjects=m,a.changeInstance=k,a.resetLogin=i,a.isValid=j,a.cookie=null,g()}function qrTestsetSelect(a,b,c,d){function e(a,b,e){function f(){g()}function g(){h(),c.getInstances().$promise.then(function(b){a.instances=b,i(a.instances[0])})}function h(){a.instances={},a.qrInfo.instance="",a.qrInfo.label="",k()}function i(b){a.qrInfo.instance=b.instanceId,a.qrInfo.label=b.address,k()}function j(){a.currentSelectPath="",a.qrInfo.testSet="",a.qrInfo.folder="",a.testSetPathTreeData.length=0}function k(){a.loginError=!1,a.logged=!1,a.logging=!1,a.qrInfo.cookie=null,m()}function l(){k(),n()}function m(){a.domains={},a.qrInfo.domain="",o()}function n(){m(),a.qrInfo.username=a.username,a.qrInfo.password=a.password;var b={username:a.qrInfo.username,password:a.qrInfo.password,instance:a.qrInfo.instance,sCookie:a.qrInfo.cookie};a.logging=!0,c.getDomains(b).$promise.then(function(b){a.logged=!0,a.logging=!1,a.loginError=!1,a.domains=b.context,a.qrInfo.cookie=b.sCookie,q(a.domains[0])},function(b){a.logged=!1,a.logging=!1,a.loginError=!0})}function o(){a.projects={},a.qrInfo.project="",j()}function p(){o();var b={username:a.qrInfo.username,instance:a.qrInfo.instance,password:a.qrInfo.password,domain:a.qrInfo.domain,sCookie:a.qrInfo.cookie};c.getProjects(b).$promise.then(function(b){a.projects=b.context,a.qrInfo.cookie=b.sCookie,r(a.projects[0])})}function q(b){a.qrInfo.domain=b,o(),p()}function r(b){a.qrInfo.project=b,j(),a.testSetTreeLoading=!0,u("Root").then(function(){a.testSetTreeLoading=!1})}function s(a,b,c){if(b&&0===a.children.length){var d=c().map(function(a){return a.name}),e=d.reverse().join("\\");a.loading=!0,u(e).then(function(){a.loading=!1})}}function t(b,c,d){if(!a.folder||"folder"===b.type)if(c){var e=d().map(function(a){return a.name});if(a.currentSelectPath=e.reverse().join("\\"),a.folder)a.qrInfo.folder=a.currentSelectPath;else{var f=a.currentSelectPath.split("\\");a.qrInfo.testSet=f.pop(),a.qrInfo.folder=f.join("\\")}}else a.currentSelectPath="",a.qrInfo.testSet="",a.qrInfo.folder=""}function u(b){var e={username:a.qrInfo.username,password:a.qrInfo.password,instance:a.qrInfo.instance,domain:a.qrInfo.domain,project:a.qrInfo.project,testSet:b,sCookie:a.qrInfo.cookie};return c.getSubFolders(e).$promise.then(function(b){a.qrInfo.cookie=b.sCookie,angular.forEach(b.context,function(b){v(a.testSetPathTreeData,b.name,b.type)})},function(a){d.error("Cannot load test-set tree","Loading error")})}function v(a,b,c){if(b){var d=b.split("\\"),e=d.shift();if(e){var f=_.find(a,{name:e});if(!f){var g=e===b?c:"folder";f={name:e,children:[],type:g},a.push(f)}var h=d.join("\\");v(f.children,h,c)}}}a.folder=!!_.has(e.$attr,"folder"),a.qrInfo.password="",a.qrInfo.folder="",a.qrInfo.username="",a.qrInfo.cookie=null,a.username="",a.password="",a.currentSelectPath="",a.testSetPathError=!1,a.logged=!1,a.logging=!1,a.loginError=!1,a.testSetPathTreeData=[],a.testSetPathTreeOptions={nodeChildren:"children",dirSelectable:a.folder,isLeaf:function(a){return"folder"!==a.type}},a.setInstance=i,a.login=l,a.getProjects=p,a.testSetPathTreeExpandFolder=s,a.selectDomain=q,a.selectProject=r,a.selectTestSet=t,f()}return{name:"qr-testset-select",restrict:"E",link:e,scope:{qrInfo:"="},templateUrl:"app/quality-reporting/qr-testset-select.directive.html"}}function qrImportCtrl(a,b,c,d,e,f,g,h,i,j){function k(){b.build={},b.campaign={},b.tests=[],b.qrImported=!1,b.progressValue=0,n=!1}function l(c,d){a.preventNavigation("import is not finished. \nDo you want to stop test import?"),c.build=d;var g=e.getSubject();g&&(c.importedBy=g.name+" "+g.lastname),f.save(c).$promise.then(function(a){b.alerts.push({type:"success",msg:"Campaign created successfully: ",link:{url:"#/campaigns/"+a.id+"/detail",label:"Open "+a.name}}),b.importedCampaign=a,m(a,d)},function(c){b.alerts.push({type:"danger",msg:"Failed to create campaign"}),a.allowNavigation(),n=!1})}function m(c,d){var e=b.checkedTests.length,f=0,h=0;_.each(b.checkedTests,function(a){function j(a,b){a.hasOwnProperty(b)&&_.unset(a,b)}j(a,"errorMsg");var k=angular.copy(a);k.campaignId=c.id,k.build=d,_.each(["importFailed","issues","comments"],function(a){j(k,a)}),angular.isDefined(b.campaign.domain)&&(k.domain=b.campaign.domain),angular.isDefined(b.campaign.type)&&(k.type=b.campaign.type),angular.isDefined(k.feature)&&""===k.feature.trim()&&delete k.feature,g.save(k).$promise.then(function(c){a.importFailed=!1,f++,b.progressValue=100*(f+h)/e,a.comments&&g.createComment({testId:c.id},{text:a.comments}),a.issues&&_.each(a.issues.split(/[\s,;]+/),function(a){if(null!==a.match(/[A-Z]+-[0-9]+/)){var b={number:a};i.issues(b).$promise.then(function(a){if(null!==a&&angular.isDefined(a.id)){var b=a.id;g.refIssue({testId:c.id,id:b},{})}})}})},function(a){h++,b.alerts.push({type:"danger",msg:"Failed to create test '"+k.testCase+"' (see details below).",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}})})});var j=function(){return f+h===e},l=b.$watch(j,function(c){c&&(h>0?b.alerts.push({type:"warning",msg:"Import completed but some test results creation failed."}):(b.alerts.push({type:"success",msg:"All test results created successfully.",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}}),k()),a.allowNavigation(),n=!1,l())})}var n=!1;b.qrInfo={},b.alerts=[],b.checkedTests=[],b.importedCampaign={},k(),b.importFromQr=function(){n=!0,c.download(b.qrInfo).$promise.then(function(a){n=!1,_.merge(b.campaign,a.campaign),b.tests=a.tests,b.tests.length>0?(b.qrImported=!0,d.success(a.tests.length+" test cases imported!","Import Testset Success")):d.warning("No test cases found, please select a valid TestSet")})},b.isImportInProgress=function(){return n},b.cancelImport=function(){j.confirm["delete"](function(){angular.isDefined(b.importedCampaign.id)&&(b.alerts=[],f["delete"]({campaignId:b.importedCampaign.id}).$promise.then(function(a){b.importedCampaign={},b.successfulImportCount=0,b.failedImportCount=0,b.alerts.push({type:"success",msg:"Import canceled successfully."}),k(),b.importedCampaign={}},function(a){b.alerts.push({type:"danger",msg:"Failed to cancel import"}),k()}))})("imported campaign '"+b.importedCampaign.name+"' and its test results")},b.doImport=function(){b.alerts=[],n=!0;var a=b.tests.every(function(a){return a.verdict!==h.verdict.BLOCKED&&a.verdict!==h.verdict.FAILED}),c=a?h.verdict.PASSED:h.verdict.FAILED;b.campaign.verdict=c,b.campaign.status=h.status.COMPLETED;var d=angular.copy(b.build);d.targetDevice=d.targetDevice,d.targetProduct=d.targetProduct,l(b.campaign,d)}}function CampaignModel(a){function b(){return g}function c(a){f=a,e()}function d(){return f}function e(){return a.tasks({campaignId:f.id}).$promise.then(function(a){g=_.isArray(a)?a:[a]}).$promise}var f,g=[];return{getTasks:b,loadTasks:e,setCampaign:c,getCampaign:d}}function CampaignTasksCtrl(a,b){function c(){a.$watch(b.getTasks,function(b,c){b!==c&&(_.isArray(b)?a.tasks=b:a.tasks=[b])})}c()}function addCampaignDetailRoutes(a){a.state("campaign2",{url:"/campaigns2",template:"<div ui-view></div>","abstract":!0}).state("campaign2.detail",{url:"/:id",resolve:{campaign:function(a,b){return b.get({campaignId:a.id}).$promise}},views:{"":{templateUrl:"app/campaign-detail/campaign-detail-layout.html"},"header@campaign2.detail":{template:'<campaign-header campaign="::$resolve.campaign"></campaign-header>'}}})}function addBenchesRoutes(a){a.state("home.benches",{url:"/benches",templateUrl:"app/benches/benches-layout.html","abstract":!0,breadcrumb:{name:"Benches",proxy:"home.benches.search",enableHistory:!0}}).state("home.benches.search",{url:"/search?search",views:{content:{template:"<benches-search></benches-search>"}},breadcrumb:{name:"Search"}}).state("home.benches.favorites",{url:"/favorites",views:{content:{template:"<benches-favorites></benches-favorites>"}},breadcrumb:{name:"My Favorites"}}).state("home.benches.engines",{url:"/engines",views:{content:{template:"<benches-engines></benches-engines>"}}})}function historyTrendChart(){function a(a,b,c){function d(){_.remove(a.selection);var b=0;a.selectStatus.forEach(function(c){c.selected&&a.selection.push(a.data[b]),b++})}function e(b){var c=a.selectStatus[b.point.index];c&&(c.selected=!c.selected,d(),this.chart.redraw())}function f(){a.selectStatus=[],d();var b=[],c={passed:[],failed:[],blocked:[]},e={type:"spline",name:"Pass Rate",linecap:"round",color:"#7cb5ec",data:[],connectNulls:!1,marker:{lineWidth:2,lineColor:"#7cb5ec",fillColor:"white",symbol:"circle"},tooltip:{valueSuffix:"%",headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>"},yAxis:1,xAxis:0};a.data.forEach(function(d){var f=d.passed+d.failed+d.blocked;e.data.push(Math.floor(1e4*d.passed/f)/100),c.passed.push(d.passed),c.failed.push(d.failed),c.blocked.push(d.blocked),a.selectStatus.push({selected:!1}),b.push(d.name)});var f=[];f.push({type:"column",name:"BLOCKED",data:c.blocked,color:"#FDB813"}),f.push({type:"column",name:"FAILED",data:c.failed,color:"#ED1C1A"}),f.push({type:"column",name:"PASSED",data:c.passed,color:"#A6CE39"}),f.push(e);var g=0,h={categories:b,labels:{formatter:function(){var b=a.selectStatus[g%a.selectStatus.length];return g++,b&&b.selected?'<span style="font-weight: bold;color:red">'+this.value+"</span>":"<span>"+this.value+"</span>"}}};a.config.series=f,a.config.options.xAxis=[h]}a.selectStatus=[],a.$watchCollection("data",function(){a.data&&f()}),a.config={options:{credits:{enabled:!1},chart:{type:"pie"},title:{text:"History Trends"},tooltip:{shared:!0},xAxis:[],yAxis:[{min:0,title:{text:"Test Count"},stackLabels:{enabled:!0,style:{fontWeight:"bold"}}},{min:0,max:100,title:{text:"Pass Rate"},stackLabels:{enabled:!0,style:{fontWeight:"bold"}},opposite:!0}],legend:{align:"center",verticalAlign:"bottom",floating:!1,borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1},cursor:"pointer",events:{click:e}},spline:{events:{click:e}}}},series:[]}}return{restrict:"E",template:'<highchart config="config"></highchart>',scope:{data:"=",selection:"="},link:a}}function projectDataPanel(a){function b(b){b.paging=b.paging?b.paging:{},b.paging.offset=0,b.paging.enable=!1,b.edit=!1,b.count=0,b.canEdit=!angular.isDefined(b.canEdit)||b.canEdit,b.$watch("paging.totalCount",function(){b.paging.enable=b.paging.totalCount>b.paging.limit}),b.cancel=function(){b.edit=!1,_.each(b.items,function(a){a.selected=!1}),b.count=0},b.remove=function(){a.confirm["delete"](function(){b.onRemove(),b.cancel()})(b.count+" "+b.title)},b.select=function(a){a.selected=!a.selected,b.count=_.filter(b.items,"selected",!0).length}}return{restrict:"E",scope:{items:"=",paging:"=",title:"@",onRemove:"&",canEdit:"=?"},transclude:!0,templateUrl:"app/projects/project-data-panel.html",link:b}}function DashboardPiListCtrl(a,b,c,d,e){function f(){h(),g()}function g(){a.$watch(b.getDashboard,function(c){a.dashboard=c,a.security={canEdit:b.canEdit()},a.piListSortableOptions.disabled=!a.security})}function h(){a.piListSortableOptions={disabled:!0,stop:function(c,e){var f=0;return _.forEach(a.dashboard.pis,function(a){a.order=++f}),b.saveDashboard(a.dashboard).then(function(b){a.dashboard=b,d.success("PI order saved")})}}}function i(a){c.openEditPi(a,"target")}function j(a,b){c.openAddResult(a,b)}function k(b){var c="the performance indicator "+b.name;e.confirm["delete"](function(b){var c=a.dashboard.pis.indexOf(b);c>-1&&a.dashboard.pis.splice(c,1),m()})(c,b)}function l(a){c.openEditPi(a)}function m(c){return b.saveDashboard(a.dashboard).then(function(b){a.dashboard=b,d.success("Dashboard saved")})}a.dashboard=null,a.piTracker=b.metricTracker,a.editPiTarget=i,a.addTestResult=j,a.removePi=k,a.openEditPi=l,f()}function DashboardDataCtrl(a,b){function c(){d()}function d(){a.$watch(b.getDashboard,function(b,c){a.dashboard=b})}a.builds=[],a.dashboard=null,a.metricTracker=b.metricTracker,c()}function DashboardHistoryHeaderCtrl(a,b,c,d,e,f){function g(){h()}function h(){a.$watch(c.getHistory,function(b,c){a.builds=b})}function i(a){e["export"](c.getDashboard().name,f.URL+"/piDashboards/"+c.getDashboard().id+"/data/aggregated/csv/"+a.buildId)}function j(){return!!c.getCompareSettings().reference}function k(a){var d=c.getCompareSettings();!d.reference&&!d.compared||d.reference&&d.compared?(d.reference=a.buildId,d.compared=void 0):d.reference&&!d.compared&&(d.compared=a.buildId,b.go("home.kpi-dashboard.detail.compare",{ref:d.reference,"with":a.buildId},{reload:!0}))}function l(a){a.signatures||c.getBuildSignatures(a).then(function(b){a.signatures=b})}function m(a){d.openBuildSignatures(a)}a.mustShowActionCompare=j,a.compare=k,a.loadBuildSignatures=l,a.openBuildSignatures=m,a.exportBuildCsv=i,a.builds=[],g()}function EditPiController(a,b,c,d,e){function f(){g()}function g(){a.$watch(e.getPi,function(b){a.pi=b,k()}),a.$watch("pi.testCase + pi.name + pi.aggregationFn",function(a,b){a!==b&&l()}),a.$watch("pi.aggregationFn",function(c,d){c!==d&&(a.pi.minimumRuns=b.defaults.minimumRuns[c],k())})}function h(a){return arguments.length?(e.getPi().testCase=a.testCase,e.getPi().name=a.name,e.getPi().unit=a.unit,k(),void 0):e.getPi()}function i(b){b!==a.pi.regressionThresholdType&&(a.pi.regressionThreshold=NaN,a.pi.regressionThresholdType=b)}function j(){return _.get(a,"pi.regressionThresholdType")===b.thresholdType.ABSOLUTE?a.pi.unit:"% of reference"}function k(){var b=c.getPiStatistics(e.getPi());b?b.then(function(b){b.count>0?a.piStats=b:l()}):l()}function l(){a.piStats=null}function m(){e.setRelativeThreshold(a.piStats.autoRegressionThreshold)}a.thresholdType=b.thresholdType,a.aggregationFnList=[{key:b.aggregation.LATEST,name:"Latest"},{key:b.aggregation.MEDIAN,name:"Median"},{key:b.aggregation.MEAN,name:"Mean"}],a.selectedMetric=h,a.selectRegressionThresholdType=i,a.regressionThresholdUnit=j,a.setAutoThreshold=m,a.piStats=null,f()}function EditPiTargetController(a,b,c){function d(){e()}function e(){f(),g(),h(),i()}function f(){a.$watch(b.getPi,function(b){a.pi=b}),a.$watch(b.getTarget,function(b){a.target=b,a.typeChoice.value=b?b.type:p})}function g(){a.$watch("target.min + target.max + target.type",function(){a.stepForm.$setValidity("targetRange",!l()||a.target.min<a.target.max)})}function h(){a.$watch("target.min + target.max + target.waiver",function(){a.target?a.effective={min:a.target.min+a.target.waiver,max:a.target.max+a.target.waiver,target:a.target.target+a.target.waiver}:a.effective={}})}function i(){a.$watch("typeChoice.value",function(a,c){a===p?b.removeTarget():b.setTargetType(a)})}function j(){return _.get(a,"target.type")===c.target.type.HIGHER_IS_BETTER||l()}function k(){return _.get(a,"target.type")===c.target.type.LOWER_IS_BETTER||l()}function l(){return _.get(a,"target.type")===c.target.type.RANGE}function m(){return _.get(a,"target.type")===c.target.type.LOWER_IS_BETTER}function n(){return _.get(a,"target.type")===c.target.type.HIGHER_IS_BETTER}function o(){return!!a.target}var p="notarget";a.isMinDisplayed=j,a.isMaxDisplayed=k,a.isRange=l,a.isLib=m,a.isHib=n,a.targetTypes=[{name:"No target",value:p},{name:"Lower is better",value:c.target.type.LOWER_IS_BETTER},{name:"Higher is better",value:c.target.type.HIGHER_IS_BETTER},{name:"Range",value:c.target.type.RANGE}],a.typeChoice={value:p},a.effective={},a.hasTarget=o,d()}function DashboardCompareHeaderCtrl(a,b){function c(){d()}function d(){a.$watch(b.getCompareResult,function(b){a.compareResult=b})}c()}function DashboardSettingsGeneralController(a,b,c){function d(){a.$watch(c.getGeneral,function(b){a.general=b})}d()}function DashboardSettingsFiltersController(a,b,c,d){function e(){i(),b.loadFacets().then(function(){f(),g()})}function f(){var a=c.getFilters();b.initFilter("targetProduct",a.targetProducts),b.initFilter("targetDevice",a.targetDevices),b.initFilter("branch",a.branches),b.initFilter("benchName",a.benchNames),b.initFilter("buildType",a.buildTypes),b.initFilter("tag",a.tags)}function g(){var d=c.getFilters();a.filters.targetProducts=b.getFilter("targetProduct").map(m),a.filters.targetDevices=b.getFilter("targetDevice").map(m),a.filters.branches=b.getFilter("branch").map(m),a.filters.benchNames=b.getFilter("benchName").map(m),a.filters.tags=b.getFilter("tag").map(m),a.filters.buildTypes=b.getFilter("buildType").map(m),a.filters.releaseOnly=d.releaseOnly}function h(a){var b=c.getFilters();b.targetProducts=a.targetProducts.map(n),b.targetDevices=a.targetDevices.map(n),b.branches=a.branches.map(n),b.benchNames=a.benchNames.map(n),b.tags=a.tags.map(n),b.buildTypes=a.buildTypes.map(n),b.releaseOnly=a.releaseOnly}function i(){a.$watch(b.getChoices,function(b){a.choices=b}),a.$watch("filters",function(a,b){_.isEqual(a,b)||h(a)},!0)}function j(a,c){b.setFilter(a,c)}function k(a,c){b.unsetFilter(a,c)}function l(c){a.filters[c]=null,b.clearFilter(c)}function m(a){var b=null;return a&&(b={key:a,value:NaN}),b}function n(a){return a?a.key:null}a.select=j,a.unselect=k,a.clear=l,a.choices={},a.filters={targetProduct:null,targetDevice:null,branch:null,benchNames:[],tags:[],buildTypes:[],releaseOnly:!1},e()}function ReportListCtrl(a,b,c,d,e,f,g,h){function i(){g.reset(d,["branch","targetProduct","releaseTag","releaseType","type","fromDate","quickFilter"]),a.search.quickFilter=d.quickFilter?d.quickFilter:"",g.updateUrl(d,c),k()}function j(a){b.pref("piReportExplorer",a),c.reload()}function k(){a.$watch(g.getSelection,function(a){g.updateUrl(d,c),m()},!0),a.$watch("search.quickFilter",function(a,b){a!==b&&(d.quickFilter=a,c.go(".",d,{notify:!1}))},!0)}function l(){m()}function m(){a.loading=!0;var b=angular.copy(g.getSelection());b.quickFilter=a.search.quickFilter,f.query(b,function(b){a.loading=!1,a.reports=b.results,n()},function(b){a.loading=!1,e.error(b),h.error("Report loading error")})}function n(){a.weeks=_.groupBy(a.reports,function(a){return o(a.lastModified)}),a.keys=Object.keys(a.weeks)}function o(a){var b=Date.parse(a),c=new Date(b.valueOf()),d=new Date(c.getFullYear(),0,1),e=1900+c.getYear(),f=Math.ceil(((c-d)/864e5+d.getDay()+1)/7);return e+"-WW"+f}a.reports=[],a.getWeekFromISO=o,a.changeView=j,a.weeks=[],a.displayTile=!0,a.quickSearch=l,a.search={},i()}function ReportFiltersCtrl(a,b){function c(){b.facets(function(b){a.facets=b})}a.facets=[],c()}function ReportCtrl(a,b,c,d,e,f,g,h){function i(){g.comparisons=_.sortBy(g.comparisons,"pi.order"),a.report=g,a.permissions={"delete":e.hasPermission(g,f.perms.DELETE)}}function j(){b.print()}function k(){d.confirm["delete"](function(a){g.$delete().then(function(){c.go("home.pi.reports.explore")})})("this PI report",g.name)}function l(){h.openComparisonLegend()}a.printReport=j,a.deleteReport=k,a.openLegend=l,i()}function reportTileDirective(){return{restrict:"E",templateUrl:"app/kpi/report-tile.html",scope:{report:"="}}}function ReportSiblingsCtrl(a,b,c){function d(){var d={branch:b.filters.branch,targetProduct:b.filters.targetProduct,limit:10};a.loading=!0,c.query(d,function(c){a.reports=c.results.filter(function(a){return a.id!==b.id}),a.loading=!1},function(){a.loading=!1})}d(),a.report=b,a.reports=[]}function BuildStatusChartDirective(a,b,c){function d(d,e,f){function g(){var b,c=!!d.verbose,e=d.size?d.size:45;b=c?a.simplePie({options:{title:{text:"Performance indicators status"},subtitle:{text:d.title}}}):a.pieIndicator({options:{chart:{height:e,width:e},plotOptions:{pie:{size:e-5}}}}),d.$watch("status",function(a){d.chartConfig=b,d.chartConfig.series=h(a)})}function h(a){var c={name:"other",y:0,color:i.OTHER},d=[c];return _.forEach(a,function(a,e){switch(e){case b.piStatus.FAILED:case b.piStatus.WARNING:case b.piStatus.PASSED:d.push({name:e.toLowerCase(),y:a,color:i[e]});break;default:c.y+=a}}),[{name:"Count",data:d}]}var i={OTHER:c.lighterGray,FAILED:c.red,WARNING:c.orange,PASSED:c.green};g()}return{restrict:"E",scope:{status:"=",size:"=",verbose:"=",title:"="},template:'<highchart config="chartConfig"></highchart>',link:d}}function BuildPiModel(a){function b(a){k=a}function c(){return k}function d(){return m}function e(a){m=a}function f(){return l}function g(a){l=a}function h(a){n=angular.copy(a)}function i(){return n}function j(b){return b.piIndex=m._index,b.buildId=l.buildId,a.saveBuildPi(b)}var k,l,m,n;return{setSummary:b,getSummary:c,setPi:e,getPi:d,setBuild:g,getBuild:f,setBuildPi:h,getBuildPi:i,save:j}}function BuildPiRunsCtrl(a,b,c,d,e,f,g,h){function i(){r=c.getPi(),q=c.getBuild(),p=b.getDashboard(),j()}function j(){a.testMetrics=[],a.isLoading=!0,d.getTestMetrics({id:p.id,buildId:q.buildId,testCase:r.testCase,metric:r.name,unit:r.unit},function(b){a.testMetrics=b,a.isLoading=!1},function(b){a.isLoading=!1,e.error("Cannot load test metrics")})}function k(a){return f.isInReport(a)}function l(a){n(a,!0)}function m(a){n(a,!1)}function n(a,c){var d=a.isInReport;a.isInReport=c,g.update({id:a.id,isInReport:c},function(a){b.loadHistory()},function(b){a.isInReport=d,e.error("Cannot change test visibility",b.message)})}function o(){h.openAddResult(r,q).then(function(a){j()})}var p,q=a.build,r=a.metric;a.isTestIncluded=k,a.includeTest=l,a.excludeTest=m,a.addTestResult=o,i()}function BuildPiAnalyzeCtrl(a,b,c,d){function e(){a.evolution=c.evolution,a.buildPi=b.getBuildPi(),a.$watch(b.getBuildPi,function(b,c){b!==c&&(a.buildPi=b)})}function f(a){b.save(a).then(function(){d.success("The build performance indicator analyse has been saved","Saved")})}a.save=f,e()}function ctsComparisonStatChart(a,b,c){function d(b,d,e){function f(){var c,d=b.size?b.size:45;c=a.simplePie({options:{chart:{height:d,width:d+230},plotOptions:{pie:{size:d-30,allowPointSelect:!0,showInLegend:!1,cursor:"pointer",shadow:!0,dataLabels:{enabled:!0,distance:15,align:"right",formatter:function(){if(this.y>0)return this.point.name+": "+this.y}},style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}}}),b.$watch("stat",function(a){b.chartConfig=c,b.chartConfig.series=g(a)})}function g(a){var b=function(a){return a&&a[0].toUpperCase()+a.slice(1)},c=[];return _.forEach(a,function(a,d){c.push({name:b(d),y:a.total,color:h[d]})}),[{name:"Count",data:c}]}var h={improvement:c.green,regression:c.red,"new":c.paleBlue,remove:c.lightGray};f()}return{restrict:"E",scope:{stat:"=",size:"="},template:'<highchart config="chartConfig"></highchart>',link:d}}function AttachmentsRootCauseLiveStatusCtrl(a,b,c,d,e,f){function g(){a.taskGraph=d,e.get({taskId:d.taskId},function(b){a.tasks=[b];var c=f.follow(a.tasks);a.$on("destroy",function(){f.unfollow(c)})})}function h(){c.go(c.current,{},{reload:!0}),b.close()}a.close=h,g()}function AttachmentsRootCauseCtrl(a,b,c,d,e,f,g){function h(){a.attachments=[],a.attachment=c,a.title=d,a.name=c.originalName,a.limit=10,a.job_info="When clicking on Start Job button, the application will launch a job that will construct a dictionary of known lines from a list of PASSED test attachment logs. Then it will read the current failed attachment and generate an HTML report highlighting all lines not found in the dictionnary. The lines are cleaned before comparison : header, number, hexadecimal values are removed to keep the core information.",a.isJobStartQueryOngoing=!1,c&&c.originalName&&o(),a.$watch("name",p),a.$watch("limit",p)}function i(){return!a.form.$invalid&&a.attachments.length<=0}function j(){return"undefined"!=typeof a.attachments&&a.attachments.length>0&&!a.isJobStartQueryOngoing}function k(){b.close()}function l(){a.isJobStartQueryOngoing=!0;var b=[];a.attachments.forEach(function(a){b.push(a.id)});var c=a.attachment.testId,d=a.attachment.id,f={testId:c,attachmentId:d,passedAttachmentIds:b};e.rootCauseReport(f,{},m,n)}function m(c,d){a.isJobStartQueryOngoing=!1,b.close(c)}function n(b){a.isJobStartQueryOngoing=!1,a.tasks=void 0,g.error("Error: "+b.data.code+",</br> Reason: "+b.data.message,"Failure",{allowHtml:!0})}function o(){a.enableCheck=!1,a.attachments=[];var b={attachmentId:a.attachment.id,limit:a.limit,name:a.name,testId:a.attachment.testId};e.rootCauseScope(b).$promise.then(function(b){a.attachments=b})}function p(b,c){c!==b&&(a.attachments=[])}a.check=o,a.cancel=k,a.ok=l,a.isCheckable=i,a.isJobStartable=j,h()}function AttachmentModals(a){this.openRootCauseJobCreation=function(b,c){var d=a.open({animation:!1,templateUrl:"app/attachments/modal/attachments-root-cause.html",controller:"AttachmentsRootCauseCtrl",size:"lg",resolve:{attachment:function(){return b},title:function(){return c}}});return d.result},this.openRootCauseLiveStatus=function(b){var c=a.open({animation:!1,templateUrl:"app/attachments/modal/attachments-root-cause-live-status.html",controller:"AttachmentsRootCauseLiveStatusCtrl",size:"lg",resolve:{taskGraph:function(){return b}}});return c.result},this.openUploadMultipleAttachments=function(){var b=a.open({animation:!1,templateUrl:"app/attachments/modal/attachments-upload-multiple.html",controller:"AttachmentsUploadMultipleCtrl",size:"lg",backdrop:"static"});return b.result}}DateUtils.$inject=["StringUtils"],UnauthorizedInterceptor.$inject=["$rootScope","$q","Notifier","accessManagementConfig","$window","AppEventConstant","$injector"],BuildSignaturesModalCtrl.$inject=["$scope","$modalInstance","signatures"],TestListModalCtrl.$inject=["$scope","$rootScope","$modalInstance","Tests","testSet","WidgetModals","title","queryParams","extraFields","AppEventConstant"],CommentPopupModalCtrl.$inject=["$scope","$modalInstance","campaign","Campaigns","Subject","Comments","Notifier"],MailReportModalCtrl.$inject=["$modalInstance","$scope","$window","Mails","Notifier","title","id"],IssueListModalCtrl.$inject=["$scope","$modalInstance","issues","title"],TestDuplicateModalCtrl.$inject=["$scope","$modalInstance","Tests","Notifier","queryParams","callback"],WidgetModals.$inject=["$modal"],CampaignSelectorModalCtrl.$inject=["$controller","$scope","$modalInstance","campaignDisplayDef","campaignGridColumnDefs","collectionSearch","restApiConfig","uiGridConstants","inputOptions"],DiffCampaignsModalCtrl.$inject=["$scope","$modalInstance","Tests","TestConstant","campaigns"],DiffReportsModalCtrl.$inject=["$scope","$modalInstance","Tests","TestConstant","reports","query","groupBy"],ReportPickerModalCtrl.$inject=["$scope","$modalInstance","Tests","query"],defineCampaign.$inject=["Domains","TestTypes"],chooseBuild.$inject=["BuildTargetProducts","BuildVariants","BuildTargetDevices"],testsEditor.$inject=["modalConfirmHelper","TestConstant"],stateTitle.$inject=["StateTitle"],StateHistory.$inject=["$rootScope","$state","$stateParams","StateTitle"],StateTitle.$inject=["$rootScope","$state","$stateParams","$interpolate"],verdictDistributionChart.$inject=["$filter","HighchartsConfig","Tests","WidgetModals"],verdictDistributionPanelDirective.$inject=["IntelColors","HighchartsConfig","WidgetModals","$filter"],taskItemDirective.$inject=["Tasks","TaskLive"],ObjectComparatorDirective.$inject=["IntelColors"],LiveFollower.$inject=["$log","LiveStream"],TestLive.$inject=["$log","LiveFollower","TestConstant"],CampaignLive.$inject=["$log","LiveFollower","TestConstant"],ActivitiesLive.$inject=["LiveStream","$log","Comments","Activities","$timeout","Notifier","Subject"],BenchLive.$inject=["LiveStream","CampaignLive","Campaigns"],TaskLive.$inject=["$log","LiveFollower"],ProgressLive.$inject=["LiveFollower"],CampaignTestChangeLive.$inject=["$log","LiveFollower","TestConstant"],CampaignTestDeletionLive.$inject=["$log","LiveFollower","TestConstant"],QualityReportingCtrl.$inject=["$scope","$window","QualityReporting","Notifier","modalConfirmHelper","$state"],qrTestsetSelect.$inject=["qrTestsGridDef","uiGridConstants","QualityReporting","Notifier"],qrImportCtrl.$inject=["$rootScope","$scope","QualityReporting","Notifier","OAuth2","Campaigns","Tests","TestConstant","Bugtracker","modalConfirmHelper"],CampaignModel.$inject=["Campaigns"],CampaignTasksCtrl.$inject=["$scope","CampaignModel"],projectDataPanel.$inject=["modalConfirmHelper"],DashboardPiListCtrl.$inject=["$scope","DashboardModel","DashboardModals","Notifier","modalConfirmHelper"],DashboardDataCtrl.$inject=["$scope","DashboardModel"],DashboardHistoryHeaderCtrl.$inject=["$scope","$state","DashboardModel","DashboardModals","dataExportService","restApiConfig"],DashboardCompareHeaderCtrl.$inject=["$scope","DashboardModel"],ReportListCtrl.$inject=["$scope","TemplatePreference","$state","$stateParams","$log","PiReports","FacetSelectionModel","Notifier"],ReportFiltersCtrl.$inject=["$scope","PiReports"],ReportCtrl.$inject=["$scope","$window","$state","modalConfirmHelper","SecurityUtils","SecurityConstant","report","DashboardModals"],
ReportSiblingsCtrl.$inject=["$scope","report","PiReports"],BuildStatusChartDirective.$inject=["HighchartsConfig","PiConstant","IntelColors"],BuildPiModel.$inject=["DashboardModel"],BuildPiRunsCtrl.$inject=["$scope","DashboardModel","BuildPiModel","PiDashboards","Notifier","TestBusiness","Tests","DashboardModals"],BuildPiAnalyzeCtrl.$inject=["$scope","BuildPiModel","PiConstant","Notifier"],ctsComparisonStatChart.$inject=["HighchartsConfig","PiConstant","IntelColors"],AttachmentsRootCauseLiveStatusCtrl.$inject=["$scope","$modalInstance","$state","taskGraph","Tasks","TaskLive"],AttachmentsRootCauseCtrl.$inject=["$scope","$modalInstance","attachment","title","Tests","Tasks","Notifier"],AttachmentModals.$inject=["$modal"],function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,IN:1024},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","$","","$","","","","","","",""],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(a,b,c,d){var e={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(b,e,f,g){function h(){var a=b.col.compiledElementFn;a(b,function(a,b){e.append(a)})}if(g&&b.col.compiledElementFn)h();else if(g&&!b.col.compiledElementFn)b.col.getCompiledElementFn().then(function(a){a(b,function(a,b){e.append(a)})});else{var i=b.col.cellTemplate.replace(d.MODEL_COL_FIELD,"row.entity."+c.preEval(b.col.field)).replace(d.COL_FIELD,"grid.getCellValue(row, col)"),j=a(i)(b);e.append(j)}},post:function(a,b,c,e){var f=a.col.getColClass(!1);b.addClass(f);var g,h=function(c){var d=b;g&&(d.removeClass(g),g=null),g=angular.isFunction(a.col.cellClass)?a.col.cellClass(a.grid,a.row,a.col,a.rowRenderIndex,a.colRenderIndex):a.col.cellClass,d.addClass(g)};a.col.cellClass&&h();var i=a.grid.registerDataChangeCallback(h,[d.dataChange.COLUMN,d.dataChange.EDIT]),j=function(c,d){if(c!==d){(g||a.col.cellClass)&&h();var e=a.col.getColClass(!1);e!==f&&(b.removeClass(f),b.addClass(e),f=e)}},k=a.$watch("col",j),l=a.$watch("row",j),m=function(){i(),k(),l()};a.$on("$destroy",m),b.on("$destroy",m)}}}};return e}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(a,b,c){var d={initialize:function(a,b){a.grid=b.grid,b.columnMenuScope=a,a.menuShown=!1},setColMenuItemWatch:function(a){var b=a.$watch("col.menuItems",function(b,c){"undefined"!=typeof b&&b&&angular.isArray(b)?(b.forEach(function(b){"undefined"!=typeof b.context&&b.context||(b.context={}),b.context.col=a.col}),a.menuItems=a.defaultMenuItems.concat(b)):a.menuItems=a.defaultMenuItems});a.$on("$destroy",b)},sortable:function(a){return!!(a.grid.options.enableSorting&&"undefined"!=typeof a.col&&a.col&&a.col.enableSorting)},isActiveSort:function(a,b){return"undefined"!=typeof a.col&&"undefined"!=typeof a.col.sort&&"undefined"!=typeof a.col.sort.direction&&a.col.sort.direction===b},suppressRemoveSort:function(a){return!!(a.col&&a.col.colDef&&a.col.colDef.suppressRemoveSort)},hideable:function(a){return"undefined"==typeof a.col||!a.col||!a.col.colDef||a.col.colDef.enableHiding!==!1},getDefaultMenuItems:function(c){return[{title:a.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(a){a.stopPropagation(),c.sortColumn(a,b.ASC)},shown:function(){return d.sortable(c)},active:function(){return d.isActiveSort(c,b.ASC)}},{title:a.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(a){a.stopPropagation(),c.sortColumn(a,b.DESC)},shown:function(){return d.sortable(c)},active:function(){return d.isActiveSort(c,b.DESC)}},{title:a.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(a){a.stopPropagation(),c.unsortColumn()},shown:function(){return d.sortable(c)&&"undefined"!=typeof c.col&&"undefined"!=typeof c.col.sort&&"undefined"!=typeof c.col.sort.direction&&null!==c.col.sort.direction&&!d.suppressRemoveSort(c)}},{title:a.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return d.hideable(c)},action:function(a){a.stopPropagation(),c.hideColumn()}}]},getColumnElementPosition:function(a,b,d){var e={};return e.left=d[0].offsetLeft,e.top=d[0].offsetTop,e.parentLeft=d[0].offsetParent.offsetLeft,e.offset=0,b.grid.options.offsetLeft&&(e.offset=b.grid.options.offsetLeft),e.height=c.elementHeight(d,!0),e.width=c.elementWidth(d,!0),e},repositionMenu:function(a,b,d,e,f){var g=e[0].querySelectorAll(".ui-grid-menu"),h=b.renderContainer?b.renderContainer:"body",i=(b.grid.renderContainers[h],c.closestElm(f,".ui-grid-render-container")),j=i.getBoundingClientRect().left-a.grid.element[0].getBoundingClientRect().left,k=i.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,l=b.lastMenuWidth?b.lastMenuWidth:a.lastMenuWidth?a.lastMenuWidth:170,m=b.lastMenuPaddingRight?b.lastMenuPaddingRight:a.lastMenuPaddingRight?a.lastMenuPaddingRight:10;if(0!==g.length){var n=g[0].querySelectorAll(".ui-grid-menu-mid");0===n.length||angular.element(n).hasClass("ng-hide")||(l=c.elementWidth(g,!0),a.lastMenuWidth=l,b.lastMenuWidth=l,m=parseInt(c.getStyles(angular.element(g)[0]).paddingRight,10),a.lastMenuPaddingRight=m,b.lastMenuPaddingRight=m)}var o=d.left+j-k+d.parentLeft+d.width-l+m;o<d.offset&&(o=d.offset),e.css("left",o+"px"),e.css("top",d.top+d.height+"px")}};return d}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(a,b,c,d){var e={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(b,e,f,g){var h=this;d.initialize(b,g),b.defaultMenuItems=d.getDefaultMenuItems(b),b.menuItems=b.defaultMenuItems,d.setColMenuItemWatch(b),b.showMenu=function(a,c,f){b.col=a;var g=d.getColumnElementPosition(b,a,c);b.menuShown?(b.colElement=c,b.colElementPosition=g,b.hideThenShow=!0,b.$broadcast("hide-menu",{originalEvent:f})):(h.shown=b.menuShown=!0,d.repositionMenu(b,a,g,e,c),b.colElement=c,b.colElementPosition=g,b.$broadcast("show-menu",{originalEvent:f}))},b.hideMenu=function(a){b.menuShown=!1,a||b.$broadcast("hide-menu")},b.$on("menu-hidden",function(){b.hideThenShow?(delete b.hideThenShow,d.repositionMenu(b,b.col,b.colElementPosition,e,b.colElement),b.$broadcast("show-menu"),b.menuShown=!0):b.hideMenu(!0)}),b.$on("menu-shown",function(){a(function(){d.repositionMenu(b,b.col,b.colElementPosition,e,b.colElement),delete b.colElementPosition,delete b.columnElement},200)}),b.sortColumn=function(a,c){a.stopPropagation(),b.grid.sortColumn(b.col,c,!0).then(function(){b.grid.refresh(),b.hideMenu()})},b.unsortColumn=function(){b.col.unsort(),b.grid.refresh(),b.hideMenu()},b.hideColumn=function(){b.col.colDef.visible=!1,b.grid.refresh(),b.hideMenu(),b.grid.api.core.notifyDataChange(c.dataChange.COLUMN),b.grid.api.core.raise.columnVisibilityChanged(b.col)}},controller:["$scope",function(a){var b=this;a.$watch("menuItems",function(a,c){b.menuItems=a})}]};return e}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(a,b,c,d){var e={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(a,b,e){return{pre:function(a,b,c,e){var f=d(a.col.footerCellTemplate)(a);b.append(f)},post:function(a,b,d,e){a.grid=e.grid,b.addClass(a.col.getColClass(!1));var f,g=function(c){var d=b;f&&(d.removeClass(f),f=null),f=angular.isFunction(a.col.footerCellClass)?a.col.footerCellClass(a.grid,a.row,a.col,a.rowRenderIndex,a.colRenderIndex):a.col.footerCellClass,d.addClass(f)};a.col.footerCellClass&&g();var h=a.grid.registerDataChangeCallback(g,[c.dataChange.COLUMN]);a.$on("$destroy",h)}}}};return e}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(a,b,c,d,e){var f="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(a,c){return{pre:function(a,c,e,g){var h=g[0],i=g[1];a.grid=h.grid,a.colContainer=i.colContainer,i.footer=c;var j=a.grid.options.footerTemplate?a.grid.options.footerTemplate:f;d.getTemplate(j).then(function(d){var e=angular.element(d),f=b(e)(a);if(c.append(f),i){var g=c[0].getElementsByClassName("ui-grid-footer-viewport")[0];g&&(i.footerViewport=g)}})},post:function(a,b,c,e){var f=e[0],g=e[1];f.grid;d.disableAnimations(b),g.footer=b;var h=b[0].getElementsByClassName("ui-grid-footer-viewport")[0];h&&(g.footerViewport=h)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(a,b,c,d,e){var f="ui-grid/ui-grid-grid-footer";return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(a,c){return{pre:function(a,c,e,g){a.grid=g.grid;var h=a.grid.options.gridFooterTemplate?a.grid.options.gridFooterTemplate:f;d.getTemplate(h).then(function(d){var e=angular.element(d),f=b(e)(a);c.append(f)})},post:function(a,b,c,d){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(a,b,c){var d="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(b,e){return{pre:function(b,e,f,g){var h=b.grid.options.groupPanelTemplate||d;c.getTemplate(h).then(function(c){var d=angular.element(c),f=a(d)(b);e.append(f)})},post:function(a,b,c,d){b.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(a,b,c,d,e,f,g){var h=500,i={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(b,c,d){var e=a(b.col.headerCellTemplate)(b);c.append(e)},post:function(a,c,d,g){function i(b){var c=!1;b.shiftKey&&(c=!0),j.grid.sortColumn(a.col,c).then(function(){j.columnMenuScope&&j.columnMenuScope.hideMenu(),j.grid.refresh()})}var j=g[0],k=g[1];a.grid=j.grid,a.renderContainer=j.grid.renderContainers[k.containerId];var l=a.col.getColClass(!1);c.addClass(l),a.menuShown=!1,a.asc=f.ASC,a.desc=f.DESC;var m,n=(angular.element(c[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(c[0].querySelectorAll(".ui-grid-cell-contents"))),o=function(b){var d=c;m&&(d.removeClass(m),m=null),m=angular.isFunction(a.col.headerCellClass)?a.col.headerCellClass(a.grid,a.row,a.col,a.rowRenderIndex,a.colRenderIndex):a.col.headerCellClass,d.addClass(m);var e=a.grid.renderContainers.right?a.grid.renderContainers.right:a.grid.renderContainers.body;a.isLastCol=a.col===e.visibleColumnCache[e.visibleColumnCache.length-1]};a.$watch("col",function(b,d){if(b!==d){var e=a.col.getColClass(!1);e!==l&&(c.removeClass(l),c.addClass(e),l=e)}}),o();var p=a.grid.registerDataChangeCallback(o,[f.dataChange.COLUMN]);if(a.$on("$destroy",p),j.grid.options.enableSorting&&a.col.enableSorting?a.sortable=!0:a.sortable=!1,j.grid.options.enableFiltering&&a.col.enableFiltering?a.filterable=!0:a.filterable=!1,a.col.grid.options&&a.col.grid.options.enableColumnMenus!==!1&&a.col.colDef&&a.col.colDef.enableColumnMenu!==!1?a.colMenu=!0:a.colMenu=!1,a.sortable||a.colMenu){var q,r=0,s=e.isTouchEnabled()?"touchstart":"mousedown";n.on(s,function(d){d.stopPropagation(),"undefined"!=typeof d.originalEvent&&void 0!==d.originalEvent&&(d=d.originalEvent),d.button&&0!==d.button||(r=(new Date).getTime(),q=b(function(){},h),q.then(function(){a.colMenu&&j.columnMenuScope.showMenu(a.col,c,d)}),j.fireEvent(f.events.COLUMN_HEADER_CLICK,{event:d,columnName:a.col.colDef.name}))});var t=e.isTouchEnabled()?"touchend":"mouseup";n.on(t,function(){b.cancel(q)}),a.$on("$destroy",function(){n.off("mousedown touchstart")})}if(a.toggleMenu=function(b){b.stopPropagation(),j.columnMenuScope.menuShown&&j.columnMenuScope.col===a.col?j.columnMenuScope.hideMenu():j.columnMenuScope.showMenu(a.col,c)},a.sortable){var u=e.isTouchEnabled()?"touchend":"click";n.on(u,function(a){a.stopPropagation(),b.cancel(q);var c=(new Date).getTime(),d=c-r;d>h||i(a)}),a.$on("$destroy",function(){b.cancel(q)})}if(a.filterable){var v=[];angular.forEach(a.col.filters,function(b,c){v.push(a.$watch("col.filters["+c+"].term",function(a,b){a!==b&&(j.grid.api.core.raise.filterChanged(),j.grid.refresh(!0))},!0))}),a.$on("$destroy",function(){angular.forEach(v,function(a){a()})})}}}}};return i}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(a,b,c,d,e){var f="ui-grid/ui-grid-header",g="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(a,c){return{pre:function(a,c,e,h){function i(){k.header=k.colContainer.header=c;var a=c[0].getElementsByClassName("ui-grid-header-canvas");a.length>0?k.headerCanvas=k.colContainer.headerCanvas=a[0]:k.headerCanvas=null}var j=h[0],k=h[1];a.grid=j.grid,a.colContainer=k.colContainer,i();var l;l=a.grid.options.showHeader?a.grid.options.headerTemplate?a.grid.options.headerTemplate:f:g,d.getTemplate(l).then(function(d){var e=angular.element(d),f=b(e)(a);if(c.replaceWith(f),c=f,i(),k){var g=c[0].getElementsByClassName("ui-grid-header-viewport")[0];g&&(k.headerViewport=g)}a.grid.queueRefresh()})},post:function(a,b,c,e){function f(){var a=h.colContainer.getViewportWidth()-i.scrollbarWidth,b=h.colContainer.visibleColumnCache,c=0,e=0,f=0,g=a,j=!1,k=function(b){return"manual"===b.widthType?+b.width:"percent"===b.widthType?parseInt(b.width.replace(/%/g,""),10)*a/100:"auto"===b.widthType?(0===f&&(f=parseInt(g/e,10)),b.width.length*f):void 0};b.forEach(function(a){a.widthType=null,isFinite(+a.width)?a.widthType="manual":d.endsWith(a.width,"%")?(a.widthType="percent",j=!0):angular.isString(a.width)&&a.width.indexOf("*")!==-1&&(a.widthType="auto",e+=a.width.length,j=!0)});var l=["manual","percent","auto"];if(b.filter(function(a){return a.visible&&a.widthType}).sort(function(a,b){return l.indexOf(a.widthType)-l.indexOf(b.widthType)}).forEach(function(a){var b=k(a);a.minWidth&&(b=Math.max(b,a.minWidth)),a.maxWidth&&(b=Math.min(b,a.maxWidth)),a.drawnWidth=Math.floor(b),c+=a.drawnWidth,g-=a.drawnWidth}),j&&g>0&&c>0&&c<a){var m=function(a){g>0&&("auto"===a.widthType||"percent"===a.widthType)&&(a.drawnWidth=a.drawnWidth+1,c+=1,g--)},n=0;do n=g,b.forEach(m);while(g>0&&g!==n)}c=Math.max(c,a);var o="";return b.forEach(function(a){o+=a.getColClassDefinition()}),b.length>0&&(b[b.length-1].headerWidth=b[b.length-1].drawnWidth-30),h.colContainer.canvasWidth=parseInt(c,10),o}var g=e[0],h=e[1],i=g.grid;d.disableAnimations(b),h.header=b;var j=b[0].getElementsByClassName("ui-grid-header-viewport")[0];j&&(h.headerViewport=j),g&&g.grid.registerStyleComputation({priority:5,func:f})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(a,b,c){var d={initialize:function(a,b){b.gridMenuScope=a,a.grid=b,a.registeredMenuItems=[],a.$on("$destroy",function(){a.grid&&a.grid.gridMenuScope&&(a.grid.gridMenuScope=null),a.grid&&(a.grid=null),a.registeredMenuItems&&(a.registeredMenuItems=null)}),a.registeredMenuItems=[],b.api.registerMethod("core","addToGridMenu",d.addToGridMenu),b.api.registerMethod("core","removeFromGridMenu",d.removeFromGridMenu)},addToGridMenu:function(b,c){angular.isArray(c)?b.gridMenuScope?(b.gridMenuScope.registeredMenuItems=b.gridMenuScope.registeredMenuItems?b.gridMenuScope.registeredMenuItems:[],b.gridMenuScope.registeredMenuItems=b.gridMenuScope.registeredMenuItems.concat(c)):a.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):a.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(b,c){var d=-1;b&&b.gridMenuScope&&b.gridMenuScope.registeredMenuItems.forEach(function(b,e){b.id===c&&(d>-1?a.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):d=e)}),d>-1&&b.gridMenuScope.registeredMenuItems.splice(d,1)},getMenuItems:function(b){var c=[];return b.grid.options.gridMenuCustomItems&&(angular.isArray(b.grid.options.gridMenuCustomItems)?c=c.concat(b.grid.options.gridMenuCustomItems):a.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),c=c.concat(b.registeredMenuItems),b.grid.options.gridMenuShowHideColumns!==!1&&(c=c.concat(d.showHideColumns(b))),c},showHideColumns:function(a){var c=[];return a.grid.options.columnDefs&&0!==a.grid.options.columnDefs.length&&0!==a.grid.columns.length?(c.push({title:b.getSafeText("gridMenu.columns")}),a.grid.options.gridMenuTitleFilter=a.grid.options.gridMenuTitleFilter?a.grid.options.gridMenuTitleFilter:function(a){return a},a.grid.options.columnDefs.forEach(function(b,e){if(b.enableHiding!==!1){var f={icon:"ui-grid-icon-ok",action:function(a){a.stopPropagation(),d.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:a.grid.getColumn(b.name||b.field)}};d.setMenuItemTitle(f,b,a.grid),c.push(f),f={icon:"ui-grid-icon-cancel",action:function(a){a.stopPropagation(),d.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:a.grid.getColumn(b.name||b.field)}},d.setMenuItemTitle(f,b,a.grid),c.push(f)}}),c):c},setMenuItemTitle:function(b,c,d){var e=d.options.gridMenuTitleFilter(c.displayName||c.name||c.field);"string"==typeof e?b.title=e:e.then?(b.title="",e.then(function(a){b.title=a},function(a){b.title=a})):(a.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),b.title="badconfig")},toggleColumnVisibility:function(a){a.colDef.visible=!(a.colDef.visible===!0||void 0===a.colDef.visible),a.grid.refresh(),a.grid.api.core.notifyDataChange(c.dataChange.COLUMN),a.grid.api.core.raise.columnVisibilityChanged(a)}};return d}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(a,b,c){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(a,b,d,e){var f=e[0];c.initialize(a,f.grid),a.shown=!1,a.toggleMenu=function(){a.shown?(a.$broadcast("hide-menu"),a.shown=!1):(a.menuItems=c.getMenuItems(a),a.$broadcast("show-menu"),a.shown=!0)},a.$on("menu-hidden",function(){a.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(a,b,c,d,e,f){var g={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(a,d,e,g){var h=this;h.showMenu=a.showMenu=function(c,d){a.shown?a.shownMid||(a.shownMid=!0,a.$emit("menu-shown")):(a.shown=!0,b(function(){a.shownMid=!0,a.$emit("menu-shown")}));var e="click";d&&d.originalEvent&&d.originalEvent.type&&"touchstart"===d.originalEvent.type&&(e=d.originalEvent.type),angular.element(document).off("click touchstart",i),b(function(){angular.element(document).on(e,i)})},h.hideMenu=a.hideMenu=function(c,d){a.shown&&(a.shownMid=!1,b(function(){a.shownMid||(a.shown=!1,a.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",i)},a.$on("hide-menu",function(b,c){a.hideMenu(b,c)}),a.$on("show-menu",function(b,c){a.showMenu(b,c)});var i=function(){a.shown&&a.$apply(function(){a.hideMenu()})};"undefined"!=typeof a.autoHide&&void 0!==a.autoHide||(a.autoHide=!0),a.autoHide&&angular.element(c).on("resize",i),a.$on("$destroy",function(){angular.element(document).off("click touchstart",i)}),a.$on("$destroy",function(){angular.element(c).off("resize",i)}),g&&a.$on("$destroy",g.grid.api.core.on.scrollEvent(a,i)),a.$on("$destroy",a.$on(f.events.ITEM_DRAGGING,i))},controller:["$scope","$element","$attrs",function(a,b,c){}]};return g}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(a,b,c){var d={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(d,e){return{pre:function(c,d,e,f){f[0],f[1];c.templateUrl&&a.getTemplate(c.templateUrl).then(function(a){var e=angular.element(a),f=b(e)(c);d.replaceWith(f)})},post:function(a,b,d,e){var f=e[0];e[1];"undefined"!=typeof a.shown&&null!==a.shown||(a.shown=function(){return!0}),a.itemShown=function(){var b={};return a.context&&(b.context=a.context),"undefined"!=typeof f&&f&&(b.grid=f.grid),a.shown.call(b)},a.itemAction=function(b,c){if(b.stopPropagation(),"function"==typeof a.action){var d={};a.context&&(d.context=a.context),"undefined"!=typeof f&&f&&(d.grid=f.grid),a.action.call(d,b,c),a.$emit("hide-menu")}},a.i18n=c.get()}}}};return d}])}(),function(){"use strict";var a=angular.module("ui.grid");a.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(a,b,c,d,e){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(a,b,c,d){var e=d[0],f=d[1],g=a.grid=e.grid;if(!a.rowContainerName)throw"No row render container name specified";if(!a.colContainerName)throw"No column render container name specified";if(!g.renderContainers[a.rowContainerName])throw"Row render container '"+a.rowContainerName+"' is not registered.";if(!g.renderContainers[a.colContainerName])throw"Column render container '"+a.colContainerName+"' is not registered.";var h=a.rowContainer=g.renderContainers[a.rowContainerName],i=a.colContainer=g.renderContainers[a.colContainerName];f.containerId=a.containerId,f.rowContainer=h,f.colContainer=i},post:function(a,b,c,f){function g(b){if(!b.grid||b.grid.id===k.id){if(b.y&&a.bindScrollVertical){j.prevScrollArgs=b;var c=b.getNewScrollTop(l,j.viewport);b.source===e.Sources.ViewPortScroll&&b.sourceColContainer===m||(j.viewport[0].scrollTop=c)}if(b.x&&a.bindScrollHorizontal){j.prevScrollArgs=b;var f=b.getNewScrollLeft(m,j.viewport);a.newScrollLeft=f,j.headerViewport&&(j.headerViewport.scrollLeft=d.denormalizeScrollLeft(j.headerViewport,f)),j.footerViewport&&(j.footerViewport.scrollLeft=d.denormalizeScrollLeft(j.footerViewport,f)),b.source!==e.Sources.ViewPortScroll&&(j.viewport[0].scrollLeft=f),j.prevScrollLeft=f}}}function h(){var b="",c=m.getCanvasWidth(),d=m.getViewportWidth(),e=l.getCanvasHeight();"body"!==a.containerId&&(e+=k.scrollbarHeight);var f=l.getViewportHeight(),g=m.getHeaderViewportWidth(),h=m.getHeaderViewportWidth();return b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-canvas { width: "+c+"px; height: "+e+"px; }",b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-header-canvas { width: "+(c+k.scrollbarWidth)+"px; }",n.explicitHeaderCanvasHeight&&(b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-header-canvas { height: "+n.explicitHeaderCanvasHeight+"px; }"),b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-viewport { width: "+d+"px; height: "+f+"px; }",b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-header-viewport { width: "+g+"px; }",b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-footer-canvas { width: "+c+k.scrollbarWidth+"px; }",b+="\n .grid"+i.grid.id+" .ui-grid-render-container-"+a.containerId+" .ui-grid-footer-viewport { width: "+h+"px; }"}var i=f[0],j=f[1],k=i.grid,l=j.rowContainer,m=j.colContainer,n=k.renderContainers[a.containerId];b.addClass("ui-grid-render-container-"+a.containerId),(a.bindScrollHorizontal||a.bindScrollVertical)&&k.api.core.on.scrollEvent(a,g),d.on.mousewheel(b,function(a){var b=new e(k,l,m,e.Sources.RenderContainerMouseWheel);if(0!==a.deltaY){var c=a.deltaY*-1*a.deltaFactor,f=(j.viewport[0].scrollTop+c)/l.getVerticalScrollLength();f<0?f=0:f>1&&(f=1),b.y={percentage:f,pixels:c}}if(0!==a.deltaX){var g=a.deltaX*a.deltaFactor,h=d.normalizeScrollLeft(j.viewport),i=(h+g)/(m.getCanvasWidth()-m.getViewportWidth());i<0?i=0:i>1&&(i=1),b.x={percentage:i,pixels:g}}(b.y&&0!==b.y.percentage&&1!==b.y.percentage||b.x&&0!==b.x.percentage&&1!==b.x.percentage)&&(a.preventDefault(),b.fireThrottledScrollingEvent())}),b.bind("$destroy",function(){b.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(a){b.unbind(a)})}),i.grid.registerStyleComputation({priority:6,func:h})}}}}}]),a.controller("uiGridRenderContainer",["$scope","gridUtil",function(a,b){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(a){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(a,b,c,d){function e(){a.row.getRowTemplateFn.then(function(c){var d=a.$new();c(d,function(a,c){h&&(h.remove(),i.$destroy()),b.empty().append(a),h=a,i=d})})}var f=d[0],g=d[1];f.grid;a.grid=f.grid,a.colContainer=g.colContainer;var h,i;e(),a.$watch("row.getRowTemplateFn",function(a,b){a!==b&&e()})},post:function(a,b,c,d){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(a,b){return{link:function(a,c,d,e){var f=b(c.text(),!0);f&&a.$watch(f,function(a){c.text(a)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants",function(a,b,c){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(d,e,f,g){var h=g[0],i=g[1];d.containerCtrl=i;var j=i.rowContainer,k=i.colContainer,l=h.grid;d.grid=h.grid,d.rowContainer=i.rowContainer,d.colContainer=i.colContainer,i.viewport=e,e.on("scroll",function(d){var f=e[0].scrollTop,g=a.normalizeScrollLeft(e),h=-1,i=-1;if(g!==k.prevScrollLeft){l.flagScrollingHorizontally();var m=g-k.prevScrollLeft;m>0&&(l.scrollDirection=c.scrollDirection.RIGHT),m<0&&(l.scrollDirection=c.scrollDirection.LEFT);var n=k.getCanvasWidth()-k.getViewportWidth();h=0!==n?g/n:0,k.adjustScrollHorizontal(g,h)}if(f!==j.prevScrollTop){l.flagScrollingVertically();var o=f-j.prevScrollTop;o>0&&(l.scrollDirection=c.scrollDirection.DOWN),o<0&&(l.scrollDirection=c.scrollDirection.UP);var p=j.getVerticalScrollLength();i=f/p,i>1&&(i=1),i<0&&(i=0),j.adjustScrollVertical(f,i)}var q=new b(l,j,k,b.Sources.ViewPortScroll);q.newScrollLeft=g,q.newScrollTop=f,h>-1&&(q.x={percentage:h}),i>-1&&(q.y={percentage:i}),q.fireScrollingEvent()})},controller:["$scope",function(a){this.rowStyle=function(b){var c=a.rowContainer,d=a.colContainer,e={};if(0===b&&0!==c.currentTopRow){var f=c.currentTopRow*c.grid.options.rowHeight;e["margin-top"]=f+"px"}return 0!==d.currentFirstColumn&&(d.grid.isRTL()?e["margin-right"]=d.columnOffset+"px":e["margin-left"]=d.columnOffset+"px"),e}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(a,b,c){a.$watch(c.uiGridVisible,function(a){b[a?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile","ScrollEvent",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){a&&a!==b&&(p.grid.options.columnDefs=a,p.grid.buildColumns({orderByColumnDefs:!0}).then(function(){p.grid.preCompileCellTemplates(),p.grid.callDataChangeCallbacks(f.dataChange.COLUMN)}))}function n(a){var b=new l(p.grid,null,null,"ui.grid.adjustInfiniteScrollPosition"),c=p.grid.renderContainers.body.visibleRowCache.length,d=(a+a/(c-1))/c;0===d?b.y={pixels:1}:b.y={percentage:d},b.fireScrollingEvent()}function o(b){var d=[];b&&(p.grid.columns.length===(p.grid.rowHeaderColumns?p.grid.rowHeaderColumns.length:0)&&!c.uiGridColumns&&0===p.grid.options.columnDefs.length&&b.length>0&&p.grid.buildColumnDefsFromData(b),(p.grid.options.columnDefs.length>0||b.length>0)&&d.push(p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates()})),e.all(d).then(function(){p.grid.modifyRows(b).then(function(){p.grid.redrawInPlace(!0),a.$evalAsync(function(){p.grid.refreshCanvas(!0),p.grid.callDataChangeCallbacks(f.dataChange.ROW),i(function(){p.grid.options.enableInfiniteScroll&&(0===p.grid.renderContainers.body.prevRowScrollIndex&&n(0),p.grid.scrollDirection===f.scrollDirection.UP&&n(p.grid.renderContainers.body.prevRowScrollIndex+1+p.grid.options.excessRows))},0)})})}))}var p=this;p.grid=h.createGrid(a.uiGrid),p.grid.appScope=p.grid.appScope||a.$parent,b.addClass("grid"+p.grid.id),p.grid.rtl="rtl"===d.getStyles(b[0]).direction,a.grid=p.grid,c.uiGridColumns&&c.$observe("uiGridColumns",function(a){p.grid.options.columnDefs=a,p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates(),p.grid.refreshCanvas(!0)})});var q;q=angular.isString(a.uiGrid.data)?a.$parent.$watchCollection(a.uiGrid.data,o):a.$parent.$watchCollection(function(){return a.uiGrid.data},o);var r=a.$parent.$watchCollection(function(){return a.uiGrid.columnDefs},m),s=a.$watch(function(){return p.grid.styleComputations},function(){p.grid.refreshCanvas(!0)});a.$on("$destroy",function(){q(),r(),s()}),p.fireEvent=function(b,c){"undefined"!=typeof c&&void 0!==c||(c={}),"undefined"!=typeof c.grid&&void 0!==c.grid||(c.grid=p.grid),a.$broadcast(b,c)},p.innerCompile=function(b){k(b)(a)}}]),angular.module("ui.grid").directive("uiGrid",["$compile","$templateCache","gridUtil","$window","uiGridConstants",function(a,b,c,d,e){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(a,b,f,g){function h(d){i.gridWidth=a.gridWidth=c.elementWidth(b),i.gridHeight=a.gridHeight=c.elementHeight(b),i.refreshCanvas(!0)}var i=g.grid;if(g.scrollbars=[],i.renderingComplete(),i.element=b,i.gridWidth=a.gridWidth=c.elementWidth(b),i.canvasWidth=g.grid.gridWidth,i.gridHeight=a.gridHeight=c.elementHeight(b),
i.gridHeight<i.options.rowHeight){var j=i.options.minRowsToShow*i.options.rowHeight,k=i.options.showHeader?i.options.headerRowHeight:0,l=i.calcFooterHeight(),m=0;i.options.enableHorizontalScrollbar===e.scrollbars.ALWAYS&&(m=c.getScrollbarWidth());var n=0;angular.forEach(i.options.columnDefs,function(a){a.hasOwnProperty("filter")?n<1&&(n=1):a.hasOwnProperty("filters")&&n<a.filters.length&&(n=a.filters.length)});var o=n*k,p=k+j+l+m+o;b.css("height",p+"px"),i.gridHeight=a.gridHeight=c.elementHeight(b)}i.refreshCanvas(),a.$watch(function(){return i.hasLeftContainer()},function(a,b){a!==b&&i.refreshCanvas(!0)}),a.$watch(function(){return i.hasRightContainer()},function(a,b){a!==b&&i.refreshCanvas(!0)}),angular.element(d).on("resize",h),b.on("$destroy",function(){angular.element(d).off("resize",h)})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(a){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(a,b,c,d){function e(){if("left"===a.side||"right"===a.side){for(var b=g.renderContainers[a.side].visibleColumnCache,c=0,d=0;d<b.length;d++){var e=b[d];c+=e.drawnWidth||e.width||0}h=c}}function f(){var c="";if("left"===a.side||"right"===a.side){e(),b.attr("style",null);var d=g.renderContainers.body.getViewportHeight();c+=".grid"+g.id+" .ui-grid-pinned-container-"+a.side+", .grid"+g.id+" .ui-grid-pinned-container-"+a.side+" .ui-grid-render-container-"+a.side+" .ui-grid-viewport { width: "+h+"px; height: "+d+"px; } "}return c}var g=d.grid,h=0;b.addClass("ui-grid-pinned-container-"+a.side),g.renderContainers.body.registerViewportAdjuster(function(a){return 0!==h&&h||e(),a.width-=h,a}),g.registerStyleComputation({priority:15,func:f})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){}var o=function(a){var b=this;if(void 0===a||"undefined"==typeof a.id||!a.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(a.id))throw new Error("Grid id '"+a.id+'" is invalid. It must follow CSS selector syntax rules.');b.id=a.id,delete a.id,b.options=f.initialize(a),b.appScope=b.options.appScopeProvider,b.headerHeight=b.options.headerRowHeight,b.footerHeight=b.calcFooterHeight(),b.rtl=!1,b.gridHeight=0,b.gridWidth=0,b.columnBuilders=[],b.rowBuilders=[],b.rowsProcessors=[],b.columnsProcessors=[],b.styleComputations=[],b.viewportAdjusters=[],b.rowHeaderColumns=[],b.dataChangeCallbacks={},b.renderContainers={},b.renderContainers.body=new l("body",b),b.cellValueGetterCache={},b.getRowTemplateFn=null,b.rows=[],b.columns=[],b.isScrollingVertically=!1,b.isScrollingHorizontally=!1,b.scrollDirection=e.scrollDirection.NONE;var c=d.debounce(function(){b.isScrollingVertically=!1,b.scrollDirection=e.scrollDirection.NONE},1e3),g=d.debounce(function(){b.isScrollingHorizontally=!1,b.scrollDirection=e.scrollDirection.NONE},1e3);b.flagScrollingVertically=function(){b.isScrollingVertically=!0,c()},b.flagScrollingHorizontally=function(){b.isScrollingHorizontally=!0,g()},b.scrollbarHeight=0,b.scrollbarWidth=0,b.options.enableHorizontalScrollbar===e.scrollbars.ALWAYS&&(b.scrollbarHeight=d.getScrollbarWidth()),b.options.enableVerticalScrollbar===e.scrollbars.ALWAYS&&(b.scrollbarWidth=d.getScrollbarWidth()),b.api=new i(b),b.api.registerMethod("core","refresh",this.refresh),b.api.registerMethod("core","refreshRows",this.refreshRows),b.api.registerMethod("core","handleWindowResize",this.handleWindowResize),b.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),b.api.registerMethod("core","sortHandleNulls",j.handleNulls),b.api.registerEvent("core","sortChanged"),b.api.registerEvent("core","columnVisibilityChanged"),b.api.registerMethod("core","notifyDataChange",this.notifyDataChange),b.registerDataChangeCallback(b.columnRefreshCallback,[e.dataChange.COLUMN]),b.registerDataChangeCallback(b.processRowsCallback,[e.dataChange.EDIT]),b.registerStyleComputation({priority:10,func:b.getFooterStyles})};return o.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var a=0;return this.options.showGridFooter&&(a+=this.options.gridFooterHeight),this.options.showColumnFooter&&(a+=this.options.columnFooterHeight),a},o.prototype.getFooterStyles=function(){var a=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return a+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},o.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},o.prototype.isRTL=function(){return this.rtl},o.prototype.registerColumnBuilder=function(a){this.columnBuilders.push(a)},o.prototype.buildColumnDefsFromData=function(a){this.options.columnDefs=d.getColumnsFromData(a,this.options.excludeProperties)},o.prototype.registerRowBuilder=function(a){this.rowBuilders.push(a)},o.prototype.registerDataChangeCallback=function(a,b,c){var f=d.nextUid();b||(b=[e.dataChange.ALL]),Array.isArray(b)||d.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+b),this.dataChangeCallbacks[f]={callback:a,types:b,_this:c};var g=this,h=function(){delete g.dataChangeCallbacks[f]};return h},o.prototype.callDataChangeCallbacks=function(a,b){angular.forEach(this.dataChangeCallbacks,function(b,c){b.types.indexOf(e.dataChange.ALL)===-1&&b.types.indexOf(a)===-1&&a!==e.dataChange.ALL||(b._this?b.callback.apply(b._this,this):b.callback(this))},this)},o.prototype.notifyDataChange=function(a){var b=e.dataChange;a===b.ALL||a===b.COLUMN||a===b.EDIT||a===b.ROW||a===b.OPTIONS?this.callDataChangeCallbacks(a):d.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+a)},o.prototype.columnRefreshCallback=function(a){a.buildColumns(),a.refresh()},o.prototype.processRowsCallback=function(a){a.refreshRows()},o.prototype.getColumn=function(a){var b=this.columns.filter(function(b){return b.colDef.name===a});return b.length>0?b[0]:null},o.prototype.getColDef=function(a){var b=this.options.columnDefs.filter(function(b){return b.name===a});return b.length>0?b[0]:null},o.prototype.assignTypes=function(){var a=this;a.options.columnDefs.forEach(function(b,c){if(!b.type){var e=new g(b,c,a),f=a.rows.length>0?a.rows[0]:null;f?b.type=d.guessType(a.getCellValue(f,e)):(d.logWarn("Unable to assign type from data, so defaulting to string"),b.type="string")}})},o.prototype.addRowHeaderColumn=function(a){var b=this,c=new g(a,d.nextUid(),b);c.isRowHeader=!0,b.isRTL()?(b.createRightContainer(),c.renderContainer="right"):(b.createLeftContainer(),c.renderContainer="left"),b.columnBuilders[0](a,c,b.options).then(function(){c.enableFiltering=!1,c.enableSorting=!1,c.enableHiding=!1,b.rowHeaderColumns.push(c),b.buildColumns().then(function(){b.preCompileCellTemplates(),b.refresh()})})},o.prototype.buildColumns=function(b){var c={orderByColumnDefs:!1};angular.extend(c,b);var e,f=this,h=[],i=f.rowHeaderColumns.length;for(e=0;e<f.columns.length;e++)f.getColDef(f.columns[e].name)||(f.columns.splice(e,1),e--);if(f.rowHeaderColumns.forEach(function(a){f.columns.unshift(a)}),f.options.columnDefs.forEach(function(a,b){f.preprocessColDef(a);var c=f.getColumn(a.name);c?c.updateColumnDef(a,!1):(c=new g(a,d.nextUid(),f),f.columns.splice(b+i,0,c)),f.columnBuilders.forEach(function(b){h.push(b.call(f,a,c,f.options))})}),c.orderByColumnDefs){var j=f.columns.slice(0);for(e=0;e<f.options.columnDefs.length;e++)f.columns[e+i].name!==f.options.columnDefs[e].name?j[e+i]=f.getColumn(f.options.columnDefs[e].name):j[e+i]=f.columns[e+i];f.columns.length=0,Array.prototype.splice.apply(f.columns,[0,0].concat(j))}return a.all(h).then(function(){f.rows.length>0&&f.assignTypes()})},o.prototype.preCompileCellTemplates=function(){var a=this;this.columns.forEach(function(c){var d=c.cellTemplate.replace(e.MODEL_COL_FIELD,a.getQualifiedColField(c));d=d.replace(e.COL_FIELD,"grid.getCellValue(row, col)");var f=b(d);c.compiledElementFn=f,c.compiledElementFnDefer&&c.compiledElementFnDefer.resolve(c.compiledElementFn)})},o.prototype.getQualifiedColField=function(a){return"row.entity."+d.preEval(a.field)},o.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new l("left",this,{disableColumnOffset:!0}))},o.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new l("right",this,{disableColumnOffset:!0}))},o.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},o.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},o.prototype.preprocessColDef=function(a){var b=this;if(!a.field&&!a.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===a.name&&void 0!==a.field){var c=b.getColumn(a.field);if(c){var d=new RegExp("^"+a.field+"(\\d+)$","i"),e=b.columns.filter(function(a){return d.test(a.displayName)}).sort(function(a,b){if(a===b)return 0;var c=a.displayName.match(d)[1],e=b.displayName.match(d)[1];return parseInt(c,10)>parseInt(e,10)?1:-1});if(0===e.length)a.name=a.field+"2";else{var f=e[e.length-1].displayName.match(d)[1];f=parseInt(f,10),a.name=a.field+(f+1)}}else a.name=a.field}},o.prototype.newInN=function(a,b,c,d){for(var e=this,f=[],g=0;g<b.length;g++){for(var h=d?b[g][d]:b[g],i=!1,j=0;j<a.length;j++){var k=c?a[j][c]:a[j];if(e.options.rowEquality(h,k)){i=!0;break}}i||f.push(h)}return f},o.prototype.getRow=function(a){var b=this,c=this.rows.filter(function(c){return b.options.rowEquality(c.entity,a)});return c.length>0?c[0]:null},o.prototype.modifyRows=function(b){var c,d,e,f,g=this;if((g.options.useExternalSorting||0===g.getColumnSorting().length)&&b.length>0){var i=g.rowHashMap;i||(i={get:function(){return null}}),g.createRowHashMap(),d=g.rowHashMap;0===g.rows.length;for(g.rows.length=0,c=0;c<b.length;c++){var j=b[c];e=i.get(j),f=e?e.row:g.processRowBuilders(new h(j,c,g)),g.rows.push(f),d.put(j,{i:c,entity:j,row:f})}g.assignTypes()}else if(0===g.rows.length&&b.length>0){if(g.options.enableRowHashing)for(g.rowHashMap||g.createRowHashMap(),c=0;c<b.length;c++)f=b[c],g.rowHashMap.put(f,{i:c,entity:f});g.addRows(b),g.assignTypes()}else if(b.length>0){var k,l,m;if(g.options.enableRowHashing){k=[],m=[];var n={};for(l=[],g.rowHashMap||g.createRowHashMap(),d=g.rowHashMap,c=0;c<b.length;c++){f=b[c];var o=!1;g.options.getRowIdentity(f)||(o=!0),e=d.get(f),e?e.row&&(n[g.options.rowIdentity(f)]=!0):(d.put(f,{i:c,entity:f}),o?m.push(f):k.push(f))}for(c=0;c<g.rows.length;c++){var p=g.rows[c],q=g.options.rowIdentity(p.entity);n[q]||l.push(p)}}var r=k||[],s=m||b;r=r.concat(g.newInN(g.rows,s,"entity")),g.addRows(r);var t=g.getDeletedRows(l||g.rows,b);for(c=0;c<t.length;c++)g.options.enableRowHashing&&g.rowHashMap.remove(t[c].entity),g.rows.splice(g.rows.indexOf(t[c]),1)}else g.createRowHashMap(),g.rows.length=0;var u=a.when(g.processRowsProcessors(g.rows)).then(function(a){return g.setVisibleRows(a)}),v=a.when(g.processColumnsProcessors(g.columns)).then(function(a){return g.setVisibleColumns(a)});return a.all([u,v])},o.prototype.getDeletedRows=function(a,b){var c=this,d=a.filter(function(a){return!b.some(function(b){return c.options.rowEquality(b,a.entity)})});return d},o.prototype.addRows=function(a){for(var b=this,c=b.rows.length,d=0;d<a.length;d++){var e=b.processRowBuilders(new h(a[d],d+c,b));if(b.options.enableRowHashing){var f=b.rowHashMap.get(e.entity);f&&(f.row=e)}b.rows.push(e)}},o.prototype.processRowBuilders=function(a){var b=this;return b.rowBuilders.forEach(function(c){c.call(b,a,b.options)}),a},o.prototype.registerStyleComputation=function(a){this.styleComputations.push(a)},o.prototype.registerRowsProcessor=function(a){if(!angular.isFunction(a))throw"Attempt to register non-function rows processor: "+a;this.rowsProcessors.push(a)},o.prototype.removeRowsProcessor=function(a){var b=this.rowsProcessors.indexOf(a);"undefined"!=typeof b&&void 0!==b&&this.rowsProcessors.splice(b,1)},o.prototype.processRowsProcessors=function(b){function c(b,e){var g=d.rowsProcessors[b];return a.when(g.call(d,e,d.columns)).then(function(a){if(!a)throw"Processor at index "+b+" did not return a set of renderable rows";if(!angular.isArray(a))throw"Processor at index "+b+" did not return an array";return b++,b<=d.rowsProcessors.length-1?c(b,a):void f.resolve(a)})}var d=this,e=b.slice(0);if(0===d.rowsProcessors.length)return a.when(e);var f=a.defer();return c(0,e),f.promise},o.prototype.setVisibleRows=function(a){var b=this;for(var c in b.renderContainers){var d=b.renderContainers[c];d.canvasHeightShouldUpdate=!0,"undefined"==typeof d.visibleRowCache?d.visibleRowCache=[]:d.visibleRowCache.length=0}for(var e=0;e<a.length;e++){var f=a[e];f.visible&&("undefined"!=typeof f.renderContainer&&f.renderContainer?b.renderContainers[f.renderContainer].visibleRowCache.push(f):b.renderContainers.body.visibleRowCache.push(f))}b.api.core.raise.rowsRendered(this.api)},o.prototype.registerColumnsProcessor=function(a){if(!angular.isFunction(a))throw"Attempt to register non-function rows processor: "+a;this.columnsProcessors.push(a)},o.prototype.removeColumnsProcessor=function(a){var b=this.columnsProcessors.indexOf(a);"undefined"!=typeof b&&void 0!==b&&this.columnsProcessors.splice(b,1)},o.prototype.processColumnsProcessors=function(b){function c(b,g){var h=d.columnsProcessors[b];return a.when(h.call(d,g,d.rows)).then(function(a){if(!a)throw"Processor at index "+b+" did not return a set of renderable rows";if(!angular.isArray(a))throw"Processor at index "+b+" did not return an array";return b++,b<=d.columnsProcessors.length-1?c(b,e):void f.resolve(e)})}var d=this,e=b.slice(0);if(0===d.columnsProcessors.length)return a.when(e);var f=a.defer();return c(0,e),f.promise},o.prototype.setVisibleColumns=function(a){var b=this;for(var c in b.renderContainers){var d=b.renderContainers[c];d.visibleColumnCache.length=0}for(var e=0;e<a.length;e++){var f=a[e];f.visible&&("undefined"!=typeof f.renderContainer&&f.renderContainer?b.renderContainers[f.renderContainer].visibleColumnCache.push(f):b.renderContainers.body.visibleColumnCache.push(f))}},o.prototype.handleWindowResize=function(a){var b=this;b.gridWidth=d.elementWidth(b.element),b.gridHeight=d.elementHeight(b.element),b.queueRefresh()},o.prototype.queueRefresh=function(){var a=this;return a.refreshCanceller&&m.cancel(a.refreshCanceller),a.refreshCanceller=m(function(){a.refreshCanvas(!0)}),a.refreshCanceller.then(function(){a.refreshCanceller=null}),a.refreshCanceller},o.prototype.updateCanvasHeight=function(){var a=this;for(var b in a.renderContainers)if(a.renderContainers.hasOwnProperty(b)){var c=a.renderContainers[b];c.canvasHeightShouldUpdate=!0}},o.prototype.buildStyles=function(){var a=this;a.customStyles="",a.styleComputations.sort(function(a,b){return null===a.priority?1:null===b.priority?-1:null===a.priority&&null===b.priority?0:a.priority-b.priority}).forEach(function(b){var c=b.func.call(a);angular.isString(c)&&(a.customStyles+="\n"+c)})},o.prototype.minColumnsToRender=function(){var a=this,b=this.getViewportWidth(),c=0,d=0;return a.columns.forEach(function(e,f){if(d<b)d+=e.drawnWidth,c++;else{for(var g=0,h=f;h>=f-c;h--)g+=a.columns[h].drawnWidth;g<b&&c++}}),c},o.prototype.getBodyHeight=function(){var a=this.getViewportHeight();return a},o.prototype.getViewportHeight=function(){var a=this,b=this.gridHeight-this.headerHeight-this.footerHeight,c=a.getViewportAdjustment();return b+=c.height},o.prototype.getViewportWidth=function(){var a=this,b=this.gridWidth,c=a.getViewportAdjustment();return b+=c.width},o.prototype.getHeaderViewportWidth=function(){var a=this.getViewportWidth();return a},o.prototype.registerViewportAdjuster=function(a){this.viewportAdjusters.push(a)},o.prototype.removeViewportAdjuster=function(a){var b=this.viewportAdjusters.indexOf(a);"undefined"!=typeof b&&void 0!==b&&this.viewportAdjusters.splice(b,1)},o.prototype.getViewportAdjustment=function(){var a=this,b={height:0,width:0};return a.viewportAdjusters.forEach(function(a){b=a.call(this,b)}),b},o.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},o.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},o.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},o.prototype.searchRows=function(a){return k.search(this,a,this.columns)},o.prototype.sortByColumn=function(a){return j.sort(this,a,this.columns)},o.prototype.getCellValue=function(a,b){var d=this;return d.cellValueGetterCache[b.colDef.name]||(d.cellValueGetterCache[b.colDef.name]=c(a.getEntityQualifiedColField(b))),d.cellValueGetterCache[b.colDef.name](a)},o.prototype.getNextColumnSortPriority=function(){var a=this,b=0;return a.columns.forEach(function(a){a.sort&&a.sort.priority&&a.sort.priority>b&&(b=a.sort.priority)}),b+1},o.prototype.resetColumnSorting=function(a){var b=this;b.columns.forEach(function(b){b===a||b.colDef.suppressRemoveSort||(b.sort={})})},o.prototype.getColumnSorting=function(){var a,b=this,c=[];return a=b.columns.slice(0),a.sort(j.prioritySort).forEach(function(a){a.sort&&"undefined"!=typeof a.sort.direction&&a.sort.direction&&(a.sort.direction===e.ASC||a.sort.direction===e.DESC)&&c.push(a)}),c},o.prototype.sortColumn=function(b,c,d){var f=this,g=null;if("undefined"==typeof b||!b)throw new Error("No column parameter provided");return"boolean"==typeof c?d=c:g=c,d?b.sort.priority=f.getNextColumnSortPriority():(f.resetColumnSorting(b),b.sort.priority=0),g?b.sort.direction=g:b.sort.direction&&b.sort.direction===e.ASC?b.sort.direction=e.DESC:b.sort.direction&&b.sort.direction===e.DESC?b.colDef&&b.colDef.suppressRemoveSort?b.sort.direction=e.ASC:b.sort.direction=null:b.sort.direction=e.ASC,f.api.core.raise.sortChanged(f,f.getColumnSorting()),a.when(b)},o.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},o.prototype.createRowHashMap=function(){var a=this,b=new n;b.grid=a,a.rowHashMap=b},o.prototype.refresh=function(b){var c=this,d=c.processRowsProcessors(c.rows).then(function(a){c.setVisibleRows(a)}),e=c.processColumnsProcessors(c.columns).then(function(a){c.setVisibleColumns(a)});return a.all([d,e]).then(function(){c.redrawInPlace(b),c.refreshCanvas(!0)})},o.prototype.refreshRows=function(){var a=this;return a.processRowsProcessors(a.rows).then(function(b){a.setVisibleRows(b),a.redrawInPlace(),a.refreshCanvas(!0)})},o.prototype.refreshCanvas=function(b){var c=this;b&&c.buildStyles();var e=a.defer(),f=[];for(var g in c.renderContainers)if(c.renderContainers.hasOwnProperty(g)){var h=c.renderContainers[g];if(null===h.canvasWidth||isNaN(h.canvasWidth))continue;(h.header||h.headerCanvas)&&f.push(h)}return m(f.length>0?function(){var a,g,h=!1,i=0,j=0;for(a=0;a<f.length;a++)if(g=f[a],null!==g.canvasWidth&&!isNaN(g.canvasWidth)){if(g.header){var k=g.headerHeight,l=d.outerElementHeight(g.header);g.headerHeight=parseInt(l,10),k!==l&&(h=!0);var m=d.getBorderSize(g.header,"top"),n=d.getBorderSize(g.header,"bottom"),o=parseInt(l-m-n,10);o=o<0?0:o,g.innerHeaderHeight=o,o>i&&(i=o)}if(g.headerCanvas){var p=g.headerCanvasHeight,q=d.outerElementHeight(g.headerCanvas);g.headerCanvasHeight=parseInt(q,10),p!==q&&(h=!0),q>j&&(j=q)}}for(a=0;a<f.length;a++)g=f[a],i>0&&"undefined"!=typeof g.headerHeight&&null!==g.headerHeight&&g.headerHeight<i&&(g.explicitHeaderHeight=i),"undefined"!=typeof g.headerCanvasHeight&&null!==g.headerCanvasHeight&&j>0&&g.headerCanvasHeight<j&&(g.explicitHeaderCanvasHeight=j);b&&h&&c.buildStyles(),e.resolve()}:function(){e.resolve()}),e.promise},o.prototype.redrawInPlace=function(a){var b=this;for(var c in b.renderContainers){var d=b.renderContainers[c];a?(d.adjustRows(d.prevScrollTop,null),d.adjustColumns(d.prevScrollTop,null)):(d.adjustRows(null,d.prevScrolltopPercentage),d.adjustColumns(null,d.prevScrollleftPercentage))}},o.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},o.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},n.prototype={put:function(a,b){this[this.grid.options.rowIdentity(a)]=b},get:function(a){return this[this.grid.options.rowIdentity(a)]},remove:function(a){var b=this[a=this.grid.options.rowIdentity(a)];return delete this[a],b}},o}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(a,b,c,d,e,f){function g(a,c,d,e){return b.$on(a,function(a){var b=Array.prototype.slice.call(arguments);b.splice(0,1),c.apply(e?e:d.api,b)})}var h=function(a){this.grid=a,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",e.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",e.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollEvent"),this.registerEvent("core","canvasHeightChanged")};return h.prototype.suppressEvents=function(a,b){var c=this,d=angular.isArray(a)?a:[a],e=[];d.forEach(function(a){e=c.listeners.filter(function(b){return a===b.handler})}),e.forEach(function(a){a.dereg()}),b(),e.forEach(function(a){a.dereg=g(a.eventId,a.handler,c.grid,a._this)})},h.prototype.registerEvent=function(a,c){var d=this;d[a]||(d[a]={});var e=d[a];e.on||(e.on={},e.raise={});var f=d.grid.id+a+c;e.raise[c]=function(){b.$emit.apply(b,[f].concat(Array.prototype.slice.call(arguments)))},e.on[c]=function(a,b,c){var e=g(f,b,d.grid,c),h={handler:b,dereg:e,eventId:f,scope:a,_this:c};d.listeners.push(h);var i=function(){h.dereg();var a=d.listeners.indexOf(h);d.listeners.splice(a,1)};return a.$on("$destroy",function(){i()}),i}},h.prototype.registerEventsFromObject=function(a){var b=this,c=[];angular.forEach(a,function(a,b){var d={name:b,events:[]};angular.forEach(a,function(a,b){d.events.push(b)}),c.push(d)}),c.forEach(function(a){a.events.forEach(function(c){b.registerEvent(a.name,c)})})},h.prototype.registerMethod=function(a,b,d,e){this[a]||(this[a]={});var f=this[a];f[b]=c.createBoundedWrapper(e||this.grid,d)},h.prototype.registerMethodsFromObject=function(a,b){var c=this,d=[];angular.forEach(a,function(a,b){var c={name:b,methods:[]};angular.forEach(a,function(a,b){c.methods.push({name:b,fn:a})}),d.push(c)}),d.forEach(function(a){a.methods.forEach(function(d){c.registerMethod(a.name,d.name,d.fn,b)})})},h}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(a,b,c){function d(a,b,c){var d=this;d.grid=c,d.uid=b,d.updateColumnDef(a,!0)}return d.prototype.setPropertyOrDefault=function(a,b,c){var d=this;"undefined"!=typeof a[b]&&a[b]?d[b]=a[b]:"undefined"!=typeof d[b]?d[b]=d[b]:d[b]=c?c:{}},d.prototype.updateColumnDef=function(b,c){var e=this;if(e.colDef=b,void 0===b.name)throw new Error("colDef.name is required for column at index "+e.grid.options.columnDefs.indexOf(b));e.displayName=void 0===b.displayName?a.readableColumnName(b.name):b.displayName;var f="Cannot parse column width '"+b.width+"' for column named '"+b.name+"'";if(a.isNullOrUndefined(e.width)||!angular.isNumber(e.width))if(a.isNullOrUndefined(b.width))e.width="*";else if(angular.isNumber(b.width))e.width=b.width;else if(a.endsWith(b.width,"%")){var g=b.width.replace(/%/g,""),h=parseInt(g,10);if(isNaN(h))throw new Error(f);e.width=b.width}else if(b.width.match(/^(\d+)$/))e.width=parseInt(b.width.match(/^(\d+)$/)[1],10);else{if(!b.width.match(/^\*+$/))throw new Error(f);e.width=b.width}e.minWidth=b.minWidth?b.minWidth:30,e.maxWidth=b.maxWidth?b.maxWidth:9e3,e.field=void 0===b.field?b.name:b.field,"string"!=typeof e.field&&a.logError("Field is not a string, this is likely to break the code, Field is: "+e.field),e.name=b.name,e.displayName=void 0===b.displayName?a.readableColumnName(b.name):b.displayName,e.aggregationType=angular.isDefined(b.aggregationType)?b.aggregationType:null,e.footerCellTemplate=angular.isDefined(b.footerCellTemplate)?b.footerCellTemplate:null,e.footerCellClass=b.footerCellClass,e.cellClass=b.cellClass,e.headerCellClass=b.headerCellClass,e.cellFilter=b.cellFilter?b.cellFilter:"",e.headerCellFilter=b.headerCellFilter?b.headerCellFilter:"",e.footerCellFilter=b.footerCellFilter?b.footerCellFilter:"",e.visible=a.isNullOrUndefined(b.visible)||b.visible,e.headerClass=b.headerClass,e.enableSorting="undefined"==typeof b.enableSorting||b.enableSorting,e.sortingAlgorithm=b.sortingAlgorithm,e.enableFiltering="undefined"==typeof b.enableFiltering||b.enableFiltering,e.setPropertyOrDefault(b,"menuItems",[]),c&&e.setPropertyOrDefault(b,"sort");var i=[];b.filter?i.push(b.filter):e.enableFiltering&&e.grid.options.enableFiltering&&i.push({}),c&&(e.setPropertyOrDefault(b,"filter"),e.setPropertyOrDefault(b,"filters",i)),d.prototype.unsort=function(){this.sort={},e.grid.api.core.raise.sortChanged(e,e.grid.getColumnSorting())}},d.prototype.getColClass=function(a){var c=b.COL_CLASS_PREFIX+this.uid;return a?"."+c:c},d.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},d.prototype.getRenderContainer=function(){var a=this,b=a.renderContainer;return null!==b&&""!==b&&void 0!==b||(b="body"),a.grid.renderContainers[b]},d.prototype.showColumn=function(){this.colDef.visible=!0},d.prototype.hideColumn=function(){this.colDef.visible=!1},d.prototype.getAggregationValue=function(){var a=this,c=0,d=a.grid.getVisibleRows(),e=function(){var b=[];return angular.forEach(d,function(c){var d=a.grid.getCellValue(c,a);angular.isNumber(d)&&b.push(d)}),b};return angular.isFunction(a.aggregationType)?a.aggregationType(d,a):a.aggregationType===b.aggregationTypes.count?a.grid.getVisibleRowCount():a.aggregationType===b.aggregationTypes.sum?(angular.forEach(e(),function(a){c+=a}),c):a.aggregationType===b.aggregationTypes.avg?(angular.forEach(e(),function(a){c+=a}),c/=e().length):a.aggregationType===b.aggregationTypes.min?Math.min.apply(null,e()):a.aggregationType===b.aggregationTypes.max?Math.max.apply(null,e()):""},d.prototype.getAggregationText=function(){var a=this;if(a.colDef.aggregationHideLabel)return"";if(a.colDef.aggregationLabel)return a.colDef.aggregationLabel;switch(a.colDef.aggregationType){case b.aggregationTypes.count:return c.getSafeText("aggregation.count");case b.aggregationTypes.sum:return c.getSafeText("aggregation.sum");case b.aggregationTypes.avg:return c.getSafeText("aggregation.avg");case b.aggregationTypes.min:return c.getSafeText("aggregation.min");case b.aggregationTypes.max:return c.getSafeText("aggregation.max");default:return""}},d.prototype.getCellTemplate=function(){var a=this;return a.cellTemplatePromise},d.prototype.getCompiledElementFn=function(){var a=this;return a.compiledElementFnDefer.promise},d}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(a,b){return{initialize:function(c){return c.onRegisterApi=c.onRegisterApi||angular.noop(),c.data=c.data||[],c.columnDefs=c.columnDefs||[],c.excludeProperties=c.excludeProperties||["$$hashKey"],c.enableRowHashing=c.enableRowHashing!==!1,c.rowIdentity=c.rowIdentity||function(b){return a.hashKey(b)},c.getRowIdentity=c.getRowIdentity||function(a){return a.$$hashKey},c.showHeader="undefined"==typeof c.showHeader||c.showHeader,c.showHeader?c.headerRowHeight="undefined"!=typeof c.headerRowHeight?c.headerRowHeight:30:c.headerRowHeight=0,c.rowHeight=c.rowHeight||30,c.minRowsToShow="undefined"!=typeof c.minRowsToShow?c.minRowsToShow:10,c.showGridFooter=c.showGridFooter===!0,c.showColumnFooter=c.showColumnFooter===!0,c.columnFooterHeight="undefined"!=typeof c.columnFooterHeight?c.columnFooterHeight:30,c.gridFooterHeight="undefined"!=typeof c.gridFooterHeight?c.gridFooterHeight:30,c.columnWidth="undefined"!=typeof c.columnWidth?c.columnWidth:50,c.maxVisibleColumnCount="undefined"!=typeof c.maxVisibleColumnCount?c.maxVisibleColumnCount:200,c.virtualizationThreshold="undefined"!=typeof c.virtualizationThreshold?c.virtualizationThreshold:20,c.columnVirtualizationThreshold="undefined"!=typeof c.columnVirtualizationThreshold?c.columnVirtualizationThreshold:10,c.excessRows="undefined"!=typeof c.excessRows?c.excessRows:4,c.scrollThreshold="undefined"!=typeof c.scrollThreshold?c.scrollThreshold:4,c.excessColumns="undefined"!=typeof c.excessColumns?c.excessColumns:4,c.horizontalScrollThreshold="undefined"!=typeof c.horizontalScrollThreshold?c.horizontalScrollThreshold:2,c.scrollThrottle="undefined"!=typeof c.scrollThrottle?c.scrollThrottle:70,c.enableSorting=c.enableSorting!==!1,c.enableFiltering=c.enableFiltering===!0,c.enableColumnMenus=c.enableColumnMenus!==!1,c.enableVerticalScrollbar="undefined"!=typeof c.enableVerticalScrollbar?c.enableVerticalScrollbar:b.scrollbars.ALWAYS,c.enableHorizontalScrollbar="undefined"!=typeof c.enableHorizontalScrollbar?c.enableHorizontalScrollbar:b.scrollbars.ALWAYS,c.minimumColumnSize="undefined"!=typeof c.minimumColumnSize?c.minimumColumnSize:10,c.rowEquality=c.rowEquality||function(a,b){return a===b},c.headerTemplate=c.headerTemplate||null,c.footerTemplate=c.footerTemplate||null,c.rowTemplate=c.rowTemplate||"ui-grid/ui-grid-row",c.appScopeProvider=c.appScopeProvider||null,c}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(a,b){function c(a,b,c){var d=this;d.name=a,d.grid=b,d.visibleRowCache=[],d.visibleColumnCache=[],d.renderedRows=[],d.renderedColumns=[],d.prevScrollTop=0,d.prevScrolltopPercentage=0,d.prevRowScrollIndex=0,d.prevScrollLeft=0,d.prevScrollleftPercentage=0,d.prevColumnScrollIndex=0,d.columnStyles="",d.viewportAdjusters=[],d.canvasHeightShouldUpdate=!0,d.$$canvasHeight=0,c&&angular.isObject(c)&&angular.extend(d,c),b.registerStyleComputation({priority:5,func:function(){return d.columnStyles}})}return c.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},c.prototype.minRowsToRender=function(){for(var a=this,b=0,c=0,d=a.getViewportHeight(),e=a.visibleRowCache.length-1;c<d&&e>=0;e--)c+=a.visibleRowCache[e].height,b++;return b},c.prototype.minColumnsToRender=function(){for(var a=this,b=this.getViewportWidth(),c=0,d=0,e=0;e<a.visibleColumnCache.length;e++){var f=a.visibleColumnCache[e];if(d<b)d+=f.drawnWidth?f.drawnWidth:0,c++;else{for(var g=0,h=e;h>=e-c;h--)g+=a.visibleColumnCache[h].drawnWidth?a.visibleColumnCache[h].drawnWidth:0;g<b&&c++}}return c},c.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},c.prototype.registerViewportAdjuster=function(a){this.viewportAdjusters.push(a)},c.prototype.removeViewportAdjuster=function(a){var b=this.viewportAdjusters.indexOf(a);"undefined"!=typeof b&&void 0!==b&&this.viewportAdjusters.splice(b,1)},c.prototype.getViewportAdjustment=function(){var a=this,b={height:0,width:0};return a.viewportAdjusters.forEach(function(a){b=a.call(this,b)}),b},c.prototype.getViewportHeight=function(){var a=this,b=a.headerHeight?a.headerHeight:a.grid.headerHeight,c=a.grid.gridHeight-b-a.grid.footerHeight,d=a.getViewportAdjustment();return c+=d.height;
},c.prototype.getViewportWidth=function(){var a=this,b=a.grid.gridWidth,c=a.getViewportAdjustment();return b+=c.width},c.prototype.getHeaderViewportWidth=function(){var a=this.getViewportWidth();return a},c.prototype.getCanvasHeight=function(){var a=this;if(!a.canvasHeightShouldUpdate)return a.$$canvasHeight;var b=a.$$canvasHeight;return a.$$canvasHeight=0,a.visibleRowCache.forEach(function(b){a.$$canvasHeight+=b.height}),a.canvasHeightShouldUpdate=!1,a.grid.api.core.raise.canvasHeightChanged(b,a.$$canvasHeight),a.$$canvasHeight},c.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},c.prototype.getCanvasWidth=function(){var a=this,b=a.canvasWidth;return b},c.prototype.setRenderedRows=function(a){this.renderedRows.length=a.length;for(var b=0;b<a.length;b++)this.renderedRows[b]=a[b]},c.prototype.setRenderedColumns=function(a){this.renderedColumns.length=a.length;for(var b=0;b<a.length;b++)this.renderedColumns[b]=a[b];this.updateColumnOffset()},c.prototype.updateColumnOffset=function(){for(var a=0,b=0;b<this.currentFirstColumn;b++)a+=this.visibleColumnCache[b].drawnWidth;this.columnOffset=a},c.prototype.adjustScrollVertical=function(a,b,c){(this.prevScrollTop!==a||c)&&("undefined"!=typeof a&&void 0!==a&&null!==a||(a=(this.getCanvasHeight()-this.getCanvasWidth())*b),this.adjustRows(a,b,!1),this.prevScrollTop=a,this.prevScrolltopPercentage=b,this.grid.queueRefresh())},c.prototype.adjustScrollHorizontal=function(a,b,c){(this.prevScrollLeft!==a||c)&&("undefined"!=typeof a&&void 0!==a&&null!==a||(a=(this.getCanvasWidth()-this.getViewportWidth())*b),this.adjustColumns(a,b),this.prevScrollLeft=a,this.prevScrollleftPercentage=b,this.grid.queueRefresh())},c.prototype.adjustRows=function(a,c,d){var e=this,f=e.minRowsToRender(),g=e.visibleRowCache,h=g.length-f;"undefined"!=typeof c&&null!==c||!a||(c=a/e.getVerticalScrollLength());var i=Math.ceil(Math.min(h,h*c));i>h&&(i=h);var j=[];if(g.length>e.grid.options.virtualizationThreshold){if("undefined"!=typeof a&&null!==a){if(!e.grid.options.enableInfiniteScroll&&e.prevScrollTop<a&&i<e.prevRowScrollIndex+e.grid.options.scrollThreshold&&i<h)return;if(!e.grid.options.enableInfiniteScroll&&e.prevScrollTop>a&&i>e.prevRowScrollIndex-e.grid.options.scrollThreshold&&i<h)return}var k={},l={};if(e.grid.options.enableInfiniteScroll&&e.grid.scrollDirection!==b.scrollDirection.NONE&&d){var m=null,n=null;if(e.grid.scrollDirection===b.scrollDirection.UP){for(m=i>0?e.grid.options.excessRows:0,n=0;n<g.length;n++)if(g[n].entity.$$hashKey===e.renderedRows[m].entity.$$hashKey){i=n;break}k=Math.max(0,i),l=Math.min(g.length,k+e.grid.options.excessRows+f)}else if(e.grid.scrollDirection===b.scrollDirection.DOWN){for(m=f,n=0;n<g.length;n++)if(g[n].entity.$$hashKey===e.renderedRows[m].entity.$$hashKey){i=n;break}k=Math.max(0,i-e.grid.options.excessRows-f),l=Math.min(g.length,i+f+e.grid.options.excessRows)}}else k=Math.max(0,i-e.grid.options.excessRows),l=Math.min(g.length,i+f+e.grid.options.excessRows);j=[k,l]}else{var o=e.visibleRowCache.length;j=[0,Math.max(o,f+e.grid.options.excessRows)]}e.updateViewableRowRange(j),e.prevRowScrollIndex=i},c.prototype.adjustColumns=function(a,b){var c=this,d=c.minColumnsToRender(),e=c.visibleColumnCache,f=e.length-d;"undefined"!=typeof b&&null!==b||!a||(b=a/c.getCanvasWidth());var g=Math.ceil(Math.min(f,f*b));g>f&&(g=f);var h=[];if(e.length>c.grid.options.columnVirtualizationThreshold&&c.getCanvasWidth()>c.getViewportWidth()){var i=Math.max(0,g-c.grid.options.excessColumns),j=Math.min(e.length,g+d+c.grid.options.excessColumns);h=[i,j]}else{var k=c.visibleColumnCache.length;h=[0,Math.max(k,d+c.grid.options.excessColumns)]}c.updateViewableColumnRange(h),c.prevColumnScrollIndex=g},c.prototype.updateViewableRowRange=function(a){var b=this.visibleRowCache.slice(a[0],a[1]);this.currentTopRow=a[0],this.setRenderedRows(b)},c.prototype.updateViewableColumnRange=function(a){var b=this.visibleColumnCache.slice(a[0],a[1]);this.currentFirstColumn=a[0],this.setRenderedColumns(b)},c.prototype.headerCellWrapperStyle=function(){var a=this;if(0!==a.currentFirstColumn){var b=a.columnOffset;return a.grid.isRTL()?{"margin-right":b+"px"}:{"margin-left":b+"px"}}return null},c.prototype.updateColumnWidths=function(){var b,c=this,d=[],e=[],f=0,g=c.getViewportWidth()-c.grid.scrollbarWidth,h=0,i=0,j="",k=c.visibleColumnCache;k.forEach(function(b,c){if(b.visible){var g=!1;angular.isNumber(b.width)||(g=isNaN(b.width)&&a.endsWith(b.width,"%")),angular.isString(b.width)&&b.width.indexOf("*")!==-1?(f=parseInt(f+b.width.length,10),d.push(b)):g?e.push(b):angular.isNumber(b.width)&&(h=parseInt(h+b.width,10),i=parseInt(i,10)+parseInt(b.width,10),b.drawnWidth=b.width)}});var l,m,n,o=g-h;if(e.length>0){for(l=0;l<e.length;l++){m=e[l];var p=parseInt(m.width.replace(/%/g,""),10)/100;n=parseInt(p*o,10),m.colDef.minWidth&&n<m.colDef.minWidth?(n=m.colDef.minWidth,o-=n,i+=n,m.drawnWidth=n,e.splice(l,1)):m.colDef.maxWidth&&n>m.colDef.maxWidth&&(n=m.colDef.maxWidth,o-=n,i+=n,m.drawnWidth=n,e.splice(l,1))}e.forEach(function(a){var b=parseInt(a.width.replace(/%/g,""),10)/100,c=parseInt(b*o,10);i+=c,a.drawnWidth=c})}if(d.length>0){var q=parseInt(o/f,10);for(l=0;l<d.length;l++)m=d[l],n=parseInt(q*m.width.length,10),m.colDef.minWidth&&n<m.colDef.minWidth?(n=m.colDef.minWidth,o-=n,f--,i+=n,m.drawnWidth=n,b=m,d.splice(l,1)):m.colDef.maxWidth&&n>m.colDef.maxWidth&&(n=m.colDef.maxWidth,o-=n,f--,i+=n,m.drawnWidth=n,d.splice(l,1));q=parseInt(o/f,10),d.forEach(function(a){var b=parseInt(q*a.width.length,10);i+=b,a.drawnWidth=b})}var r=g-parseInt(i,10);if(r>0&&i>0&&i<g){var s=!1;if(k.forEach(function(a){a.width&&!angular.isNumber(a.width)&&(s=!0)}),s)for(var t=function(a){r>0&&(a.drawnWidth=a.drawnWidth+1,i+=1,r--)};r>0;)k.forEach(t)}i<g&&(i=g),k.forEach(function(a){j+=a.getColClassDefinition()}),c.canvasWidth=parseInt(i,10),this.columnStyles=j},c.prototype.getViewPortStyle=function(){var a=this,c={};return"body"===a.name?(c["overflow-x"]=a.grid.options.enableHorizontalScrollbar===b.scrollbars.NEVER?"hidden":"scroll",a.grid.isRTL()?a.grid.hasLeftContainerColumns()?c["overflow-y"]="hidden":c["overflow-y"]=a.grid.options.enableVerticalScrollbar===b.scrollbars.NEVER?"hidden":"scroll":a.grid.hasRightContainerColumns()?c["overflow-y"]="hidden":c["overflow-y"]=a.grid.options.enableVerticalScrollbar===b.scrollbars.NEVER?"hidden":"scroll"):"left"===a.name?(c["overflow-x"]="hidden",c["overflow-y"]=a.grid.isRTL()?a.grid.options.enableVerticalScrollbar===b.scrollbars.NEVER?"hidden":"scroll":"hidden"):(c["overflow-x"]="hidden",c["overflow-y"]=a.grid.isRTL()?"hidden":a.grid.options.enableVerticalScrollbar===b.scrollbars.NEVER?"hidden":"scroll"),c},c}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(a){function b(b,c,d){this.grid=d,this.entity=b,this.uid=a.nextUid(),this.visible=!0,this.$$height=d.options.rowHeight}return Object.defineProperty(b.prototype,"height",{get:function(){return this.$$height},set:function(a){a!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=a)}}),b.prototype.getQualifiedColField=function(a){return"row."+this.getEntityQualifiedColField(a)},b.prototype.getEntityQualifiedColField=function(b){return a.preEval("entity."+b.field)},b.prototype.setRowInvisible=function(a){null!==a&&(a.forceInvisible=!0,a.visible&&(a.visible=!1,a.grid.refresh(),a.grid.api.core.raise.rowsVisibleChanged()))},b.prototype.clearRowInvisible=function(a){null!==a&&(a.forceInvisible=!1,a.visible||(a.visible=!0,a.grid.refresh(),a.grid.api.core.raise.rowsVisibleChanged()))},b}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(a){function b(b,c,d,e){var f=this;if(!b)throw new Error("grid argument is required");f.grid=b,f.source=e,f.sourceRowContainer=c,f.sourceColContainer=d,f.newScrollLeft=null,f.newScrollTop=null,f.x=null,f.y=null,f.fireThrottledScrollingEvent=a.throttle(function(){f.grid.api.core.raise.scrollEvent(f)},f.grid.options.scrollThrottle,{trailing:!0})}return b.prototype.fireScrollingEvent=function(){this.grid.api.core.raise.scrollEvent(this)},b.prototype.getNewScrollLeft=function(b,c){var d=this;if(!d.newScrollLeft){var e,f=b.getCanvasWidth()-b.getViewportWidth(),g=a.normalizeScrollLeft(c);if("undefined"!=typeof d.x.percentage&&void 0!==d.x.percentage)e=d.x.percentage;else{if("undefined"==typeof d.x.pixels||void 0===d.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");e=d.x.percentage=(g+d.x.pixels)/f}return Math.max(0,e*f)}return d.newScrollLeft},b.prototype.getNewScrollTop=function(a,b){var c=this;if(!c.newScrollTop){var d,e=a.getVerticalScrollLength(),f=b[0].scrollTop;if("undefined"!=typeof c.y.percentage&&void 0!==c.y.percentage)d=c.y.percentage;else{if("undefined"==typeof c.y.pixels||void 0===c.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");d=c.y.percentage=(f+c.y.pixels)/e}return Math.max(0,d*e)}return c.newScrollTop},b.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},b}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(a,b,c,d,e,f,g,h){var i={createGrid:function(d){d="undefined"!=typeof d?d:{},d.id=a.newId();var e=new f(d);if(e.options.rowTemplate){var g=b.defer();e.getRowTemplateFn=g.promise,a.getTemplate(e.options.rowTemplate).then(function(a){var b=c(a);g.resolve(b)},function(a){throw new Error("Couldn't fetch/use row template '"+e.options.rowTemplate+"'")})}return e.registerColumnBuilder(i.defaultColumnBuilder),e.registerRowBuilder(i.rowTemplateAssigner),e.registerRowsProcessor(function(a){return a.forEach(function(a){a.visible=!a.forceInvisible}),a}),e.registerColumnsProcessor(function(a){return a.forEach(function(a){a.visible=!0}),a}),e.registerColumnsProcessor(function(a){return a.forEach(function(a){a.colDef.visible===!1&&(a.visible=!1)}),a}),e.options.enableFiltering&&e.registerRowsProcessor(e.searchRows),e.options.externalSort&&angular.isFunction(e.options.externalSort)?e.registerRowsProcessor(e.options.externalSort):e.registerRowsProcessor(e.sortByColumn),e},defaultColumnBuilder:function(c,d,f){var g=[];return c.headerCellTemplate?d.providedHeaderCellTemplate=c.headerCellTemplate:d.providedHeaderCellTemplate="ui-grid/uiGridHeaderCell",c.cellTemplate?d.providedCellTemplate=c.cellTemplate:d.providedCellTemplate="ui-grid/uiGridCell",c.footerCellTemplate?d.providedFooterCellTemplate=c.footerCellTemplate:d.providedFooterCellTemplate="ui-grid/uiGridFooterCell",d.cellTemplatePromise=a.getTemplate(d.providedCellTemplate),g.push(d.cellTemplatePromise.then(function(a){d.cellTemplate=a.replace(e.CUSTOM_FILTERS,d.cellFilter?"|"+d.cellFilter:"")},function(a){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+c.cellTemplate+"'")})),g.push(a.getTemplate(d.providedHeaderCellTemplate).then(function(a){d.headerCellTemplate=a.replace(e.CUSTOM_FILTERS,d.headerCellFilter?"|"+d.headerCellFilter:"")},function(a){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+c.headerCellTemplate+"'")})),g.push(a.getTemplate(d.providedFooterCellTemplate).then(function(a){d.footerCellTemplate=a.replace(e.CUSTOM_FILTERS,d.footerCellFilter?"|"+d.footerCellFilter:"")},function(a){throw new Error("Couldn't fetch/use colDef.footerCellTemplate '"+c.footerCellTemplate+"'")})),d.compiledElementFnDefer=b.defer(),b.all(g)},rowTemplateAssigner:function(d){var e=this;if(d.rowTemplate){var f=b.defer();d.getRowTemplateFn=f.promise,a.getTemplate(d.rowTemplate).then(function(a){var b=c(a);f.resolve(b)},function(a){throw new Error("Couldn't fetch/use row template '"+d.rowTemplate+"'")})}else d.rowTemplate=e.options.rowTemplate,d.getRowTemplateFn=e.getRowTemplateFn;return d.getRowTemplateFn}};return i}])}(),function(){function a(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var b=angular.module("ui.grid");b.service("rowSearcher",["gridUtil","uiGridConstants",function(b,c){var d=c.filter.STARTS_WITH,e={};return e.getTerm=function(a){if("undefined"==typeof a.term)return a.term;var b=a.term;return"string"==typeof b&&(b=b.trim()),b},e.stripTerm=function(b){var c=e.getTerm(b);return"string"==typeof c?a(c.replace(/(^\*|\*$)/g,"")):c},e.guessCondition=function(a){if("undefined"==typeof a.term||!a.term)return d;var b=e.getTerm(a);if(/\*/.test(b)){var c="";a.flags&&a.flags.caseSensitive||(c+="i");var f=b.replace(/(\\)?\*/g,function(a,b){return b?a:"[\\s\\S]*?"});return new RegExp("^"+f+"$",c)}return d},e.setupFilters=function(a){for(var b=[],d=a.length,f=0;f<d;f++){var g=a[f];if(g.noTerm||g.term){var h={},i="";g.flags&&g.flags.caseSensitive||(i+="i"),g.term&&(h.term=e.stripTerm(g)),g.condition?h.condition=g.condition:h.condition=e.guessCondition(g),h.flags=angular.extend({caseSensitive:!1,date:!1},g.flags),h.condition===c.filter.STARTS_WITH&&(h.startswithRE=new RegExp("^"+h.term,i)),h.condition===c.filter.ENDS_WITH&&(h.endswithRE=new RegExp(h.term+"$",i)),h.condition===c.filter.CONTAINS&&(h.containsRE=new RegExp(h.term,i)),h.condition===c.filter.EXACT&&(h.exactRE=new RegExp("^"+h.term+"$",i)),b.push(h)}}return b},e.runColumnFilter=function(a,b,d,e){var f=typeof e.condition,g=e.term,h=a.getCellValue(b,d);if(e.condition instanceof RegExp)return e.condition.test(h);if("function"===f)return e.condition(g,h,b,d);if(e.startswithRE)return e.startswithRE.test(h);if(e.endswithRE)return e.endswithRE.test(h);if(e.containsRE)return e.containsRE.test(h);if(e.exactRE)return e.exactRE.test(h);if(e.condition===c.filter.NOT_EQUAL){var i=new RegExp("^"+g+"$");return!i.exec(h)}if("number"==typeof h){var j=parseFloat(g.replace(/\\./,"."));isNaN(j)||(g=j)}return e.flags.date===!0&&(h=new Date(h),g=new Date(g.replace(/\\/g,""))),e.condition===c.filter.GREATER_THAN?h>g:e.condition===c.filter.GREATER_THAN_OR_EQUAL?h>=g:e.condition===c.filter.LESS_THAN?h<g:e.condition!==c.filter.LESS_THAN_OR_EQUAL||h<=g},e.searchColumn=function(a,b,c,d){if(a.options.useExternalFiltering)return!0;for(var f=d.length,g=0;g<f;g++){var h=d[g],i=e.runColumnFilter(a,b,c,h);if(!i)return!1}return!0},e.search=function(a,b,c){if(b){for(var d=[],f=c.length,g=0;g<f;g++){var h=c[g];"undefined"!=typeof h.filters&&(h.filters.length>1||1===h.filters.length&&("undefined"!=typeof h.filters[0].term&&h.filters[0].term||h.filters[0].noTerm))?d.push({col:h,filters:e.setupFilters(h.filters)}):"undefined"!=typeof h.filter&&h.filter&&("undefined"!=typeof h.filter.term&&h.filter.term||h.filter.noTerm)&&d.push({col:h,filters:e.setupFilters([h.filter])})}if(d.length>0){for(var i=function(a,b,c,d){!b.forceInvisible&&e.searchColumn(a,b,c,d)||(b.visible=!1)},j=function(a,c){for(var d=b.length,e=0;e<d;e++)i(a,b[e],c.col,c.filters)},k=d.length,l=0;l<k;l++)j(a,d[l]);a.api.core.raise.rowsVisibleChanged&&a.api.core.raise.rowsVisibleChanged()}return b}},e}])}(),function(){var a=angular.module("ui.grid");a.service("rowSorter",["$parse","uiGridConstants",function(a,b){var c="("+b.CURRENCY_SYMBOLS.map(function(a){return"\\"+a}).join("|")+")?",d=(new RegExp("^[-+]?"+c+"[\\d,.]+"+c+"%?$"),{colSortFnCache:[]});return d.guessSortFn=function(a){switch(a){case"number":return d.sortNumber;case"boolean":return d.sortBool;case"string":return d.sortAlpha;case"date":return d.sortDate;case"object":return d.basicSort;default:throw new Error("No sorting function found for type:"+a)}},d.handleNulls=function(a,b){if(!a&&0!==a&&a!==!1||!b&&0!==b&&b!==!1){if(!a&&0!==a&&a!==!1&&!b&&0!==b&&b!==!1)return 0;if(!a&&0!==a&&a!==!1)return 1;if(!b&&0!==b&&b!==!1)return-1}return null},d.basicSort=function(a,b){var c=d.handleNulls(a,b);return null!==c?c:a===b?0:a<b?-1:1},d.sortNumber=function(a,b){var c=d.handleNulls(a,b);return null!==c?c:a-b},d.sortNumberStr=function(a,b){var c=d.handleNulls(a,b);if(null!==c)return c;var e,f,g=!1,h=!1;return e=parseFloat(a.replace(/[^0-9.-]/g,"")),isNaN(e)&&(g=!0),f=parseFloat(b.replace(/[^0-9.-]/g,"")),isNaN(f)&&(h=!0),g&&h?0:g?1:h?-1:e-f},d.sortAlpha=function(a,b){var c=d.handleNulls(a,b);if(null!==c)return c;var e=a.toString().toLowerCase(),f=b.toString().toLowerCase();return e===f?0:e<f?-1:1},d.sortDate=function(a,b){var c=d.handleNulls(a,b);if(null!==c)return c;var e=a.getTime(),f=b.getTime();return e===f?0:e<f?-1:1},d.sortBool=function(a,b){var c=d.handleNulls(a,b);return null!==c?c:a&&b?0:a||b?a?1:-1:0},d.getSortFn=function(a,b,c){var e;return d.colSortFnCache[b.colDef.name]?e=d.colSortFnCache[b.colDef.name]:void 0!==b.sortingAlgorithm?(e=b.sortingAlgorithm,d.colSortFnCache[b.colDef.name]=b.sortingAlgorithm):(e=d.guessSortFn(b.colDef.type),e?d.colSortFnCache[b.colDef.name]=e:e=d.sortAlpha),e},d.prioritySort=function(a,b){return void 0!==a.sort.priority&&void 0!==b.sort.priority?a.sort.priority<b.sort.priority?-1:a.sort.priority===b.sort.priority?0:1:a.sort.priority||0===a.sort.priority?-1:b.sort.priority||0===b.sort.priority?1:0},d.sort=function(a,c,e){if(c){if(a.options.useExternalSorting)return c;var f=[];if(e.forEach(function(a){a.sort&&a.sort.direction&&(a.sort.direction===b.ASC||a.sort.direction===b.DESC)&&f.push(a)}),f=f.sort(d.prioritySort),0===f.length)return c;var g,h,i=c.slice(0);angular.forEach(c,function(a,b){a.entity.$uiGridIndex=b});var j=c.sort(function(c,e){for(var j,k=0,l=0;0===k&&l<f.length;){g=f[l],h=f[l].sort.direction,j=d.getSortFn(a,g,i);var m=a.getCellValue(c,g),n=a.getCellValue(e,g);k=j(m,n),l++}return 0===k?c.entity.$uiGridIndex-e.entity.$uiGridIndex:h===b.ASC?k:0-k});return angular.forEach(j,function(a,b){delete a.entity.$uiGridIndex}),j}},d}])}(),function(){function a(a){var b=a;return"undefined"!=typeof b.length&&b.length&&(b=a[0]),b.ownerDocument.defaultView.getComputedStyle(b,null)}function b(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0,h=["Top","Right","Bottom","Left"];f<4;f+=2){var i=h[f];if("margin"===c){var j=parseFloat(e[c+i]);isNaN(j)||(g+=j)}if(d){if("content"===c){var k=parseFloat(e["padding"+i]);isNaN(k)||(g-=k)}if("margin"!==c){var l=parseFloat(e["border"+i+"Width"]);isNaN(l)||(g-=l)}}else{var m=parseFloat(e["padding"+i]);if(isNaN(m)||(g+=m),"padding"!==c){var n=parseFloat(e["border"+i+"Width"]);isNaN(n)||(g+=n)}}}return g}function c(c,d,e){var f,h=!0,i=a(c),j="border-box"===i.boxSizing;if(f<=0||null==f){if(f=i[d],(f<0||null==f)&&(f=c.style[d]),g.test(f))return f;h=j&&!0,f=parseFloat(f)||0}var k=f+b(c,d,e||(j?"border":"content"),h,i);return k}function d(b){b=angular.element(b)[0];var c=b.offsetParent;return c||(c=document.getElementsByTagName("body")[0]),parseInt(a(c).fontSize)||parseInt(a(b).fontSize)||16}var e,f=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(e=function(){var a=Array.prototype.slice;return function(b){var c=this,d=a.call(arguments,1);return d.length?function(){return arguments.length?c.apply(b,d.concat(a.call(arguments))):c.apply(b,d)}:function(){return arguments.length?c.apply(b,arguments):c.call(b)}}});var g=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),h=/^(block|none|table(?!-c[ea]).+)/,i={position:"absolute",visibility:"hidden",display:"block"},j=["0","0","0"],k="uiGrid-";f.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","$interpolate","uiGridConstants",function(b,f,g,l,m,n,o,p,q,r){function s(a,b){var c=angular.element(this),d=0,e=0,f=0,g=0;if(b.originalEvent&&(b=b.originalEvent),"detail"in b&&(f=b.detail*-1),"wheelDelta"in b&&(f=b.wheelDelta),"wheelDeltaY"in b&&(f=b.wheelDeltaY),"wheelDeltaX"in b&&(e=b.wheelDeltaX*-1),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(e=f*-1,f=0),d=0===f?e:f,"deltaY"in b&&(f=b.deltaY*-1,d=f),"deltaX"in b&&(e=b.deltaX,0===f&&(d=e*-1)),0!==f||0!==e){if(1===b.deltaMode){var h=c.data("mousewheel-line-height");d*=h,f*=h,e*=h}else if(2===b.deltaMode){var i=c.data("mousewheel-page-height");d*=i,f*=i,e*=i}g=Math.max(Math.abs(f),Math.abs(e)),(!x||g<x)&&(x=g,u(b,g)&&(x/=40)),d=Math[d>=1?"floor":"ceil"](d/x),e=Math[e>=1?"floor":"ceil"](e/x),f=Math[f>=1?"floor":"ceil"](f/x),b.deltaMode=0;var j={originalEvent:b,deltaX:e,deltaY:f,deltaFactor:x,preventDefault:function(){b.preventDefault()}};w&&clearTimeout(w),w=setTimeout(t,200),a.call(c[0],j)}}function t(){x=null}function u(a,b){return"mousewheel"===a.type&&b%120===0}var v={getStyles:a,createBoundedWrapper:function(a,b){return function(){return b.apply(a,arguments)}},readableColumnName:function(a){return"undefined"==typeof a||void 0===a||null===a?a:("string"!=typeof a&&(a=String(a)),a.replace(/_+/g," ").replace(/^[A-Z]+$/,function(a){return angular.lowercase(angular.uppercase(a.charAt(0))+a.slice(1))}).replace(/(\w+)/g,function(a){return angular.uppercase(a.charAt(0))+a.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(a,b){var c=[];if(!a||"undefined"==typeof a[0]||void 0===a[0])return[];angular.isUndefined(b)&&(b=[]);var d=a[0];return angular.forEach(d,function(a,d){b.indexOf(d)===-1&&c.push({name:d})}),c},newId:function(){var a=(new Date).getTime();return function(){return a+=1}}(),getTemplate:function(a){if(m.get(a))return v.postProcessTemplate(m.get(a));if(a.hasOwnProperty("then"))return a.then(v.postProcessTemplate);try{if(angular.element(a).length>0)return p.when(a).then(v.postProcessTemplate)}catch(b){}return v.logDebug("fetching url",a),l({method:"GET",url:a}).then(function(b){var c=b.data.trim();return m.put(a,c),c},function(b){throw new Error("Could not get template "+a+": "+b)}).then(v.postProcessTemplate)},postProcessTemplate:function(a){var b=q.startSymbol(),c=q.endSymbol();return"{{"===b&&"}}"===c||(a=a.replace(/\{\{/g,b),a=a.replace(/\}\}/g,c)),p.when(a)},guessType:function(a){var b=typeof a;switch(b){case"number":case"boolean":case"string":return b;default:return angular.isDate(a)?"date":"object"}},elementWidth:function(a){},elementHeight:function(a){},getScrollbarWidth:function(){var a=document.createElement("div");a.style.visibility="hidden",a.style.width="100px",a.style.msOverflowStyle="scrollbar",document.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=document.createElement("div");c.style.width="100%",a.appendChild(c);var d=c.offsetWidth;return a.parentNode.removeChild(a),b-d},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},fakeElement:function(a,b,c,d){var e,f,g=angular.element(a).clone()[0];for(f in b)g.style[f]=b[f];return angular.element(document.body).append(g),e=c.call(g,g),angular.element(g).remove(),e},normalizeWheelEvent:function(a){var b,c,d,e=a||window.event,f=([].slice.call(arguments,1),0),g=0,h=0,i=0,j=0;return e.originalEvent&&(e=e.originalEvent),e.wheelDelta&&(f=e.wheelDelta),e.detail&&(f=e.detail*-1),h=f,void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS&&(h=0,g=f*-1),e.deltaY&&(h=e.deltaY*-1,f=h),e.deltaX&&(g=e.deltaX,f=g*-1),void 0!==e.wheelDeltaY&&(h=e.wheelDeltaY),void 0!==e.wheelDeltaX&&(g=e.wheelDeltaX),i=Math.abs(f),(!b||i<b)&&(b=i),j=Math.max(Math.abs(h),Math.abs(g)),(!c||j<c)&&(c=j),d=f>0?"floor":"ceil",f=Math[d](f/b),g=Math[d](g/c),h=Math[d](h/c),{delta:f,deltaX:g,deltaY:h}},isTouchEnabled:function(){var a;return("ontouchstart"in f||f.DocumentTouch&&g instanceof DocumentTouch)&&(a=!0),a},isNullOrUndefined:function(a){return void 0===a||null===a},endsWith:function(a,b){return!(!a||!b||"string"!=typeof a)&&a.indexOf(b,a.length-b.length)!==-1},arrayContainsObjectWithProperty:function(a,b,c){var d=!1;return angular.forEach(a,function(a){a[b]===c&&(d=!0)}),d},requestAnimationFrame:f.requestAnimationFrame&&f.requestAnimationFrame.bind(f)||f.webkitRequestAnimationFrame&&f.webkitRequestAnimationFrame.bind(f)||function(a){return n(a,10,!1)},numericAndNullSort:function(a,b){return null===a?1:null===b?-1:null===a&&null===b?0:a-b},disableAnimations:function(a){var b;try{b=o.get("$animate"),b.enabled(!1,a)}catch(c){}},enableAnimations:function(a){var b;try{return b=o.get("$animate"),b.enabled(!0,a),b}catch(c){}},nextUid:function(){for(var a,b=j.length;b;){if(b--,a=j[b].charCodeAt(0),57===a)return j[b]="A",k+j.join("");if(90!==a)return j[b]=String.fromCharCode(a+1),k+j.join("");j[b]="0"}return j.unshift("0"),k+j.join("")},hashKey:function(a){var b,c=typeof a;return"object"===c&&null!==a?"function"==typeof(b=a.$$hashKey)?b=a.$$hashKey():"undefined"!=typeof a.$$hashKey&&a.$$hashKey?b=a.$$hashKey:void 0===b&&(b=a.$$hashKey=v.nextUid()):b=a,c+":"+b},resetUids:function(){j=["0","0","0"]},logError:function(a){r.LOG_ERROR_MESSAGES&&b.error(a)},logWarn:function(a){r.LOG_WARN_MESSAGES&&b.warn(a)},logDebug:function(){r.LOG_DEBUG_MESSAGES&&b.debug.apply(b,arguments)}};["width","height"].forEach(function(b){var d=angular.uppercase(b.charAt(0))+b.substr(1);v["element"+d]=function(d,e){var f=d;if(f&&"undefined"!=typeof f.length&&f.length&&(f=d[0]),f){var g=a(f);return 0===f.offsetWidth&&h.test(g.display)?v.fakeElement(f,i,function(a){return c(a,b,e)}):c(f,b,e)}return null},v["outerElement"+d]=function(a,b){return a?v["element"+d].call(this,a,b?"margin":"border"):null}}),v.closestElm=function(a,b){"undefined"!=typeof a.length&&a.length&&(a=a[0]);var c;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(a){return"function"==typeof document.body[a]&&(c=a,!0)});for(var d;null!==a;){if(d=a.parentElement,null!==d&&d[c](b))return d;a=d}return null},v.type=function(a){var b=Function.prototype.toString.call(a.constructor);return b.match(/function (.*?)\(/)[1]},v.getBorderSize=function(b,c){"undefined"!=typeof b.length&&b.length&&(b=b[0]);var d=a(b);c=c?"border"+c.charAt(0).toUpperCase()+c.slice(1):"border",c+="Width";var e=parseInt(d[c],10);return isNaN(e)?0:e},v.detectBrowser=function(){var a=f.navigator.userAgent,b={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var c in b)if(b[c].test(a))return c;return"unknown"},v.normalizeScrollLeft=function(a){"undefined"!=typeof a.length&&a.length&&(a=a[0]);var b=v.detectBrowser(),c=a.scrollLeft,d=v.getStyles(a).direction;if("ie"===b)return c;if("chrome"===b){if("rtl"===d){var e=a.scrollWidth-a.clientWidth;return e-c}return c}return"firefox"===b?Math.abs(c):c},v.denormalizeScrollLeft=function(a,b){"undefined"!=typeof a.length&&a.length&&(a=a[0]);var c=v.detectBrowser(),d=v.getStyles(a).direction;if("ie"===c)return b;if("chrome"===c){if("rtl"===d){var e=a.scrollWidth-a.clientWidth;return e-b}return b}return"firefox"===c&&"rtl"===d?b*-1:b},v.preEval=function(a){var b=r.BRACKET_REGEXP.exec(a);if(b)return(b[1]?v.preEval(b[1]):b[1])+b[2]+(b[3]?v.preEval(b[3]):b[3]);a=a.replace(r.APOS_REGEXP,"\\'");var c=a.split(r.DOT_REGEXP),d=[c.shift()];return angular.forEach(c,function(a){d.push(a.replace(r.FUNC_REGEXP,"']$1"))}),d.join("['")},v.debounce=function(a,b,c){function d(){g=this,f=arguments;var d=function(){e=null,c||(h=a.apply(g,f))},i=c&&!e;return e&&n.cancel(e),e=n(d,b),i&&(h=a.apply(g,f)),h}var e,f,g,h;return d.cancel=function(){n.cancel(e),e=null},d},v.throttle=function(a,b,c){function d(b){g=+new Date,a.apply(e,f),n(function(){h=null},0)}c=c||{};var e,f,g=0,h=null;return function(){if(e=this,f=arguments,null===h){var a=+new Date-g;a>b?d():c.trailing&&(h=n(d,b-a))}}},v.on={},v.off={},v._events={},v.addOff=function(a){v.off[a]=function(b,c){var d=v._events[a].indexOf(c);d>0&&v._events[a].removeAt(d)}};var w,x,y="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return v.on.mousewheel=function(a,b){if(a&&b){var c=angular.element(a);c.data("mousewheel-line-height",d(c)),c.data("mousewheel-page-height",v.elementHeight(c)),c.data("mousewheel-callbacks")||c.data("mousewheel-callbacks",{});var f=c.data("mousewheel-callbacks");f[b]=(Function.prototype.bind||e).call(s,c[0],b);for(var g=y.length;g;)c.on(y[--g],f[b])}},v.off.mousewheel=function(a,b){var c=angular.element(this),d=c.data("mousewheel-callbacks"),e=d[b];if(e)for(var f=y.length;f;)c.off(y[--f],e);delete d[b],0===Object.keys(d).length&&(c.removeData("mousewheel-line-height"),c.removeData("mousewheel-page-height"),c.removeData("mousewheel-callbacks"))},v}]),f.filter("px",function(){return function(a){return a.match(/^[\d\.]+$/)?a+"px":a}})}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rkker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{sizes:"Eintrge pro Seite",totalItems:"Eintrge"}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"
},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},column:{hide:"  "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tte de colonne ici et dposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"lments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes:"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"total lignes: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il un en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau. Abandon."},pagination:{sizes:"articles par page",totalItems:"articles"}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF"},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("ja",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:": ",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:":",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:" / ",totalItems:""}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("ru",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},gridMenu:{columns:":",importerTitle:"Import file",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),a}])}])}(),function(){var a=["uiT","uiTranslate"],b=["t","uiTranslate"],c=angular.module("ui.grid.i18n");c.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),c.service("i18nService",["$log","i18nConstants","$rootScope",function(a,b,c){var d={_langs:{},current:null,get:function(a){return this._langs[a.toLowerCase()]},add:function(a,b){var c=a.toLowerCase();this._langs[c]||(this._langs[c]={}),angular.extend(this._langs[c],b)},getAllLangs:function(){var a=[];if(!this._langs)return a;for(var b in this._langs)a.push(b);return a},setCurrent:function(a){this.current=a.toLowerCase()},getCurrentLang:function(){return this.current}},e={add:function(a,b){"object"==typeof a?angular.forEach(a,function(a){a&&d.add(a,b)}):d.add(a,b)},getAllLangs:function(){return d.getAllLangs()},get:function(a){var b=a?a:e.getCurrentLang();return d.get(b)},getSafeText:function(a,c){var f=c?c:e.getCurrentLang(),g=d.get(f);if(!g)return b.MISSING;for(var h=a.split("."),i=g,j=0;j<h.length;++j){if(void 0===i[h[j]]||null===i[h[j]])return b.MISSING;i=i[h[j]]}return i},setCurrentLang:function(a){a&&(d.setCurrent(a),c.$broadcast(b.UPDATE_EVENT))},getCurrentLang:function(){var a=d.getCurrentLang();return a||(a=b.DEFAULT_LANG,d.setCurrent(a)),a}};return e}]);var d=function(a,b){return{compile:function(){return{pre:function(c,d,e){var f=b.LOCALE_DIRECTIVE_ALIAS,g=c.$eval(e[f]);g?c.$watch(e[f],function(){a.setCurrentLang(g)}):e.$$observers&&e.$observe(f,function(){a.setCurrentLang(e[f]||b.DEFAULT_LANG)})}}}}};c.directive("uiI18n",["i18nService","i18nConstants",d]);var e=function(b,c,d){return{restrict:"EA",compile:function(){return{pre:function(e,f,g){var h,i=a[0],j=a[1],k=g[i]||g[j]||f.html(),l=d.MISSING+k;if(g.$$observers){var m=g[i]?i:j;h=g.$observe(m,function(a){a&&f.html(b(a)(c.getCurrentLang())||l)})}var n=b(k),o=e.$on(d.UPDATE_EVENT,function(a){h?h(g[i]||g[j]):f.html(n(c.get())||l)});e.$on("$destroy",o),f.html(n(c.get())||l)}}}}};angular.forEach(a,function(a){c.directive(a,["$parse","i18nService","i18nConstants",e])});var f=function(a,b,c){return function(d){var e=a(d);return e(b.get())||c.MISSING+d}};angular.forEach(b,function(a){c.filter(a,["$parse","i18nService","i18nConstants",f])})}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("zh-cn",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),a}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(a){a.decorator("i18nService",["$delegate",function(a){return a.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF"},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),a}])}])}(),function(){"use strict";var a=angular.module("ui.grid.autoResize",["ui.grid"]);a.directive("uiGridAutoResize",["$timeout","gridUtil",function(a,b){return{require:"uiGrid",scope:!1,link:function(a,c,d,e){function f(){i=b.elementHeight(c),h=b.elementWidth(c)}function g(){clearTimeout(j),j=setTimeout(function(){var d=b.elementHeight(c),j=b.elementWidth(c);d!==i||j!==h?(e.grid.gridHeight=d,e.grid.gridWidth=j,a.$apply(function(){e.grid.refresh().then(function(){f(),g()})})):g()},250)}var h,i;f();var j;g(),a.$on("$destroy",function(){clearTimeout(j)})}}}])}(),function(){"use strict";function a(a,b){this.row=a,this.col=b}var b=angular.module("ui.grid.cellNav",["ui.grid"]);b.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),b.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(b,c,d,e){var f=function(a,b,c,d){this.rows=a.visibleRowCache,this.columns=b.visibleColumnCache,this.leftColumns=c?c.visibleColumnCache:[],this.rightColumns=d?d.visibleColumnCache:[],this.bodyContainer=a};return f.prototype.getFocusableCols=function(){var a=this.leftColumns.concat(this.columns,this.rightColumns);return a.filter(function(a){return a.colDef.allowCellFocus})},f.prototype.getFocusableRows=function(){return this.rows.filter(function(a){return a.allowCellFocus!==!1})},f.prototype.getNextRowCol=function(a,b,c){switch(a){case d.direction.LEFT:return this.getRowColLeft(b,c);case d.direction.RIGHT:return this.getRowColRight(b,c);case d.direction.UP:return this.getRowColUp(b,c);case d.direction.DOWN:return this.getRowColDown(b,c);case d.direction.PG_UP:return this.getRowColPageUp(b,c);case d.direction.PG_DOWN:return this.getRowColPageDown(b,c)}},f.prototype.getRowColLeft=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);f===-1&&(f=1);var h=0===f?d.length-1:f-1;return h>f?0===g?new a(b,d[h]):new a(e[g-1],d[h]):new a(b,d[h])},f.prototype.getRowColRight=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);f===-1&&(f=0);var h=f===d.length-1?0:f+1;return h<f?g===e.length-1?new a(b,d[h]):new a(e[g+1],d[h]):new a(b,d[h])},f.prototype.getRowColDown=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);return f===-1&&(f=0),g===e.length-1?new a(b,d[f]):new a(e[g+1],d[f])},f.prototype.getRowColPageDown=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);f===-1&&(f=0);var h=this.bodyContainer.minRowsToRender();return g>=e.length-h?new a(e[e.length-1],d[f]):new a(e[g+h],d[f])},f.prototype.getRowColUp=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);return f===-1&&(f=0),0===g?new a(b,d[f]):new a(e[g-1],d[f])},f.prototype.getRowColPageUp=function(b,c){var d=this.getFocusableCols(),e=this.getFocusableRows(),f=d.indexOf(c),g=e.indexOf(b);f===-1&&(f=0);var h=this.bodyContainer.minRowsToRender();return g-h<0?new a(e[0],d[f]):new a(e[g-h],d[f])},f}]),b.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(a,b,c,d,e,f){var g={initializeGrid:function(a){a.registerColumnBuilder(g.cellNavColumnBuilder),a.cellNav={},a.cellNav.lastRowCol=null,a.cellNav.focusedCells=[],g.defaultGridOptions(a.options);var b={events:{cellNav:{navigate:function(a,b){}}},methods:{cellNav:{scrollTo:function(b,c){g.scrollTo(a,b,c)},scrollToFocus:function(b,c){g.scrollToFocus(a,b,c)},scrollToIfNecessary:function(b,c){g.scrollToIfNecessary(a,b,c)},getFocusedCell:function(){return a.cellNav.lastRowCol},getCurrentSelection:function(){return a.cellNav.focusedCells},rowColSelectIndex:function(b){for(var c=-1,d=0;d<a.cellNav.focusedCells.length;d++)if(a.cellNav.focusedCells[d].col.uid===b.col.uid&&a.cellNav.focusedCells[d].row.uid===b.row.uid){c=d;break}return c}}}};a.api.registerEventsFromObject(b.events),a.api.registerMethodsFromObject(b.methods)},defaultGridOptions:function(a){a.modifierKeysToMultiSelectCells=a.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(a){var b=a.hasRightContainer()?a.renderContainers.right:null,c=a.hasLeftContainer()?a.renderContainers.left:null;null!==c&&(a.renderContainers.left.cellNav=new e(a.renderContainers.body,c,b,a.renderContainers.body)),null!==b&&(a.renderContainers.right.cellNav=new e(a.renderContainers.body,b,a.renderContainers.body,c)),a.renderContainers.body.cellNav=new e(a.renderContainers.body,a.renderContainers.body,c,b)},getDirection:function(a){return a.keyCode===b.keymap.LEFT||a.keyCode===b.keymap.TAB&&a.shiftKey?c.direction.LEFT:a.keyCode===b.keymap.RIGHT||a.keyCode===b.keymap.TAB?c.direction.RIGHT:a.keyCode===b.keymap.UP||a.keyCode===b.keymap.ENTER&&a.shiftKey?c.direction.UP:a.keyCode===b.keymap.PG_UP?c.direction.PG_UP:a.keyCode===b.keymap.DOWN||a.keyCode===b.keymap.ENTER?c.direction.DOWN:a.keyCode===b.keymap.PG_DOWN?c.direction.PG_DOWN:null},cellNavColumnBuilder:function(a,b,c){var e=[];return a.allowCellFocus=void 0===a.allowCellFocus||a.allowCellFocus,d.all(e)},scrollTo:function(a,b,c){var d=null,e=null;null!==b&&"undefined"!=typeof b&&(d=a.getRow(b)),null!==c&&"undefined"!=typeof c&&(e=a.getColumn(c.name?c.name:c.field)),this.scrollToInternal(a,d,e)},scrollToFocus:function(a,b,c){
var d=null,e=null;null!==b&&(d=a.getRow(b)),null!==c&&(e=a.getColumn(c.name?c.name:c.field)),this.scrollToInternal(a,d,e);var f={row:d,col:e};a.cellNav.broadcastCellNav(f)},scrollToInternal:function(a,b,c){var d=new f(a,null,null,"uiGridCellNavService.scrollToInternal");if(null!==b){var e=a.renderContainers.body.visibleRowCache.indexOf(b),g=a.renderContainers.body.visibleRowCache.length,h=(e+e/(g-1))/g;d.y={percentage:h}}null!==c&&(d.x={percentage:this.getLeftWidth(a,c)/this.getLeftWidth(a,a.renderContainers.body.visibleColumnCache[a.renderContainers.body.visibleColumnCache.length-1])}),(d.y||d.x)&&d.fireScrollingEvent()},scrollToIfNecessary:function(a,b,c){var d=new f(a,"uiGridCellNavService.scrollToIfNecessary"),e=a.renderContainers.body.visibleRowCache,g=a.renderContainers.body.visibleColumnCache,h=a.renderContainers.body.prevScrollTop+a.headerHeight;h=h<0?0:h;var i=a.renderContainers.body.prevScrollLeft,j=a.renderContainers.body.prevScrollTop+a.gridHeight-a.headerHeight,k=a.renderContainers.body.prevScrollLeft+Math.ceil(a.gridWidth);if(null!==b){var l=e.indexOf(b),m=a.renderContainers.body.getCanvasHeight()-a.renderContainers.body.getViewportHeight(),n=(l+1)*a.options.rowHeight;n=n<0?0:n;var o,p;n<h?(o=a.renderContainers.body.prevScrollTop-(h-n),p=o/m,d.y={percentage:p}):n>j&&(o=n-j+a.renderContainers.body.prevScrollTop,p=o/m,d.y={percentage:p})}if(null!==c){for(var q=g.indexOf(c),r=a.renderContainers.body.getCanvasWidth()-a.renderContainers.body.getViewportWidth(),s=0,t=0;t<q;t++){var u=g[t];s+=u.drawnWidth}s=s<0?0:s;var v=s+c.drawnWidth;v=v<0?0:v;var w,x;s<i?(w=a.renderContainers.body.prevScrollLeft-(i-s),x=w/r,x=x>1?1:x,d.x={percentage:x}):v>k&&(w=v-k+a.renderContainers.body.prevScrollLeft,x=w/r,x=x>1?1:x,d.x={percentage:x})}(d.y||d.x)&&d.fireScrollingEvent()},getLeftWidth:function(a,b){var c=0;if(!b)return c;var d=a.renderContainers.body.visibleColumnCache.indexOf(b);a.renderContainers.body.visibleColumnCache.forEach(function(a,b){b<d&&(c+=a.drawnWidth)});var e=0===d?0:(d+1)/a.renderContainers.body.visibleColumnCache.length;return c+=b.drawnWidth*e}};return g}]),b.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants",function(b,c,d,e){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(b,f,g,h){var i=b,j=h.grid;c.initializeGrid(j),h.cellNav={},h.cellNav.focusCell=function(a,b){h.cellNav.broadcastCellNav({row:a,col:b})},h.cellNav.broadcastCellNav=j.cellNav.broadcastCellNav=function(a,b){b=!(void 0===b||!b),h.cellNav.broadcastFocus(a,b),i.$broadcast(d.CELL_NAV_EVENT,a,b)},h.cellNav.clearFocus=j.cellNav.clearFocus=function(){i.$broadcast(d.CELL_NAV_EVENT,{eventType:d.EVENT_TYPE.CLEAR})},h.cellNav.broadcastFocus=function(b,c){c=!(void 0===c||!c);var d=b.row,e=b.col,f=h.grid.api.cellNav.rowColSelectIndex(b);if(null===j.cellNav.lastRowCol||f===-1){var g=new a(d,e);j.api.cellNav.raise.navigate(g,j.cellNav.lastRowCol),j.cellNav.lastRowCol=g,h.grid.options.modifierKeysToMultiSelectCells&&c?j.cellNav.focusedCells.push(b):j.cellNav.focusedCells=[b]}else j.options.modifierKeysToMultiSelectCells&&c&&f>=0&&j.cellNav.focusedCells.splice(f,1)},h.cellNav.handleKeyDown=function(a){var b=c.getDirection(a);if(null===b)return!0;var f="body";a.uiGridTargetRenderContainerId&&(f=a.uiGridTargetRenderContainerId);var g=h.grid.api.cellNav.getFocusedCell();if(g){var i=h.grid.renderContainers[f].cellNav.getNextRowCol(b,g.row,g.col);return b===d.direction.LEFT&&i.row===g.row&&a.keyCode===e.keymap.TAB&&a.shiftKey?(h.cellNav.clearFocus(),!0):b!==d.direction.RIGHT||i.row!==g.row||a.keyCode!==e.keymap.TAB||a.shiftKey?(i.eventType=d.EVENT_TYPE.KEYDOWN,h.cellNav.broadcastCellNav(i),c.scrollToIfNecessary(j,i.row,i.col),a.stopPropagation(),a.preventDefault(),!1):(h.cellNav.clearFocus(),!0)}}},post:function(a,b,c,d){}}}}}]),b.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants",function(a,b,c,d,e,f){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(c,d,f,g){var h=g[0],i=g[1];if(h.grid.api.cellNav){var j=i.containerId,k=h.grid;e.decorateRenderContainers(k),d.attr("tabindex",-1),d.on("keydown",function(a){return a.uiGridTargetRenderContainerId=j,h.cellNav.handleKeyDown(a)});var l=!1;k.api.core.on.scrollEvent(c,function(c){c.grid&&c.grid.id!==h.grid.id||null!=h.grid.api.cellNav.getFocusedCell()&&("uiGridCellNavService.scrollToIfNecessary"===c.source?l=!0:l&&a(function(){a(function(){var a=h.grid.api.cellNav.getFocusedCell();b.activeElement===b.body&&d[0].focus(),h.cellNav.broadcastCellNav(a),l=!1})}))})}}}}}}]),b.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(b,c,d,e,f,g){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(b,c,d,e){function g(){c.find("div").attr("tabindex",0)}function h(){var a=c.find("div");a.addClass("ui-grid-cell-focus")}function i(){var a=c.find("div");a.removeClass("ui-grid-cell-focus")}e.grid.api.cellNav&&b.col.colDef.allowCellFocus&&(g(),c.find("div").on("click",function(c){e.cellNav.broadcastCellNav(new a(b.row,b.col),c.ctrlKey||c.metaKey),c.stopPropagation()}),c.find("div").on("focus",function(c){console.log("cellNav focus"),e.cellNav.broadcastCellNav(new a(b.row,b.col),c.ctrlKey||c.metaKey)}),b.$on(f.CELL_NAV_EVENT,function(a,d,g){return a.eventType===f.EVENT_TYPE.CLEAR?void i():void(d.row===b.row&&d.col===b.col?(e.grid.options.modifierKeysToMultiSelectCells&&g&&e.grid.api.cellNav.rowColSelectIndex(d)===-1?i():h(),d.hasOwnProperty("eventType")&&d.eventType===f.EVENT_TYPE.KEYDOWN&&(console.log("focus from navEvent"),c.find("div")[0].focus())):e.grid.options.modifierKeysToMultiSelectCells&&g||i())}),b.$on("$destroy",function(){c.find("div").off("click")}))}}}])}(),function(){"use strict";var a=angular.module("ui.grid.edit",["ui.grid"]);a.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),a.service("uiGridEditService",["$q","$templateCache","uiGridConstants","gridUtil",function(a,b,c,d){var e={initializeGrid:function(a){e.defaultGridOptions(a.options),a.registerColumnBuilder(e.editColumnBuilder);var b={events:{edit:{afterCellEdit:function(a,b,c,d){},beginCellEdit:function(a,b){},cancelCellEdit:function(a,b){}}},methods:{edit:{}}};a.api.registerEventsFromObject(b.events)},defaultGridOptions:function(a){a.cellEditableCondition=void 0===a.cellEditableCondition||a.cellEditableCondition,a.enableCellEditOnFocus=void 0!==a.enableCellEditOnFocus&&a.enableCellEditOnFocus},editColumnBuilder:function(b,c,e){var f=[];return b.enableCellEdit=void 0===b.enableCellEdit?void 0===e.enableCellEdit?"object"!==b.type:e.enableCellEdit:b.enableCellEdit,b.cellEditableCondition=void 0===b.cellEditableCondition?e.cellEditableCondition:b.cellEditableCondition,b.enableCellEdit&&(b.editableCellTemplate=b.editableCellTemplate||e.editableCellTemplate||"ui-grid/cellEditor",f.push(d.getTemplate(b.editableCellTemplate).then(function(a){c.editableCellTemplate=a},function(a){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+b.editableCellTemplate+"'")}))),b.enableCellEditOnFocus=void 0===b.enableCellEditOnFocus?e.enableCellEditOnFocus:b.enableCellEditOnFocus,a.all(f)},isStartEditKey:function(a){return!(a.keyCode===c.keymap.LEFT||a.keyCode===c.keymap.TAB&&a.shiftKey||a.keyCode===c.keymap.RIGHT||a.keyCode===c.keymap.TAB||a.keyCode===c.keymap.UP||a.keyCode===c.keymap.ENTER&&a.shiftKey||a.keyCode===c.keymap.DOWN||a.keyCode===c.keymap.ENTER)}};return e}]),a.directive("uiGridEdit",["gridUtil","uiGridEditService",function(a,b){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(a,c,d,e){b.initializeGrid(e.grid)},post:function(a,b,c,d){}}}}}]),a.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService",function(a,b,c,d,e,f,g,h){var i=500;return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(f,j,k,l){function m(){j.on("dblclick",t),j.on("keydown",r),f.col.colDef.enableCellEditOnFocus&&j.find("div").on("focus",q),j.on("touchstart",n)}function n(a){"undefined"!=typeof a.originalEvent&&void 0!==a.originalEvent&&(a=a.originalEvent),j.on("touchend",o),A=c(function(){},i),A.then(function(){setTimeout(t,0),j.off("touchend",o)})}function o(a){c.cancel(A),j.off("touchend",o)}function p(){j.off("dblclick",t),j.off("keydown",r),f.col.colDef.enableCellEditOnFocus&&j.find("div").off("focus",q),j.off("touchstart",n)}function q(a){l&&l.cellNav&&l.cellNav.focusCell(f.row,f.col),a.stopPropagation(),t()}function r(a){h.isStartEditKey(a)&&t()}function s(a,b){return!b.isSaving&&(angular.isFunction(a.colDef.cellEditableCondition)?a.colDef.cellEditableCondition(f):a.colDef.cellEditableCondition)}function t(){if(!C&&s(f.col,f.row)){f.grid.api.cellNav&&f.grid.api.cellNav.scrollToIfNecessary(f.row,f.col),z=g(f.row.getQualifiedColField(f.col)),y=z(f),x=f.col.editableCellTemplate,x=x.replace(d.MODEL_COL_FIELD,f.row.getQualifiedColField(f.col));var b=f.col.colDef.editDropdownFilter?"|"+f.col.colDef.editDropdownFilter:"";x=x.replace(d.CUSTOM_FILTERS,b);var c="text";switch(f.col.colDef.type){case"boolean":c="checkbox";break;case"number":c="number";break;case"date":c="date"}x=x.replace("INPUT_TYPE",c);var h=f.col.colDef.editDropdownRowEntityOptionsArrayPath;h?f.editDropdownOptionsArray=w(f.row.entity,h):f.editDropdownOptionsArray=f.col.colDef.editDropdownOptionsArray,f.editDropdownIdLabel=f.col.colDef.editDropdownIdLabel?f.col.colDef.editDropdownIdLabel:"id",f.editDropdownValueLabel=f.col.colDef.editDropdownValueLabel?f.col.colDef.editDropdownValueLabel:"value";f.$apply(function(){C=!0,p();var b=angular.element(x);j.append(b),B=f.$new(),a(b)(B);var c=angular.element(j.children()[0]);D=c.hasClass("ui-grid-cell-focus"),c.addClass("ui-grid-cell-contents-hidden")});var i=f.col.grid.api.core.on.scrollEvent(f,function(){u(!0),f.grid.api.edit.raise.afterCellEdit(f.row.entity,f.col.colDef,z(f),y),i(),k(),l()}),k=f.$on(e.events.END_CELL_EDIT,function(a,b){u(b),f.grid.api.edit.raise.afterCellEdit(f.row.entity,f.col.colDef,z(f),y),k(),i(),l()}),l=f.$on(e.events.CANCEL_CELL_EDIT,function(){v(),l(),i(),k()});f.$broadcast(e.events.BEGIN_CELL_EDIT),f.grid.api.edit.raise.beginCellEdit(f.row.entity,f.col.colDef)}}function u(a){if(C){var b=angular.element(j.children()[0]);B.$destroy(),angular.element(j.children()[1]).remove(),b.removeClass("ui-grid-cell-contents-hidden"),a&&D&&b[0].focus(),D=!1,C=!1,m(),f.grid.api.core.notifyDataChange(d.dataChange.EDIT)}}function v(){C&&(z.assign(f,y),f.$apply(),f.grid.api.edit.raise.cancelCellEdit(f.row.entity,f.col.colDef),u(!0))}function w(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split(".");c.length;){var d=c.shift();if(!(d in a))return;a=a[d]}return a}if(f.col.colDef.enableCellEdit&&f.row.enableCellEdit!==!1){var x,y,z,A,B,C=!1,D=!1;m();try{var E=b.get("uiGridCellNavConstants");f.col.colDef.enableCellEditOnFocus&&f.$on(E.CELL_NAV_EVENT,function(a,b){b.row===f.row&&b.col===f.col?t():u()})}catch(F){}}}}}]),a.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants",function(a,b,c){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(a,b,c){},post:function(a,d,e,f){var g,h;f[0]&&(g=f[0]),f[1]&&(h=f[1]),a.$on(c.events.BEGIN_CELL_EDIT,function(){d[0].focus(),d[0].select(),d.on("blur",function(b){a.stopEdit(b)})}),a.deepEdit=!1,a.stopEdit=function(b){a.inputForm&&!a.inputForm.$valid?(b.stopPropagation(),a.$emit(c.events.CANCEL_CELL_EDIT)):a.$emit(c.events.END_CELL_EDIT),a.deepEdit=!1},d.on("click",function(b){a.deepEdit=!0}),d.on("keydown",function(d){switch(d.keyCode){case b.keymap.ESC:d.stopPropagation(),a.$emit(c.events.CANCEL_CELL_EDIT);break;case b.keymap.ENTER:a.stopEdit(d);break;case b.keymap.TAB:a.stopEdit(d)}if(a.deepEdit)switch(d.keyCode){case b.keymap.LEFT:d.stopPropagation();break;case b.keymap.RIGHT:d.stopPropagation();break;case b.keymap.UP:d.stopPropagation();break;case b.keymap.DOWN:d.stopPropagation()}else g&&g.hasOwnProperty("cellNav")&&h&&(d.uiGridTargetRenderContainerId=h.containerId,g.cellNav.handleKeyDown(d));return!0})}}}}}]),a.directive("uiGridEditor",["$filter",function(a){function b(a){if("undefined"==typeof a||""===a)return null;var b=a.split("-");if(3!==b.length)return null;var c=parseInt(b[0],10),d=parseInt(b[1],10),e=parseInt(b[2],10);return d<1||c<1||e<1?null:new Date(c,d-1,e)}return{priority:-100,require:"?ngModel",link:function(c,d,e,f){2===angular.version.minor&&e.type&&"date"===e.type&&f&&(f.$formatters.push(function(b){return f.$setValidity(null,!b||!isNaN(b.getTime())),a("date")(b,"yyyy-MM-dd")}),f.$parsers.push(function(a){if(a&&a.length>0){var c=b(a);return f.$setValidity(null,c&&!isNaN(c.getTime())),c}return f.$setValidity(null,!0),null}))}}}]),a.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(a,b){return{scope:!0,compile:function(){return{pre:function(a,b,c){},post:function(c,d,e){c.$on(b.events.BEGIN_CELL_EDIT,function(){d[0].focus(),d[0].style.width=d[0].parentElement.offsetWidth-1+"px",d.on("blur",function(a){c.stopEdit(a)})}),c.stopEdit=function(a){c.$emit(b.events.END_CELL_EDIT)},d.on("keydown",function(d){switch(d.keyCode){case a.keymap.ESC:d.stopPropagation(),c.$emit(b.events.CANCEL_CELL_EDIT);break;case a.keymap.ENTER:c.stopEdit(d);break;case a.keymap.LEFT:c.stopEdit(d);break;case a.keymap.RIGHT:c.stopEdit(d);break;case a.keymap.UP:d.stopPropagation();break;case a.keymap.DOWN:d.stopPropagation();break;case a.keymap.TAB:c.stopEdit(d)}return!0})}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.expandable",["ui.grid"]);a.service("uiGridExpandableService",["gridUtil","$compile",function(a,b){var c={initializeGrid:function(b){b.expandable={},b.expandable.expandedAll=!1,b.options.enableExpandable=b.options.enableExpandable!==!1,b.options.expandableRowHeight=b.options.expandableRowHeight||150,b.options.expandableRowHeaderWidth=b.options.expandableRowHeaderWidth||40,b.options.enableExpandable&&!b.options.expandableRowTemplate&&(a.logError("You have not set the expandableRowTemplate, disabling expandable module"),b.options.enableExpandable=!1);var d={events:{expandable:{rowExpandedStateChanged:function(a,b){}}},methods:{expandable:{toggleRowExpansion:function(a){var d=b.getRow(a);null!==d&&c.toggleRowExpansion(b,d)},expandAllRows:function(){c.expandAllRows(b)},collapseAllRows:function(){c.collapseAllRows(b)},toggleAllRows:function(){c.toggleAllRows(b)}}}};b.api.registerEventsFromObject(d.events),b.api.registerMethodsFromObject(d.methods)},toggleRowExpansion:function(a,b){b.isExpanded=!b.isExpanded,b.isExpanded?b.height=b.grid.options.rowHeight+a.options.expandableRowHeight:(b.height=b.grid.options.rowHeight,a.expandable.expandedAll=!1),a.api.expandable.raise.rowExpandedStateChanged(b)},expandAllRows:function(a,b){angular.forEach(a.renderContainers.body.visibleRowCache,function(b){b.isExpanded||c.toggleRowExpansion(a,b)}),a.expandable.expandedAll=!0,a.refresh()},collapseAllRows:function(a){angular.forEach(a.renderContainers.body.visibleRowCache,function(b){b.isExpanded&&c.toggleRowExpansion(a,b)}),a.expandable.expandedAll=!1,a.refresh()},toggleAllRows:function(a){a.expandable.expandedAll?c.collapseAllRows(a):c.expandAllRows(a)}};return c}]),a.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(a,b){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(c,d,e,f){if(f.grid.options.enableExpandableRowHeader!==!1){var g={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:f.grid.options.expandableRowHeaderWidth||40};g.cellTemplate=b.get("ui-grid/expandableRowHeader"),g.headerCellTemplate=b.get("ui-grid/expandableTopRowHeader"),f.grid.addRowHeaderColumn(g)}a.initializeGrid(f.grid)},post:function(a,b,c,d){}}}}}]),a.directive("uiGrid",["uiGridExpandableService","$templateCache",function(a,b){return{replace:!0,priority:1e3,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(a,b,c,d){d.grid.api.core.on.renderingComplete(a,function(){a.row&&a.row.grid&&a.row.grid.options&&a.row.grid.options.enableExpandable&&(d.grid.parentRow=a.row)})},post:function(a,b,c,d){}}}}}]),a.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(a,b,c,d,e,f,g){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(a,b,d,f){e.getTemplate(a.grid.options.expandableRowTemplate).then(function(d){if(a.grid.options.expandableRowScope){var e=a.grid.options.expandableRowScope;for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f])}var g=c(d)(a);b.append(g),a.row.expandedRendered=!0})},post:function(a,b,c,d){a.$on("$destroy",function(){a.row.expandedRendered=!1})}}}}}]),a.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(a,b,c){return{priority:-200,scope:!1,compile:function(a,b){return{pre:function(a,b,c,d){function e(){var b=a.grid,c=0;return angular.forEach(b.columns,function(a){"left"===a.renderContainer&&(c+=a.width)}),c=Math.floor(c),".grid"+b.id+" .ui-grid-pinned-container-"+a.colContainer.name+", .grid"+b.id+" .ui-grid-pinned-container-"+a.colContainer.name+" .ui-grid-render-container-"+a.colContainer.name+" .ui-grid-viewport .ui-grid-canvas .ui-grid-row { width: "+c+"px; }"}a.expandableRow={},a.expandableRow.shouldRenderExpand=function(){var b="body"===a.colContainer.name&&a.grid.options.enableExpandable!==!1&&a.row.isExpanded&&(!a.grid.isScrollingVertically||a.row.expandedRendered);return b},a.expandableRow.shouldRenderFiller=function(){var b=a.row.isExpanded&&("body"!==a.colContainer.name||a.grid.isScrollingVertically&&!a.row.expandedRendered);return b},"left"===a.colContainer.name&&a.grid.registerStyleComputation({priority:15,func:e})},post:function(a,b,c,d){}}}}}]),a.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(a,b,c){return{priority:-200,scope:!1,compile:function(a,b){var d=angular.element(a.children().children()[0]),e=c.get("ui-grid/expandableScrollFiller"),f=c.get("ui-grid/expandableRow");return d.append(f),d.append(e),{pre:function(a,b,c,d){},post:function(a,b,c,d){}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.exporter",["ui.grid"]);a.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),a.service("uiGridExporterService",["$q","uiGridExporterConstants","uiGridSelectionConstants","gridUtil","$compile","$interval","i18nService",function(a,b,c,d,e,f,g){var h={initializeGrid:function(a){a.exporter={},this.defaultGridOptions(a.options);var b={events:{exporter:{}},methods:{exporter:{csvExport:function(b,c){h.csvExport(a,b,c)},pdfExport:function(b,c){h.pdfExport(a,b,c)}}}};a.api.registerEventsFromObject(b.events),a.api.registerMethodsFromObject(b.methods),a.api.core.addToGridMenu?h.addToMenu(a):f(function(){a.api.core.addToGridMenu&&h.addToMenu(a)},100,1)},defaultGridOptions:function(a){a.exporterSuppressMenu=a.exporterSuppressMenu===!0,a.exporterMenuLabel=a.exporterMenuLabel?a.exporterMenuLabel:"Export",a.exporterSuppressColumns=a.exporterSuppressColumns?a.exporterSuppressColumns:[],a.exporterCsvColumnSeparator=a.exporterCsvColumnSeparator?a.exporterCsvColumnSeparator:",",a.exporterCsvFilename=a.exporterCsvFilename?a.exporterCsvFilename:"download.csv",a.exporterPdfDefaultStyle=a.exporterPdfDefaultStyle?a.exporterPdfDefaultStyle:{fontSize:11},a.exporterPdfTableStyle=a.exporterPdfTableStyle?a.exporterPdfTableStyle:{margin:[0,5,0,15]},a.exporterPdfTableHeaderStyle=a.exporterPdfTableHeaderStyle?a.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},a.exporterPdfHeader=a.exporterPdfHeader?a.exporterPdfHeader:null,a.exporterPdfFooter=a.exporterPdfFooter?a.exporterPdfFooter:null,a.exporterPdfOrientation=a.exporterPdfOrientation?a.exporterPdfOrientation:"landscape",a.exporterPdfPageSize=a.exporterPdfPageSize?a.exporterPdfPageSize:"A4",a.exporterPdfMaxGridWidth=a.exporterPdfMaxGridWidth?a.exporterPdfMaxGridWidth:720,a.exporterMenuCsv=void 0===a.exporterMenuCsv||a.exporterMenuCsv,a.exporterMenuPdf=void 0===a.exporterMenuPdf||a.exporterMenuPdf,a.exporterPdfCustomFormatter=a.exporterPdfCustomFormatter&&"function"==typeof a.exporterPdfCustomFormatter?a.exporterPdfCustomFormatter:function(a){return a},a.exporterHeaderFilterUseName=a.exporterHeaderFilterUseName===!0,a.exporterFieldCallback=a.exporterFieldCallback?a.exporterFieldCallback:function(a,b,c,d){return d}},addToMenu:function(a){a.api.core.addToGridMenu(a,[{title:g.getSafeText("gridMenu.exporterAllAsCsv"),action:function(a){this.grid.api.exporter.csvExport(b.ALL,b.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:g.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(a){this.grid.api.exporter.csvExport(b.VISIBLE,b.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:g.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(a){this.grid.api.exporter.csvExport(b.SELECTED,b.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}},{title:g.getSafeText("gridMenu.exporterAllAsPdf"),action:function(a){this.grid.api.exporter.pdfExport(b.ALL,b.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:g.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(a){this.grid.api.exporter.pdfExport(b.VISIBLE,b.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:g.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(a){this.grid.api.exporter.pdfExport(b.SELECTED,b.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}}])},csvExport:function(a,b,c){var d=this.getColumnHeaders(a,c),e=this.getData(a,b,c),f=this.formatAsCsv(d,e,a.options.exporterCsvColumnSeparator);this.downloadFile(a.options.exporterCsvFilename,f)},getColumnHeaders:function(a,c){var d=[];return angular.forEach(a.columns,function(e,f){!e.visible&&c!==b.ALL||e.colDef.exporterSuppressExport===!0||a.options.exporterSuppressColumns.indexOf(e.name)!==-1||d.push({name:e.field,displayName:a.options.exporterHeaderFilter?a.options.exporterHeaderFilterUseName?a.options.exporterHeaderFilter(e.name):a.options.exporterHeaderFilter(e.displayName):e.displayName,width:e.drawnWidth?e.drawnWidth:e.width,align:"number"===e.colDef.type?"right":"left"})}),d},getData:function(a,c,e){var f,g=[];switch(c){case b.ALL:f=a.rows;break;case b.VISIBLE:f=a.getVisibleRows();break;case b.SELECTED:a.api.selection?f=a.api.selection.getSelectedGridRows():d.logError("selection feature must be enabled to allow selected rows to be exported")}return angular.forEach(f,function(c,d){if(c.exporterEnableExporting!==!1){var f=[];angular.forEach(a.columns,function(d,g){if((d.visible||e===b.ALL)&&d.colDef.exporterSuppressExport!==!0&&a.options.exporterSuppressColumns.indexOf(d.name)===-1){var h={value:a.options.exporterFieldCallback(a,c,d,a.getCellValue(c,d))};d.colDef.exporterPdfAlign&&(h.alignment=d.colDef.exporterPdfAlign),f.push(h)}}),g.push(f)}}),g},formatAsCsv:function(a,b,c){var d=this,e=a.map(function(a){return{value:a.displayName}}),f=d.formatRowAsCsv(this,c)(e)+"\n";return f+=b.map(this.formatRowAsCsv(this,c)).join("\n")},formatRowAsCsv:function(a,b){return function(c){return c.map(a.formatFieldAsCsv).join(b)}},formatFieldAsCsv:function(a){return null==a.value?"":"number"==typeof a.value?a.value:"boolean"==typeof a.value?a.value?"TRUE":"FALSE":"string"==typeof a.value?'"'+a.value.replace(/"/g,'""')+'"':JSON.stringify(a.value)},isIE:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("msie")!==-1&&parseInt(a.split("msie")[1])},downloadFile:function(a,b){var c,d=document,e=d.createElement("a"),f="application/octet-stream;charset=utf-8";if(!a){var g=new Date;a="CWS Export - "+g.getFullYear()+(g.getMonth()+1)+g.getDate()+g.getHours()+g.getMinutes()+g.getSeconds()+".csv"}if(this.isIE()<10){var h=d.createElement("iframe");return document.body.appendChild(h),h.contentWindow.document.open("text/html","replace"),h.contentWindow.document.write("sep=,\r\n"+b),h.contentWindow.document.close(),h.contentWindow.focus(),h.contentWindow.document.execCommand("SaveAs",!0,a),document.body.removeChild(h),!0}if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob(["\ufeff",b],{type:f}),a);if("download"in e){var i=new Blob([b],{type:f});c=URL.createObjectURL(i),e.setAttribute("download",a)}else c="data:"+f+","+encodeURIComponent(b),e.setAttribute("target","_blank");e.href=c,e.setAttribute("style","display:none;"),d.body.appendChild(e),setTimeout(function(){if(e.click)e.click();else if(document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),e.dispatchEvent(a)}d.body.removeChild(e)},100)},pdfExport:function(a,b,c){var d=this.getColumnHeaders(a,c),e=this.getData(a,b,c),f=this.prepareAsPdf(a,d,e);pdfMake.createPdf(f).open()},prepareAsPdf:function(a,b,c){var d=this.calculatePdfHeaderWidths(a,b),e=b.map(function(a){return{text:a.displayName,style:"tableHeader"}}),f=c.map(this.formatRowAsPdf(this)),g=[e].concat(f),h={pageOrientation:a.options.exporterPdfOrientation,pageSize:a.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:d,body:g}}],styles:{tableStyle:a.options.exporterPdfTableStyle,tableHeader:a.options.exporterPdfTableHeaderStyle},defaultStyle:a.options.exporterPdfDefaultStyle};return a.options.exporterPdfLayout&&(h.layout=a.options.exporterPdfLayout),a.options.exporterPdfHeader&&(h.header=a.options.exporterPdfHeader),a.options.exporterPdfFooter&&(h.footer=a.options.exporterPdfFooter),a.options.exporterPdfCustomFormatter&&(h=a.options.exporterPdfCustomFormatter(h)),h},calculatePdfHeaderWidths:function(a,b){var c=0;angular.forEach(b,function(a){"number"==typeof a.width&&(c+=a.width)});var d=0;angular.forEach(b,function(a){if("*"===a.width&&(d+=100),"string"==typeof a.width&&a.width.match(/(\d)*%/)){var b=parseInt(a.width.match(/(\d)*%/)[0]);a.width=c*b/100,d+=a.width}});var e=c+d;return b.map(function(b){return"*"===b.width?b.width:b.width*a.options.exporterPdfMaxGridWidth/e})},formatRowAsPdf:function(a){return function(b){return b.map(a.formatFieldAsPdfString)}},formatFieldAsPdfString:function(a){var b;return b=null==a.value?"":"number"==typeof a.value?a.value.toString():"boolean"==typeof a.value?a.value?"TRUE":"FALSE":"string"==typeof a.value?a.value.replace(/"/g,'""'):JSON.stringify(a.value).replace(/^"/,"").replace(/"$/,""),a.alignment&&"string"==typeof a.alignment&&(b={text:b,alignment:a.alignment}),b}};return h}]),a.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(a,b,c,d){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(a,c,d,e){b.initializeGrid(e.grid),e.grid.exporter.$scope=a}}}])}(),function(){"use strict";var a=angular.module("ui.grid.importer",["ui.grid"]);a.constant("uiGridImporterConstants",{featureName:"importer"}),a.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(a,b,c,d,e,f,g,h){var i={initializeGrid:function(a,b){b.importer={$scope:a},this.defaultGridOptions(b.options);var c={events:{importer:{}},methods:{importer:{importFile:function(a){i.importThisFile(b,a)}}}};b.api.registerEventsFromObject(c.events),b.api.registerMethodsFromObject(c.methods),b.options.enableImporter&&b.options.importerShowMenu&&(b.api.core.addToGridMenu?i.addToMenu(b):f(function(){b.api.core.addToGridMenu&&i.addToMenu(b)},100,1))},defaultGridOptions:function(a){a.enableImporter||void 0===a.enableImporter?h.hasOwnProperty("File")&&h.hasOwnProperty("FileReader")&&h.hasOwnProperty("FileList")&&h.hasOwnProperty("Blob")?a.enableImporter=!0:(d.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),a.enableImporter=!1):a.enableImporter=!1,a.importerProcessHeaders=a.importerProcessHeaders||i.processHeaders,a.importerHeaderFilter=a.importerHeaderFilter||function(a){return a},a.importerErrorCallback&&"function"==typeof a.importerErrorCallback||delete a.importerErrorCallback,a.enableImporter!==!0||a.importerDataAddCallback||(d.logError("You have not set an importerDataAddCallback, importer is disabled"),a.enableImporter=!1),a.importerShowMenu=a.importerShowMenu!==!1,a.importerObjectCallback=a.importerObjectCallback||function(a,b){return b}},addToMenu:function(a){a.api.core.addToGridMenu(a,[{title:g.getSafeText("gridMenu.importerTitle")},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(b){this.grid.api.importer.importAFile(a)}}])},importThisFile:function(a,b){if(!b)return void d.logError("No file object provided to importThisFile, should be impossible, aborting");var c=new FileReader;switch(b.type){case"application/json":c.onload=i.importJsonClosure(a);break;default:c.onload=i.importCsvClosure(a)}c.readAsText(b)},importJsonClosure:function(a){return function(b){var c,d=[];angular.forEach(i.parseJson(a,b),function(b,e){c=i.newObject(a),angular.extend(c,b),c=a.options.importerObjectCallback(a,c),d.push(c)}),i.addObjects(a,d)}},parseJson:function(a,b){var c;try{c=JSON.parse(b.target.result)}catch(d){return void i.alertError(a,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",b.target.result)}return Array.isArray(c)?c:(i.alertError(a,"importer.jsonNotarray","Import failed, file is not an array, file was: ",b.target.result),[])},importCsvClosure:function(a){return function(b){var c=i.parseCsv(b);if(!c||c.length<1)return void i.alertError(a,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",b.target.result);var d=i.createCsvObjects(a,c);return d&&0!==d.length?void i.addObjects(a,d):void i.alertError(a,"importer.noObjects","Objects were not able to be derived, content was: ",b.target.result)}},parseCsv:function(a){var b=a.target.result;return CSV.parse(b)},createCsvObjects:function(a,b){var c=a.options.importerProcessHeaders(a,b.shift());if(!c||0===c.length)return i.alertError(a,"importer.noHeaders","Column names could not be derived, content was: ",b),[];var d,e=[];return angular.forEach(b,function(b,f){d=i.newObject(a),angular.forEach(b,function(a,b){null!==c[b]&&(d[c[b]]=a)}),d=a.options.importerObjectCallback(a,d),e.push(d)}),e},processHeaders:function(a,b){var c=[];if(a.options.columnDefs&&0!==a.options.columnDefs.length){var d=i.flattenColumnDefs(a,a.options.columnDefs);return angular.forEach(b,function(a,b){d[a]?c.push(d[a]):d[a.toLowerCase()]?c.push(d[a.toLowerCase()]):c.push(null)}),c}return angular.forEach(b,function(a,b){c.push(a.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),c},flattenColumnDefs:function(a,b){var c={};return angular.forEach(b,function(b,d){b.name&&(c[b.name]=b.field||b.name,c[b.name.toLowerCase()]=b.field||b.name),b.field&&(c[b.field]=b.field||b.name,c[b.field.toLowerCase()]=b.field||b.name),b.displayName&&(c[b.displayName]=b.field||b.name,c[b.displayName.toLowerCase()]=b.field||b.name),b.displayName&&a.options.importerHeaderFilter&&(c[a.options.importerHeaderFilter(b.displayName)]=b.field||b.name,c[a.options.importerHeaderFilter(b.displayName).toLowerCase()]=b.field||b.name)}),c},addObjects:function(a,c,d){if(a.api.rowEdit){var e=a.registerDataChangeCallback(function(){a.api.rowEdit.setRowsDirty(c),
e()},[b.dataChange.ROW]);a.importer.$scope.$on("$destroy",e)}a.importer.$scope.$apply(a.options.importerDataAddCallback(a,c))},newObject:function(a){return"undefined"!=typeof a.options&&"undefined"!=typeof a.options.importerNewObject?new a.options.importerNewObject:{}},alertError:function(a,b,c,e){a.options.importerErrorCallback?a.options.importerErrorCallback(a,b,c,e):(h.alert(g.getSafeText(b)),d.logError(c+e))}};return i}]),a.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(a,b,c,d){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(a,c,d,e){b.initializeGrid(a,e.grid)}}}]),a.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(a,b,c,d){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(a,d,e,f){var g=function(a){var c=a.srcElement||a.target;if(c&&c.files&&1===c.files.length){var d=c.files[0];b.importThisFile(i,d),c.form.reset()}},h=d[0].querySelectorAll(".ui-grid-importer-file-chooser"),i=f.grid;1!==h.length?c.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):h[0].addEventListener("change",g,!1)}}}])}(),function(){"use strict";var a=angular.module("ui.grid.infiniteScroll",["ui.grid"]);a.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants",function(a,b,c,d){var e={initializeGrid:function(a){e.defaultGridOptions(a.options);var b={events:{infiniteScroll:{needLoadMoreData:function(a,b){},needLoadMoreDataTop:function(a,b){}}},methods:{infiniteScroll:{dataLoaded:function(){a.options.loadTimout=!1}}}};a.options.loadTimout=!1,a.api.registerEventsFromObject(b.events),a.api.registerMethodsFromObject(b.methods)},defaultGridOptions:function(a){a.enableInfiniteScroll=a.enableInfiniteScroll!==!1},loadData:function(a){return a.options.loadTimout=!0,a.scrollDirection===d.scrollDirection.UP?void a.api.infiniteScroll.raise.needLoadMoreDataTop():void a.api.infiniteScroll.raise.needLoadMoreData()},checkScroll:function(a,b){var c=a.options.infiniteScrollPercentage?a.options.infiniteScrollPercentage:20;return!a.options.loadTimout&&b<=c&&(this.loadData(a),!0)}};return e}]),a.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(a){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(b,c,d){return{pre:function(b,c,d,e){a.initializeGrid(e.grid)},post:function(a,b,c){}}}}}]),a.directive("uiGridViewport",["$compile","gridUtil","uiGridInfiniteScrollService","uiGridConstants",function(a,b,c,d){return{priority:-200,scope:!1,link:function(a,b,e){a.grid.options.enableInfiniteScroll&&a.grid.api.core.on.scrollEvent(a,function(b){if(b.y&&"ui.grid.adjustInfiniteScrollPosition"!==b.source){var e=100-100*b.y.percentage;a.grid.scrollDirection===d.scrollDirection.UP&&(e=100*b.y.percentage),c.checkScroll(a.grid,e)}})}}}])}(),function(){"use strict";var a=angular.module("ui.grid.moveColumns",["ui.grid"]);a.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants",function(a,b,c,d,e){var f={initializeGrid:function(a){var b=this;this.registerPublicApi(a),this.defaultGridOptions(a.options),a.registerColumnBuilder(b.movableColumnBuilder)},registerPublicApi:function(a){var b=this,c={events:{colMovable:{columnPositionChanged:function(a,b,c){}}},methods:{colMovable:{moveColumn:function(c,d){var e=a.columns;if(!angular.isNumber(c)||!angular.isNumber(d))return void console.log("Please provide valid values for originalPosition and finalPosition");for(var f=0,g=0;g<e.length;g++)(angular.isDefined(e[g].colDef.visible)&&e[g].colDef.visible===!1||e[g].isRowHeader===!0)&&f++;if(c>=e.length-f||d>=e.length-f)return void console.log("Invalid values for originalPosition, finalPosition");var h=function(a){for(var b=a,c=0;c<=b;c++)angular.isDefined(e[c])&&(angular.isDefined(e[c].colDef.visible)&&e[c].colDef.visible===!1||e[c].isRowHeader===!0)&&b++;return b};b.redrawColumnAtPosition(a,h(c),h(d))}}}};a.api.registerEventsFromObject(c.events),a.api.registerMethodsFromObject(c.methods)},defaultGridOptions:function(a){a.enableColumnMoving=a.enableColumnMoving!==!1},movableColumnBuilder:function(b,c,d){var e=[];return b.enableColumnMoving=void 0===b.enableColumnMoving?d.enableColumnMoving:b.enableColumnMoving,a.all(e)},redrawColumnAtPosition:function(a,c,d){var f=a.columns,g=f[c];if(g.colDef.enableColumnMoving){if(c>d)for(var h=c;h>d;h--)f[h]=f[h-1];else if(d>c)for(var i=c;i<d;i++)f[i]=f[i+1];f[d]=g,b(function(){a.api.core.notifyDataChange(e.dataChange.COLUMN),a.refresh(),a.api.colMovable.raise.columnPositionChanged(g.colDef,c,d)})}}};return f}]),a.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(a){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(b,c,d,e){a.initializeGrid(e.grid)},post:function(a,b,c,d){}}}}}]),a.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(a,b,c,d,e,f,g){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(a,e,h,i){a.col.colDef.enableColumnMoving&&a.$on(f.events.COLUMN_HEADER_CLICK,function(f,h){if(h.columnName===a.col.colDef.name&&!a.col.renderContainer){var j=h.event;if("ui-grid-icon-angle-down"!==j.target.className&&"I"!==j.target.tagName&&j.target.className.indexOf("ui-grid-filter-input")<0){var k,l,m=a.grid.element[0].getBoundingClientRect().left,n=j.pageX,o=0,p=m+a.grid.getViewportWidth(),q=!1,r=function(){q=!0,k=e.clone(),e.parent().append(k),k.addClass("movingColumn");var b={},c=e[0].getBoundingClientRect().left;b.left=c-m+"px";var d=a.grid.element[0].getBoundingClientRect().right,f=e[0].getBoundingClientRect().right;f>d&&(l=a.col.drawnWidth+(d-f),b.width=l+"px"),k.css(b)},s=function(c){i.fireEvent("hide-menu");for(var d=a.grid.columns,e=0,f=0;f<d.length;f++)(angular.isUndefined(d[f].colDef.visible)||d[f].colDef.visible===!0)&&(e+=d[f].drawnWidth||d[f].width||d[f].colDef.width);var h,j=k[0].getBoundingClientRect().left-1,n=k[0].getBoundingClientRect().right;if(h="ie"===b.detectBrowser()?j+c:j-m+c,h=h<p?h:p,(j>=m||c>0)&&(n<=p||c<0))k.css({visibility:"visible",left:h+"px"});else if(e>Math.ceil(i.grid.gridWidth)){c*=8;var q=new g(a.col.grid,null,null,"uiGridHeaderCell.moveElement");q.x={pixels:c},q.fireScrollingEvent()}for(var r=0,s=0;s<d.length;s++)if(angular.isUndefined(d[s].colDef.visible)||d[s].colDef.visible===!0){if(d[s].colDef.name===a.col.colDef.name)break;r+=d[s].drawnWidth||d[s].width||d[s].colDef.width}void 0===a.newScrollLeft?o+=c:o=a.newScrollLeft+h-r,l<a.col.drawnWidth&&(l+=Math.abs(c),k.css({width:l+"px"}))},t=function(a){document.onselectstart=function(){return!1};var b=a.pageX-n;!q&&Math.abs(b)>50?r():q&&(s(b),n=a.pageX)};d.on("mousemove",t);var u=function(b){document.onselectstart=null,k&&k.remove();for(var e=a.grid.columns,f=0,g=0;g<e.length&&e[g].colDef.name!==a.col.colDef.name;g++)f++;if(o<0){for(var h=0,i=f-1;i>=0;i--)if((angular.isUndefined(e[i].colDef.visible)||e[i].colDef.visible===!0)&&(h+=e[i].drawnWidth||e[i].width||e[i].colDef.width,h>Math.abs(o))){c.redrawColumnAtPosition(a.grid,f,i+1);break}h<Math.abs(o)&&c.redrawColumnAtPosition(a.grid,f,0)}else if(o>0){for(var j=0,l=f+1;l<e.length;l++)if((angular.isUndefined(e[l].colDef.visible)||e[l].colDef.visible===!0)&&(j+=e[l].drawnWidth||e[l].width||e[l].colDef.width,j>o)){c.redrawColumnAtPosition(a.grid,f,l-1);break}j<o&&c.redrawColumnAtPosition(a.grid,f,e.length-1)}d.off("mousemove",t),d.off("mouseup",u)};d.on("mouseup",u)}}})}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.pagination",["ng","ui.grid"]);a.service("uiGridPaginationService",["gridUtil",function(a){var b={initializeGrid:function(a){b.defaultGridOptions(a.options);var c={events:{pagination:{paginationChanged:function(a,b){}}},methods:{pagination:{getPage:function(){return a.options.enablePagination?a.options.paginationCurrentPage:null},getTotalPages:function(){return a.options.enablePagination?0===a.options.totalItems?1:Math.ceil(a.options.totalItems/a.options.paginationPageSize):null},nextPage:function(){a.options.enablePagination&&(a.options.totalItems>0?a.options.paginationCurrentPage=Math.min(a.options.paginationCurrentPage+1,c.methods.pagination.getTotalPages()):a.options.paginationCurrentPage++)},previousPage:function(){a.options.enablePagination&&(a.options.paginationCurrentPage=Math.max(a.options.paginationCurrentPage-1,1))},seek:function(b){if(a.options.enablePagination){if(!angular.isNumber(b)||b<1)throw"Invalid page number: "+b;a.options.paginationCurrentPage=Math.min(b,c.methods.pagination.getTotalPages())}}}}};a.api.registerEventsFromObject(c.events),a.api.registerMethodsFromObject(c.methods),a.registerRowsProcessor(function(b){if(a.options.useExternalPagination||!a.options.enablePagination)return b;var c=parseInt(a.options.paginationPageSize,10),d=parseInt(a.options.paginationCurrentPage,10),e=b.filter(function(a){return a.visible});a.options.totalItems=e.length;var f=(d-1)*c;return f>e.length&&(d=a.options.paginationCurrentPage=1,f=(d-1)*c),e.slice(f,f+c)})},defaultGridOptions:function(b){b.enablePagination=b.enablePagination!==!1,b.enablePaginationControls=b.enablePaginationControls!==!1,b.useExternalPagination=b.useExternalPagination===!0,a.isNullOrUndefined(b.totalItems)&&(b.totalItems=0),a.isNullOrUndefined(b.paginationPageSizes)&&(b.paginationPageSizes=[250,500,1e3]),a.isNullOrUndefined(b.paginationPageSize)&&(b.paginationPageSizes.length>0?b.paginationPageSize=b.paginationPageSizes[0]:b.paginationPageSize=0),a.isNullOrUndefined(b.paginationCurrentPage)&&(b.paginationCurrentPage=1),a.isNullOrUndefined(b.paginationTemplate)&&(b.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(a,b,c){a.api.pagination.raise.paginationChanged(b,c),a.options.useExternalPagination||a.refresh()}};return b}]),a.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(a,b){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(c,d,e,f){b.initializeGrid(f.grid),a.getTemplate(f.grid.options.paginationTemplate).then(function(a){var b=angular.element(a);d.append(b),f.innerCompile(b)})}}}}]),a.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(a,b,c,d){return{priority:-200,scope:!0,require:"^uiGrid",link:function(e,f,g,h){e.paginationApi=h.grid.api.pagination,e.sizesLabel=d.getSafeText("pagination.sizes"),e.totalItemsLabel=d.getSafeText("pagination.totalItems");var i=h.grid.options;h.grid.renderContainers.body.registerViewportAdjuster(function(a){return a.height=a.height-c.elementHeight(f),a});var j=h.grid.registerDataChangeCallback(function(a){a.options.useExternalPagination||(a.options.totalItems=a.rows.length)},[b.dataChange.ROW]);e.$on("$destroy",j);var k=function(){e.showingLow=(i.paginationCurrentPage-1)*i.paginationPageSize+1,e.showingHigh=Math.min(i.paginationCurrentPage*i.paginationPageSize,i.totalItems)},l=e.$watch("grid.options.totalItems + grid.options.paginationPageSize",k),m=e.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(b,c){if(b!==c){if(!angular.isNumber(i.paginationCurrentPage)||i.paginationCurrentPage<1)return void(i.paginationCurrentPage=1);if(i.totalItems>0&&i.paginationCurrentPage>e.paginationApi.getTotalPages())return void(i.paginationCurrentPage=e.paginationApi.getTotalPages());k(),a.onPaginationChanged(e.grid,i.paginationCurrentPage,i.paginationPageSize)}});e.$on("$destroy",function(){l(),m()}),e.cantPageForward=function(){return i.totalItems>0?i.paginationCurrentPage>=e.paginationApi.getTotalPages():i.data.length<1},e.cantPageToLast=function(){return!(i.totalItems>0)||e.cantPageForward()},e.cantPageBackward=function(){return i.paginationCurrentPage<=1}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.pinning",["ui.grid"]);a.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService",function(a,b,c){var d={initializeGrid:function(a){d.defaultGridOptions(a.options),a.registerColumnBuilder(d.pinningColumnBuilder)},defaultGridOptions:function(a){a.enablePinning=a.enablePinning!==!1},pinningColumnBuilder:function(b,d,e){if(b.enablePinning=void 0===b.enablePinning?e.enablePinning:b.enablePinning,b.pinnedLeft?"*"===d.width?d.grid.refresh().then(function(){d.renderContainer="left",d.width=d.grid.canvasWidth/d.grid.columns.length,d.grid.createLeftContainer()}):(d.renderContainer="left",d.grid.createLeftContainer()):b.pinnedRight&&("*"===d.width?d.grid.refresh().then(function(){d.renderContainer="right",d.width=d.grid.canvasWidth/d.grid.columns.length,d.grid.createRightContainer()}):(d.renderContainer="right",d.grid.createRightContainer())),b.enablePinning){var f={name:"ui.grid.pinning.pinLeft",title:c.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createLeftContainer(),d.grid.refresh().then(function(){d.grid.refresh()})}},g={name:"ui.grid.pinning.pinRight",title:c.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createRightContainer(),d.grid.refresh().then(function(){d.grid.refresh()})}},h={name:"ui.grid.pinning.unpin",title:c.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,d.grid.refresh().then(function(){d.grid.refresh()})}};a.arrayContainsObjectWithProperty(d.menuItems,"name","ui.grid.pinning.pinLeft")||d.menuItems.push(f),a.arrayContainsObjectWithProperty(d.menuItems,"name","ui.grid.pinning.pinRight")||d.menuItems.push(g),a.arrayContainsObjectWithProperty(d.menuItems,"name","ui.grid.pinning.unpin")||d.menuItems.push(h)}}};return d}]),a.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(a,b){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(a,c,d,e){b.initializeGrid(e.grid)},post:function(a,b,c,d){}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.resizeColumns",["ui.grid"]);a.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(a,b,c){var d={defaultGridOptions:function(a){a.enableColumnResizing=a.enableColumnResizing!==!1,a.enableColumnResize===!1&&(a.enableColumnResizing=!1)},colResizerColumnBuilder:function(a,c,d){var e=[];return a.enableColumnResizing=void 0===a.enableColumnResizing?d.enableColumnResizing:a.enableColumnResizing,a.enableColumnResize===!1&&(a.enableColumnResizing=!1),b.all(e)},registerPublicApi:function(a){var b={events:{colResizable:{columnSizeChanged:function(a,b){}}}};a.api.registerEventsFromObject(b.events)},fireColumnSizeChanged:function(a,b,d){c(function(){a.api.colResizable.raise.columnSizeChanged(b,d)})},findTargetCol:function(a,b,c){var d=a.getRenderContainer();if("left"===b){var e=d.visibleColumnCache.indexOf(a);return d.visibleColumnCache[e-1*c]}return a}};return d}]),a.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(a,b){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(a,c,d,e){b.defaultGridOptions(e.grid.options),e.grid.registerColumnBuilder(b.colResizerColumnBuilder),b.registerPublicApi(e.grid)},post:function(a,b,c,d){}}}}}]),a.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(a,b,c,d,e,f,g){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(a,d,h,i){var j=i.grid;if(j.options.enableColumnResizing){var k=b.get("ui-grid/columnResizer"),l=1;j.isRTL()&&(a.position="left",l=-1);var m=function(){for(var b=d[0].getElementsByClassName("ui-grid-column-resizer"),f=0;f<b.length;f++)angular.element(b[f]).remove();var g=e.findTargetCol(a.col,"left",l),h=a.col.getRenderContainer();if(g&&0!==h.visibleColumnCache.indexOf(a.col)&&g.colDef.enableColumnResizing!==!1){var i=angular.element(k).clone();i.attr("position","left"),d.prepend(i),c(i)(a)}if(a.col.colDef.enableColumnResizing!==!1){var j=angular.element(k).clone();j.attr("position","right"),d.append(j),c(j)(a)}};m();var n=function(){g(m)},o=j.registerDataChangeCallback(n,[f.dataChange.COLUMN]);a.$on("$destroy",o)}}}}}}]),a.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(a,b,c,d){var e,f,g,h=angular.element('<div class="ui-grid-resize-overlay"></div>');b.isTouchEnabled()?(e="touchstart",f="touchend",g="touchmove"):(e="mousedown",f="mouseup",g="mousemove");var i={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(i,j,k,l){function m(a){var b=a.getRenderContainer();b.visibleColumnCache.forEach(function(b){if(b!==a){var c=b.colDef;c.width&&(!angular.isString(c.width)||c.width.indexOf("*")===-1&&c.width.indexOf("%")===-1)||(b.width=b.drawnWidth)}})}function n(a){l.grid.buildColumns().then(function(){l.grid.refreshCanvas(!0).then(function(){l.grid.refresh()})})}function o(a,b){var c=b;return a.colDef.minWidth&&c<a.colDef.minWidth?c=a.colDef.minWidth:a.colDef.maxWidth&&c>a.colDef.maxWidth&&(c=a.colDef.maxWidth),c}function p(a,b){a.originalEvent&&(a=a.originalEvent),a.preventDefault(),s=(a.targetTouches?a.targetTouches[0]:a).clientX-t,s<0?s=0:s>l.grid.gridWidth&&(s=l.grid.gridWidth);var e=d.findTargetCol(i.col,i.position,u);if(e.colDef.enableColumnResizing!==!1){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var f=s-r,g=parseInt(e.drawnWidth+f*u,10);s+=(o(e,g)-g)*u,h.css({left:s+"px"}),l.fireEvent(c.events.ITEM_DRAGGING)}}function q(b,c){b.originalEvent&&(b=b.originalEvent),b.preventDefault(),l.grid.element.removeClass("column-resizing"),h.remove(),s=(b.changedTouches?b.changedTouches[0]:b).clientX-t;var e=s-r;if(0===e)return a.off(f,q),void a.off(g,p);var j=d.findTargetCol(i.col,i.position,u);if(j.colDef.enableColumnResizing!==!1){var k=parseInt(j.drawnWidth+e*u,10);j.width=o(j,k),m(j),n(e),d.fireColumnSizeChanged(l.grid,j.colDef,e),a.off(f,q),a.off(g,p)}}var r=0,s=0,t=0,u=1;l.grid.isRTL()&&(i.position="left",u=-1),"left"===i.position?j.addClass("left"):"right"===i.position&&j.addClass("right"),j.on(e,function(b,c){b.originalEvent&&(b=b.originalEvent),b.stopPropagation(),t=l.grid.element[0].getBoundingClientRect().left,r=(b.targetTouches?b.targetTouches[0]:b).clientX-t,l.grid.element.append(h),h.css({left:r}),a.on(f,q),a.on(g,p)}),j.on("dblclick",function(a,e){a.stopPropagation();var f=d.findTargetCol(i.col,i.position,u);if(f.colDef.enableColumnResizing!==!1){var g=0,h=0,k=b.closestElm(j,".ui-grid-render-container"),p=k.querySelectorAll("."+c.COL_CLASS_PREFIX+f.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(p,function(a){var c;angular.element(a).parent().hasClass("ui-grid-header-cell")&&(c=angular.element(a).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),b.fakeElement(a,{},function(a){var d=angular.element(a);d.attr("style","float: left");var e=b.elementWidth(d);if(c){var f=b.elementWidth(c);e+=f}e>g&&(g=e,h=g-e)})}),f.width=o(f,g),m(f),n(h),d.fireColumnSizeChanged(l.grid,f.colDef,h)}}),j.on("$destroy",function(){j.off(e),j.off("dblclick"),a.off(g,p),a.off(f,q)})}};return i}])}(),function(){"use strict";var a=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);a.constant("uiGridRowEditConstants",{}),a.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(a,b,c,d,e){var f={initializeGrid:function(a,b){b.rowEdit={};var c={events:{rowEdit:{saveRow:function(a){}}},methods:{rowEdit:{setSavePromise:function(a,c){f.setSavePromise(b,a,c)},getDirtyRows:function(){return b.rowEdit.dirtyRows?b.rowEdit.dirtyRows:[]},getErrorRows:function(){return b.rowEdit.errorRows?b.rowEdit.errorRows:[]},flushDirtyRows:function(){return f.flushDirtyRows(b)},setRowsDirty:function(a){f.setRowsDirty(b,a)}}}};b.api.registerEventsFromObject(c.events),b.api.registerMethodsFromObject(c.methods),b.api.core.on.renderingComplete(a,function(c){b.api.edit.on.afterCellEdit(a,f.endEditCell),b.api.edit.on.beginCellEdit(a,f.beginEditCell),b.api.edit.on.cancelCellEdit(a,f.cancelEditCell),b.api.cellNav&&b.api.cellNav.on.navigate(a,f.navigate)})},defaultGridOptions:function(a){},saveRow:function(a,b){var c=this;return function(){b.isSaving=!0;var d=a.api.rowEdit.raise.saveRow(b.entity);return b.rowEditSavePromise?b.rowEditSavePromise.then(c.processSuccessPromise(a,b),c.processErrorPromise(a,b)):e.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),d}},setSavePromise:function(a,b,c){var d=a.getRow(b);d.rowEditSavePromise=c},processSuccessPromise:function(a,b){var c=this;return function(){delete b.isSaving,delete b.isDirty,delete b.isError,delete b.rowEditSaveTimer,c.removeRow(a.rowEdit.errorRows,b),c.removeRow(a.rowEdit.dirtyRows,b)}},processErrorPromise:function(a,b){return function(){delete b.isSaving,delete b.rowEditSaveTimer,b.isError=!0,a.rowEdit.errorRows||(a.rowEdit.errorRows=[]),f.isRowPresent(a.rowEdit.errorRows,b)||a.rowEdit.errorRows.push(b)}},removeRow:function(a,b){angular.forEach(a,function(c,d){c.uid===b.uid&&a.splice(d,1)})},isRowPresent:function(a,b){var c=!1;return angular.forEach(a,function(a,d){a.uid===b.uid&&(c=!0)}),c},flushDirtyRows:function(a){var c=[];return angular.forEach(a.rowEdit.dirtyRows,function(b){f.saveRow(a,b)(),c.push(b.rowEditSavePromise)}),b.all(c)},endEditCell:function(a,b,c,d){var g=this.grid,h=g.getRow(a);return h?void((c!==d||h.isDirty)&&(g.rowEdit.dirtyRows||(g.rowEdit.dirtyRows=[]),h.isDirty||(h.isDirty=!0,g.rowEdit.dirtyRows.push(h)),delete h.isError,f.considerSetTimer(g,h))):void e.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(a,b){var c=this.grid,d=c.getRow(a);return d?void f.cancelTimer(c,d):void e.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(a,b){var c=this.grid,d=c.getRow(a);return d?void f.considerSetTimer(c,d):void e.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(a,b){var c=this.grid;a.row.rowEditSaveTimer&&f.cancelTimer(c,a.row),b&&b.row&&b.row!==a.row&&f.considerSetTimer(c,b.row)},considerSetTimer:function(b,c){if(f.cancelTimer(b,c),c.isDirty&&!c.isSaving&&b.options.rowEditWaitInterval!==-1){var d=b.options.rowEditWaitInterval?b.options.rowEditWaitInterval:2e3;c.rowEditSaveTimer=a(f.saveRow(b,c),d,1)}},cancelTimer:function(b,c){c.rowEditSaveTimer&&!c.isSaving&&(a.cancel(c.rowEditSaveTimer),delete c.rowEditSaveTimer)},setRowsDirty:function(a,b){var c;b.forEach(function(b,d){c=a.getRow(b),c?(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),c.isDirty||(c.isDirty=!0,a.rowEdit.dirtyRows.push(c)),delete c.isError,f.considerSetTimer(a,c)):e.logError("requested row not found in rowEdit.setRowsDirty, row was: "+b)})}};return f}]),a.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(a,b,c){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(a,c,d,e){b.initializeGrid(a,e.grid)},post:function(a,b,c,d){}}}}}]),a.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(a,b,c,d){return{priority:-200,scope:!1,compile:function(a,b){var c=angular.element(a.children().children()[0]),d=c.attr("ng-class"),e="";return e=d?d.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",c.attr("ng-class",e),{pre:function(a,b,c,d){},post:function(a,b,c,d){}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav"]);a.constant("uiGridSaveStateConstants",{featureName:"saveState"}),a.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(a,b,c,d,e,f){var g={initializeGrid:function(a){a.saveState={},this.defaultGridOptions(a.options);var b={events:{saveState:{}},methods:{saveState:{save:function(){return g.save(a)},restore:function(b,c){g.restore(a,b,c)}}}};a.api.registerEventsFromObject(b.events),a.api.registerMethodsFromObject(b.methods)},defaultGridOptions:function(a){a.saveWidths=a.saveWidths!==!1,a.saveOrder=a.saveOrder!==!1,a.saveScroll=a.saveScroll===!0,a.saveFocus=a.saveScroll!==!0&&a.saveFocus!==!1,a.saveVisible=a.saveVisible!==!1,a.saveSort=a.saveSort!==!1,a.saveFilter=a.saveFilter!==!1,a.saveSelection=a.saveSelection!==!1},save:function(a){var b={};return b.columns=g.saveColumns(a),b.scrollFocus=g.saveScrollFocus(a),b.selection=g.saveSelection(a),b},restore:function(a,b,c){c.columns&&g.restoreColumns(a,c.columns),c.scrollFocus&&g.restoreScrollFocus(a,b,c.scrollFocus),c.selection&&g.restoreSelection(a,c.selection),a.refresh()},saveColumns:function(a){var b=[];return angular.forEach(a.columns,function(a){var c={};c.name=a.name,c.visible=a.visible,c.width=a.width,c.sort=angular.copy(a.sort),c.filters=angular.copy(a.filters),b.push(c)}),b},saveScrollFocus:function(a){if(!a.api.cellNav)return{};var b={};if(a.options.saveFocus){b.focus=!0;var c=a.api.cellNav.getFocusedCell();null!==c&&(b.colName=c.col.colDef.name,b.rowVal=g.getRowVal(a,c.row))}else a.options.saveScroll&&(b.focus=!1,a.renderContainers.body.prevRowScrollIndex&&(b.rowVal=g.getRowVal(a,a.renderContainers.body.visibleRowCache[a.renderContainers.body.prevRowScrollIndex])),a.renderContainers.body.prevColScrollIndex&&(b.colName=a.renderContainers.body.visibleColumnCache[a.renderContainers.body.prevColScrollIndex].name));return b},saveSelection:function(a){if(!a.api.selection||!a.options.saveSelection)return{};var b=a.api.selection.getSelectedGridRows().map(function(b){return g.getRowVal(a,b)});return b},getRowVal:function(a,b){if(!b)return null;var c={};return a.options.saveRowIdentity?(c.identity=!0,c.row=a.options.saveRowIdentity(b.entity)):(c.identity=!1,c.row=a.renderContainers.body.visibleRowCache.indexOf(b)),c},restoreColumns:function(a,b){angular.forEach(b,function(b,c){var d=a.columns.filter(function(a){return a.name===b.name});if(d.length>0){var e=a.columns.indexOf(d[0]);if(a.columns[e].visible===b.visible&&a.columns[e].colDef.visible===b.visible||(a.columns[e].visible=b.visible,a.columns[e].colDef.visible=b.visible,a.api.core.raise.columnVisibilityChanged(a.columns[e])),a.columns[e].width=b.width,angular.equals(a.columns[e].sort,b.sort&&!(void 0===a.columns[e].sort&&angular.isEmpty(b.sort)))||(a.columns[e].sort=angular.copy(b.sort),a.api.core.raise.sortChanged()),angular.equals(a.columns[e].filters,b.filters)||(a.columns[e].filters=angular.copy(b.filters),a.api.core.raise.filterChanged()),e!==c){var f=a.columns.splice(e,1)[0];a.columns.splice(c,0,f)}}})},restoreScrollFocus:function(a,b,c){if(a.api.cellNav){var d,e;if(c.colName){var f=a.options.columnDefs.filter(function(a){return a.name===c.colName});f.length>0&&(d=f[0])}c.rowVal&&c.rowVal.row&&(e=c.rowVal.identity?g.findRowByIdentity(a,c.rowVal):a.renderContainers.body.visibleRowCache[c.rowVal.row]);var h=e&&e.entity?e.entity:null;(d||h)&&(c.focus?a.api.cellNav.scrollToFocus(h,d):a.api.cellNav.scrollTo(h,d))}},restoreSelection:function(a,b){a.api.selection&&(a.api.selection.clearSelectedRows(),angular.forEach(b,function(b){if(b.identity){var c=g.findRowByIdentity(a,b);c&&a.api.selection.selectRow(c.entity)}else a.api.selection.selectRowByVisibleIndex(b.row)}))},findRowByIdentity:function(a,b){if(!a.options.saveRowIdentity)return null;var c=a.rows.filter(function(c){return a.options.saveRowIdentity(c.entity)===b.row});return c.length>0?c[0]:null}};return g}]),a.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(a,b,c,d){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(a,c,d,e){b.initializeGrid(e.grid)}}}])}(),function(){"use strict";var a=angular.module("ui.grid.selection",["ui.grid"]);a.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(a){a.decorator("GridRow",["$delegate",function(a){return a.prototype.setSelected=function(a){this.isSelected=a,a?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},a}])}]),a.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(a,b,c,d){var e={initializeGrid:function(a){a.selection={},a.selection.lastSelectedRow=null,a.selection.selectAll=!1,a.selection.selectedCount=0,e.defaultGridOptions(a.options);var b={events:{selection:{rowSelectionChanged:function(a,b,c){},rowSelectionChangedBatch:function(a,b,c){}}},methods:{selection:{toggleRowSelection:function(b,c){var d=a.getRow(b);null!==d&&d.enableSelection!==!1&&e.toggleRowSelection(a,d,c,a.options.multiSelect,a.options.noUnselect)},selectRow:function(b,c){var d=a.getRow(b);null===d||d.isSelected||d.enableSelection===!1||e.toggleRowSelection(a,d,c,a.options.multiSelect,a.options.noUnselect)},selectRowByVisibleIndex:function(b,c){var d=a.renderContainers.body.visibleRowCache[b];null===d||"undefined"==typeof d||d.isSelected||d.enableSelection===!1||e.toggleRowSelection(a,d,c,a.options.multiSelect,a.options.noUnselect)},unSelectRow:function(b,c){var d=a.getRow(b);null!==d&&d.isSelected&&e.toggleRowSelection(a,d,c,a.options.multiSelect,a.options.noUnselect)},selectAllRows:function(b){if(a.options.multiSelect!==!1){var c=[];a.rows.forEach(function(d){d.isSelected||d.enableSelection===!1||(d.setSelected(!0),e.decideRaiseSelectionEvent(a,d,c,b))}),e.decideRaiseSelectionBatchEvent(a,c,b),a.selection.selectAll=!0}},selectAllVisibleRows:function(b){if(a.options.multiSelect!==!1){var c=[];a.rows.forEach(function(d){d.visible?d.isSelected||d.enableSelection===!1||(d.setSelected(!0),e.decideRaiseSelectionEvent(a,d,c,b)):d.isSelected&&(d.setSelected(!1),e.decideRaiseSelectionEvent(a,d,c,b))}),e.decideRaiseSelectionBatchEvent(a,c,b),a.selection.selectAll=!0}},clearSelectedRows:function(b){e.clearSelectedRows(a,b)},getSelectedRows:function(){return e.getSelectedRows(a).map(function(a){return a.entity})},getSelectedGridRows:function(){return e.getSelectedRows(a)},setMultiSelect:function(b){a.options.multiSelect=b},setModifierKeysToMultiSelect:function(b){a.options.modifierKeysToMultiSelect=b},getSelectAllState:function(){return a.selection.selectAll}}}};a.api.registerEventsFromObject(b.events),a.api.registerMethodsFromObject(b.methods)},defaultGridOptions:function(a){a.enableRowSelection=a.enableRowSelection!==!1,a.multiSelect=a.multiSelect!==!1,a.noUnselect=a.noUnselect===!0,a.modifierKeysToMultiSelect=a.modifierKeysToMultiSelect===!0,a.enableRowHeaderSelection=a.enableRowHeaderSelection!==!1,a.enableSelectAll=a.enableSelectAll!==!1,a.enableSelectionBatchEvent=a.enableSelectionBatchEvent!==!1,a.selectionRowHeaderWidth=angular.isDefined(a.selectionRowHeaderWidth)?a.selectionRowHeaderWidth:30,a.enableFooterTotalSelected=a.enableFooterTotalSelected!==!1,a.isRowSelectable=angular.isDefined(a.isRowSelectable)?a.isRowSelectable:angular.noop},toggleRowSelection:function(a,b,c,d,f){var g=b.isSelected;if(d||g){if(!d&&g){var h=e.getSelectedRows(a);
h.length>1&&(g=!1,e.clearSelectedRows(a,c))}}else e.clearSelectedRows(a,c);g&&f||b.enableSelection!==!1&&(b.setSelected(!g),b.isSelected===!0?a.selection.lastSelectedRow=b:a.selection.selectAll=!1,a.api.selection.raise.rowSelectionChanged(b,c))},shiftSelect:function(a,b,c,d){if(d){var f=e.getSelectedRows(a),g=f.length>0?a.renderContainers.body.visibleRowCache.indexOf(a.selection.lastSelectedRow):0,h=a.renderContainers.body.visibleRowCache.indexOf(b);if(g>h){var i=g;g=h,h=i}for(var j=[],k=g;k<=h;k++){var l=a.renderContainers.body.visibleRowCache[k];l&&(l.isSelected||l.enableSelection===!1||(l.setSelected(!0),a.selection.lastSelectedRow=l,e.decideRaiseSelectionEvent(a,l,j,c)))}e.decideRaiseSelectionBatchEvent(a,j,c)}},getSelectedRows:function(a){return a.rows.filter(function(a){return a.isSelected})},clearSelectedRows:function(a,b){var c=[];e.getSelectedRows(a).forEach(function(d){d.isSelected&&(d.setSelected(!1),e.decideRaiseSelectionEvent(a,d,c,b))}),e.decideRaiseSelectionBatchEvent(a,c,b),a.selection.selectAll=!1},decideRaiseSelectionEvent:function(a,b,c,d){a.options.enableSelectionBatchEvent?c.push(b):a.api.selection.raise.rowSelectionChanged(b,d)},decideRaiseSelectionBatchEvent:function(a,b,c){b.length>0&&a.api.selection.raise.rowSelectionChangedBatch(b,c)}};return e}]),a.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(a,b,c){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(c,d,e,f){if(b.initializeGrid(f.grid),f.grid.options.enableRowHeaderSelection){var g={name:a.selectionRowHeaderColName,displayName:"",width:f.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0};f.grid.addRowHeaderColumn(g)}f.grid.options.isRowSelectable!==angular.noop&&f.grid.registerRowBuilder(function(a,b){a.enableSelection=f.grid.options.isRowSelectable(a)})},post:function(a,b,c,d){}}}}}]),a.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function(a,b){return{replace:!0,restrict:"E",template:a.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(a,c,d,e){var f=e.grid;a.selectButtonClick=function(a,c){c.shiftKey?b.shiftSelect(f,a,c,f.options.multiSelect):c.ctrlKey||c.metaKey?b.toggleRowSelection(f,a,c,f.options.multiSelect,f.options.noUnselect):b.toggleRowSelection(f,a,c,f.options.multiSelect&&!f.options.modifierKeysToMultiSelect,f.options.noUnselect)}}}}]),a.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(a,b){return{replace:!0,restrict:"E",template:a.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(a,c,d,e){var f=a.col.grid;a.headerButtonClick=function(a,c){f.selection.selectAll?(b.clearSelectedRows(f,c),f.options.noUnselect&&f.api.selection.selectRowByVisibleIndex(0,c),f.selection.selectAll=!1):f.options.multiSelect&&(f.api.selection.selectAllVisibleRows(c),f.selection.selectAll=!0)}}}}]),a.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(a,b,c,d,e,f){return{priority:-200,scope:!1,compile:function(a,b){var c=angular.element(a.children().children()[0]),d=c.attr("ng-class"),e="";return e=d?d.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",c.attr("ng-class",e),{pre:function(a,b,c,d){},post:function(a,b,c,d){}}}}}]),a.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(a,b,c,d,e,f){return{priority:-200,restrict:"A",scope:!1,link:function(a,c,d){function e(){a.grid.options.enableRowSelection&&!a.grid.options.enableRowHeaderSelection&&(c.addClass("ui-grid-disable-selection"),c.on("touchstart",k),c.on("touchend",l),c.on("click",j),a.registered=!0)}function g(){a.registered&&(c.removeClass("ui-grid-disable-selection"),c.off("touchstart",k),c.off("touchend",l),c.off("click",j),a.registered=!1)}var h=0,i=300,j=function(b){b.shiftKey?f.shiftSelect(a.grid,a.row,b,a.grid.options.multiSelect):b.ctrlKey||b.metaKey?f.toggleRowSelection(a.grid,a.row,b,a.grid.options.multiSelect,a.grid.options.noUnselect):f.toggleRowSelection(a.grid,a.row,b,a.grid.options.multiSelect&&!a.grid.options.modifierKeysToMultiSelect,a.grid.options.noUnselect),a.$apply()},k=function(a){h=(new Date).getTime()},l=function(a){var b=(new Date).getTime(),c=b-h;c<i&&j(a)};e();var m=a.grid.registerDataChangeCallback(function(){!a.grid.options.enableRowSelection||a.grid.options.enableRowHeaderSelection||a.registered?a.grid.options.enableRowSelection&&!a.grid.options.enableRowHeaderSelection||!a.registered||g():e()},[b.dataChange.OPTIONS]);c.on("$destroy",m)}}}]),a.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(a,b,c){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(b,d){return{pre:function(b,d,e,f){f.grid.options.showGridFooter&&c.getTemplate("ui-grid/gridFooterSelectedItems").then(function(c){var e=angular.element(c),f=a(e)(b);angular.element(d[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(f)})},post:function(a,b,c,d){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(a){"use strict";a.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),a.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),a.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),a.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div><div ui-grid-menu></div></div></div>'),a.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),a.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),a.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),a.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>'),a.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),a.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),a.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),a.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),a.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel" ng-show="!!colFilter.term">&nbsp;</i><!-- use !! because angular interprets \'f\' as false --></div></div></div>'),a.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>'),a.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),a.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showColumnFooter"></div></div>'),a.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewPortStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),a.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),a.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),a.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),a.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),a.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" style=\"float:left; margin-top: 2px; margin-bottom: 2px\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),a.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),a.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),a.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),a.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),a.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),a.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),a.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),a.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),a.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),a.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),a.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>')}]),angular.module("it.mlaf.ui",[]),angular.module("it.mlaf.ui").directive("intcAppFrame",["$document","$location",function(a,b){return{templateUrl:"external_components/it-mlaf-ui/templates/intcAppFrame.html",restrict:"E",transclude:!0,link:function(c,d,e){var f,g=function(){a.bind("click",function(){h()}),a.bind("click",function(){c.$apply(function(){c.showNav&&!c.openingNav&&c.toggleMenu(),c.openingNav=!1})}),c.intcAppFrame.nav&&c.intcAppFrame.nav.autoHighlightActiveItems&&(k(),c.$on("$locationChangeSuccess",function(a,b){k()}))};c.$watch("intcAppFrame.theme",function(a,b){c.intcAppFrame&&i(c.intcAppFrame.theme)}),c.$watch("intcAppFrame.mobileTheme",function(a,b){c.intcAppFrame&&j(c.intcAppFrame.mobileNavAnimation)}),c.handleClick=function(a){a&&a.onClick&&c.$eval(a.onClick)},c.toggleMenu=function(){c.showNav||(c.openingNav=!0),c.showNav=!c.showNav},c.toggleSubMenu=function(a){var b=angular.element(a.target).parent();"li"!=b.prop("tagName").toLowerCase()&&(b=b.parent());var c=b.parent().children();f=c,h(b),b.toggleClass("open"),a.stopPropagation()},c.openSearch=function(a){var b=angular.element(a.target).parent();"div"!=b.prop("tagName").toLowerCase()&&(b=b.parent()),b.toggleClass("open")},c.searchFocus=function(a){a.stopPropagation()},c.handleSearch=function(a){a&&a.onSearch?c.$eval(a.onSearch):b.path("search/"+c.globalSearchQuery)};var h=function(a){if(!f)return!0;for(var b=0;b<f.length;b++){var c=angular.element(f[b]);a&&c.html()===a.html()||c.removeClass("open")}},i=function(b){var c=angular.element(a[0].body);c.removeClass("kinked"),c.removeClass("semiStyle"),c.removeClass("itdz"),c.addClass(b)},j=function(b){var c=angular.element(a[0].body);if(c.removeClass("mobile-nav-slide"),b){var d="mobile-nav-"+b;c.addClass(d)}},k=function(){for(var a=b.path(),d=c.intcAppFrame.nav.items,e=0;e<d.length;e++){var f=d[e];if(f.active=!1,"Home"!=f.title&&"home"!=f.title||"/"!=a?"/"!=a&&f.href&&l(f.href,a)&&(f.active=!0):f.active=!0,f.subItems&&f.subItems.length)for(var g=0;g<f.subItems.length;g++){var h=f.subItems[g];h.active=!1,"/"!=a&&h.href&&l(h.href,a)&&(f.active=!0,h.active=!0)}}},l=function(a,b){return a.indexOf(b,a.length-b.length)!==-1};g()}}}]),"undefined"!=typeof jQuery?!function(a){a.fn.wordExport=function(){({mhtml:{top:"Mime-Version: 1.0\nContent-Base: "+location.href+'\nContent-Type: Multipart/related; boundary="NEXT.ITEM-BOUNDARY";type="text/html"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset="utf-8"\nContent-Location: '+location.href+"\n\n<!DOCTYPE html>\n<html>\n_html_</html>",head:'<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<style>\n_styles_\n</style>\n</head>\n',body:"<body>_body_</body>"}});a(this).find('.row, [class*="col-md-"]').each(function(b,c){var d=a(this);d.attr("attr-width",d.width()),d.attr("attr-height",d.height())});var b=a(this).clone();return a(this).parent().append(b),b.find(".hide-in-mail, .cr-circle, button, .highcharts-tooltip").remove(),b.find("img").each(function(b,c){var d=a(c),e=document.createElement("canvas");e.width=d.width(),e.height=d.height();var f=e.getContext("2d");f.drawImage(c,0,0),d.attr("src",e.toDataURL("img/png"))}),b.find("svg").each(function(b,c){svg2img(c,function(b){var d=a(c).parent();a(c).remove(),d.append(b)})}),b.find(".progress, .glyphicon, .cr-circle").each(function(b,c){html2canvas(c,{onrendered:function(b){var d=document.createElement("img"),e=b.getContext("2d");e.drawImage(d,0,0);var f=b.toDataURL("image/png");f.indexOf("image")<0?c.remove():(a(d).attr("src",f),c.parentNode.replaceChild(d,c))}})}),b.find(".row").each(function(a,b){rename_element(this,"table")}),b.find('[class*="col-md-"]').each(function(b,c){var d=rename_element(this,"td");a(d).css("vertical-align","top");var e=d.parentNode;if("tr"!==e.nodeName.toLowerCase()){for(var f,g=document.createElement("tr");f<e.childNodes.length;f++){var h=e.childNodes[f];g.appendChild(h)}e.appendChild(g)}}),a(this).find('.row, [class*="col-md-"]').each(function(b,c){a(this).removeAttr("attr-width"),a(this).removeAttr("attr-height")}),a(b).find("table, td").each(function(b,c){var d=a(this);d.width(d.attr("attr-width")),d.height(d.attr("attr-height")),d.removeAttr("attr-width"),d.removeAttr("attr-height")}),a.each(b.find("*"),function(b,c){a(this).css(getStyle(this));var d=this;Array.from(this.attributes).forEach(function(a){(a.nodeName.match(/^ng/)||"href"===a.nodeName||"id"===a.nodeName)&&d.removeAttributeNode(a)})}),b}}(jQuery):"undefined"==typeof jQuery&&console.error("jQuery Word Export: missing dependency (jQuery)"),angular.module("CampaignReportingApp",["CampaignReportingServices","ngCookies","ngResource","ngSanitize","ngRoute","ngWebSocket","ui.router","ui.select","ui.validate","ui.sortable","ui.bootstrap.showErrors","ui.bootstrap.collapse","ui.bootstrap","ui.bootstrap.typeahead","it.mlaf.ui","intcNg","intcConfigurator","intcWorkerPicker","app.core","app.data","app.auth","app.preferences","app.kpi","app.widgets","app.utils","app.filters","app.usage-statistics","app.highcharts","app.services","app.charts","app.issues","app.activities","app.domains","app.oneandroid","app.quality-reporting","app.live","app.campaign-detail","app.benches","app.test-signature","app.cts","app.user","app.projects","ui.grid","ui.grid.edit","ui.grid.rowEdit","ui.grid.pagination","ui.grid.autoResize","ui.grid.moveColumns","ui.grid.resizeColumns","ui.grid.persistState","ui.grid.chooseColumns","ui.grid.extendedFilters","ui.grid.widget","ui.grid.selection","ui.grid.loading","ui.grid.tooltip","ui.grid.autoFitScreen","ui.grid.autoFitRows","ui.grid.expandable","intel.tools.bootstrap","angulartics","angulartics.piwik","highcharts-ng","angularMoment","ngStorage","ngTagsInput","angular-loading-bar","xeditable","angular-spinkit","ng.deviceDetector","treeControl","Showdown","markdown","dcbImgFallback","tableSort","angularFileUpload"]).config(["$logProvider","appConfig",function(a,b){a.debugEnabled(b.LOG_DEBUG)}]).config(["$modalProvider",function(a){a.options.animation=!1}]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|javascript|testdirector):/)}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/")}]).config(["$locationProvider",function(a){a.hashPrefix("")}]).config(["$httpProvider",function(a){a.interceptors.push("UrlBlockInterceptor"),a.interceptors.push("NotFoundInterceptor"),a.interceptors.push("UnauthorizedInterceptor"),a.defaults.headers["delete"]={"Content-Type":"application/json;charset=utf-8"},a.useApplyAsync(!0)}]).config(["$provide",function(a){a.decorator("$httpBackend",["$delegate",function(a){return function(b,c,d,e,f,g,h,i){c=c.replace(/%5C\+/g,"%2B"),a(b,c,d,e,f,g,h,i)}}])}]).run(["$rootScope","Permissions",function(a,b){a.permissions=b}]).run(["appConfig","$localStorage","$log","$rootScope","$location","$window","ApiInfo","Notifier","LiveStream","restApiConfig","ApiInfoNotifier",function(a,b,c,d,e,f,g,h,i,j,k){var l=b.appVersion;a.VERSION!==l,b.appVersion=a.VERSION,d.app={version:a.VERSION,lastModified:a.LAST_MODIFIED},d.liveStream={},d.$watch(i.getPing,function(a){d.liveStream.ping=a}),d.$watch(i.getStatus,function(a){d.liveStream.status=a});var m,n=!1,o=null;d.allowNavigation=function(){n=!1},d.preventNavigation=function(a){n=!0,o=e.absUrl(),m=void 0===a?"You have unsaved changes, do you want to continue?":a},d.$on("$locationChangeStart",function(a,b,c){return o!==c||null===o?void d.allowNavigation():void(n&&!f.confirm(m)?a.preventDefault():d.allowNavigation())}),window.onbeforeunload=function(){if(n&&e.absUrl()===o)return m},k.loadApiInfo().then(function(a){d.api=a})}]),angular.module("intel.formatter",[]),function(){var a=angular.module("intel.formatter");a.service("durationService",function(){function a(a){return a="mn"===a?"min":a,a="s"===a?"sec":a}var b={h:36e5,min:6e4,sec:1e3,ms:1};this.isValid=function(b){var c=""!==b&&void 0!==b&&/^([0-9]+\s*(h|min|mn|s|sec|ms)\s*)+$/.test(b);if(c)for(var d,e,f={},g=/[0-9]+\s*(h|min|mn|sec|s|ms)/g;null!==(d=g.exec(b));)if(e=a(d[1]),void 0===f[e]&&(f[e]=0),f[e]++,f[e]>1){c=!1;break}return c},this.parseDuration=function(c){for(var d,e,f,g=/([0-9]+)\s*(h|min|mn|sec|s|ms)/g,h=0;null!==(d=g.exec(c));)f=parseInt(d[1]),e=a(d[2].toLowerCase()),h+=f*b[e];return h},this.formatDuration=function(a){var c,d,e,f=[];d=a;for(var g in b)b.hasOwnProperty(g)&&(c=b[g],e=Math.floor(d/c),d%=c,e>0&&f.push(e+g));return f.join(" ")}})}();var module=angular.module("app.highcharts",[]);module.service("HighchartsConfig",[function(){this["default"]=function(a,b){var c={color:"#000"};_.isObject(b)&&b.inverseStyle&&(c={color:"#fff"});var d={options:{chart:{animation:!1,borderWidth:0,style:c},exporting:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{borderWidth:0,animation:!1}},xAxis:{labels:{style:c}},yAxis:{labels:{style:c}},tooltip:{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,hideDelay:0,shared:!0,padding:0,positioner:function(a,b,c){return{x:c.plotX-a/2,y:c.plotY-b}}}},title:{text:""}};return a=_.merge(d,a)},this.sparkline=function(a){var b=this["default"]({options:{chart:{backgroundColor:null,borderWidth:0,type:"area",margin:[2,0,2,0],style:{overflow:"visible"},skipClone:!0},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{animation:!1,lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}},marker:{radius:1,states:{hover:{radius:2}}},fillOpacity:.25}}},title:{text:""},xAxis:{labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,tickPositions:[]},yAxis:{endOnTick:!1,startOnTick:!1,labels:{enabled:!1},title:{text:null},tickPositions:[0]}});return a=_.merge(b,a)},this.donutIndicator=function(a){var b=this["default"]({options:{chart:{type:"pie",backgroundColor:null,plotBackgroundColor:null},legend:{enabled:!1},credits:{enabled:!1},tooltip:{enabled:!1},plotOptions:{pie:{animation:!1,borderWidth:0,size:50,innerSize:"90%",states:{hover:{halo:{size:0}}}}}},series:[],title:{align:"center",verticalAlign:"middle",y:5}});return a=_.merge(b,a)},this.pieIndicator=function(a){var b=this["default"]({options:{chart:{type:"pie",backgroundColor:null,plotBackgroundColor:null,height:45,width:45},legend:{enabled:!1},credits:{enabled:!1},tooltip:{enabled:!1},plotOptions:{pie:{borderWidth:0,enableMouseTracking:!1,dataLabels:{enabled:!1,padding:0},size:40,states:{hover:{halo:{size:2}}}}},title:{text:""}},series:[]});return a=_.merge(b,a)},this.simplePie=function(a){var b=this["default"]({options:{chart:{type:"pie",backgroundColor:null,plotBackgroundColor:null},credits:{enabled:!1},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0}},title:{text:""}},series:[]});return a=_.merge(b,a)},this.bar=function(a,b){var c=this["default"]({options:{chart:{type:"bar",backgroundColor:null,plotBackgroundColor:null},xAxis:{type:"category",labels:{padding:0}},yAxis:{min:0,tickInterval:1},legend:{reversed:!0},credits:{enabled:!1},plotOptions:{bar:{stacking:"normal",pointWidth:10,groupPadding:0}},title:{text:""}},series:[]},b);return a=_.merge(c,a)}}]),angular.module("intel.form.control",["intel.formatter"]),function(){var a=angular.module("intel.form.control");a.directive("durationInput",["durationService",function(a){return{restrict:"E",require:"ng-model",scope:{inputClass:"="},template:'<input type="text"  ng-class="inputClass" placeholder="0h 0min 0sec 0ms" ng-model="input" ng-change="inputChanged()" />',link:function(b,c,d,e){e.$parsers.push(function(b){var c,d=a.isValid(b);return e.$setValidity("format",d),c=d?a.parseDuration(b):void 0}),e.$formatters.push(function(b){return a.formatDuration(b)}),e.$render=function(){b.input=e.$viewValue},b.inputChanged=function(){e.$setViewValue(b.input)}}}}])}(),function(){var a=angular.module("intel.form.control");a.directive("autoFocus",["$timeout",function(a){return{link:{pre:function(a,b,c){},post:function(b,c,d){a(function(){c[0].focus()},50)}}}}])}(),function(){"use strict";angular.module("app.filters",["app.utils"])}(),function(){"use strict";angular.module("app.utils",[])}(),function(){function a(a){function b(a){for(var b=[],c=0,d=!1,e=0;e<a.length;e++)if("*"==a.charAt(e)){if(!d){var f=a.substring(c,e);f&&b.push(f),b.push("*")}c=e+1,d=!0}else e+1==a.length?b.push(a.substring(c,e+1)):d=!1;return b}function c(a,c){if(_.isArray(a)){for(var d=0;d<a.length;d++){var e=a[d];if(e.indexOf("*")<0){if(e==c)return!0}else{for(var f=b(e),g=!1,h=c,i=0;i<f.length;i++)if("*"==f[i]){if(g=!0,i==f.length-1)return!0}else{var j=h.indexOf(f[i]);if(j>=0&&g){if(i==f.length-1&&h.endsWith(f[i]))return!0;h=h.substring(j+f[i].length)}else{if(0!=j)break;h=h.substring(f[i].length)}}if(0==h.length)return!0}}return!1}return a==c}function d(b){var c;if(_.isArray(b))c=b.length>0&&_.isObject(b[0])?a.type.OBJECT_ARRAY:a.type.PRIMITIVE_ARRAY;else if(_.isObject(b)){var d=Object.keys(b);c=2===d.length&&_.isArray(b[d[0]])&&_.isArray(b[d[1]])?a.type.COLUMN_ARRAY:a.type.OBJECT}else c=a.type.PRIMITIVE;return c}function e(a){var b={},c=[];return _.forEach(a,function(a){_.forEach(a,function(a,c){b[c]=c})}),_.forEach(b,function(a){c.push(a)}),c}function f(a,b){if(void 0===a)return!1;var c=b.indexOf(".");return c>-1?f(a[b.substring(0,c)],b.substr(c+1)):a[b];
}var g={pathMatches:c,objectType:d,propertiesList:e,getPropertyValue:f};return g}var b=angular.module("app.utils");b.service("objectUtils",["objectConstant",a]),b.constant("objectConstant",{type:{COLUMN_ARRAY:"column-array",OBJECT_ARRAY:"object-array",PRIMITIVE_ARRAY:"primitive-array",PRIMITIVE:"primitive",OBJECT:"object"}})}(),function(){var a=angular.module("app.utils");a.service("arrayUtils",[function(){function a(a,b){return void 0===a||void 0===b?[]:a.filter(function(a){return b.indexOf(a)>-1})}var b={intersection:a};return b}])}(),function(){var a=angular.module("app.utils");a.factory("StringUtils",[function(){function a(a){return a=a.replace(/\.([a-zA-Z])/g,function(a,b){return" / "+b.toUpperCase()}),a=a.replace(/([a-z])([A-Z])/g,"$1 $2"),a=a.replace(/([A-Z])([A-Z][a-z])/g,"$1 $2"),a.charAt(0).toUpperCase()+a.substr(1)}function b(a){return!a||/^\s*$/.test(a)}var c={uncamel:a,isBlank:b};return c}])}(),angular.module("app.utils").factory("DateUtils",DateUtils),angular.module("app.utils").factory("CsvUtils",["$window",function(a){function b(b,c){for(var d=a.document,e=a.navigator,f="",g=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c]?a[c]:"";d.indexOf(",")>-1&&(d='"'+d.replace(/"/g,'""')+'"'),b+=d+","}return b},h=0;h<c.length;h++)f+=g(c[h]),f+="\n";var i=new Blob([f],{type:"text/csv;charset=utf-8;"});if(e.msSaveBlob)e.msSaveBlob(i,b);else{var j=d.createElement("a");if(void 0!==j.download){var k=URL.createObjectURL(i);j.setAttribute("href",k),j.setAttribute("download",b),j.style.display="none",d.body.appendChild(j),j.click(),d.body.removeChild(j)}}}return{exportToCsvByMatrix:b}}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.service("taskManager",["$timeout",function(a){var b={onlyLast:function(b){var c=null,d=function(d){if(null!=c){var e=a.cancel(c);e&&(c=null)}return c=a(d,b)};return{execute:d}}};return b}])}(),function(){"use-strict";var a=angular.module("CampaignReportingApp");a.service("crashtool",["crashtoolConfig",function(a){var b={web:{url:{device:function(b){return a.web.DEVICE_URL.replace(":deviceId",b)},mainline:function(b){return a.web.MAINLINE_URL.replace(":mainline",b)},project:function(b,c){return a.web.PROJECT_URL.replace(":mainline",b).replace(":variant",c)}}}};return b}])}();var restServices=angular.module("CampaignReportingServices",["ngResource"]);restServices.factory("collectionSearch",["$resource","restApiConfig",function(a,b){return function(c){var d={query:"{}"};return"tags"===c?a(b.URL+"/"+c+"?query=:query&limit=:limit&offset=:offset&sort=:sort",{query:{method:"GET",params:d,isArray:!0}}):a(b.URL+"/"+c+"/secured?query=:query&limit=:limit&offset=:offset&sort=:sort",{query:{method:"GET",params:d,isArray:!0}})}}]);var module=angular.module("CampaignReportingApp");module.controller("AppFrameCtrl",["$scope","appConfig",function(a,b){a.intcAppFrame={header:{title:"Test Campaign reporting",shortTitle:"Reporting"},theme:"",hideSearch:!0,mobileNavAnimation:"slide",nav:{autoHighlightActiveItems:!0,items:[{title:"Campaigns",href:"./#campaigns"},{title:"Test results",href:"./#tests"},{title:"Dashboards",subItems:[{title:"Benches",href:"./#benches/search"},{title:"Builds",href:"./#builds/explore"},{title:"Build Reports",href:"./#builds/explore/reports"},{title:"PI Dashboards",href:"./#pi/dashboards/explore/published"},{title:"PI Reports",href:"./#pi/reports/explore"},{title:"Projects",href:"./#projects/explore"}]},{title:"Tools",subItems:[{title:"Import manual results (Excel) - Legacy",href:"./#testsimport"},{title:"Import manual results (Excel) - New",href:"./#testsimport-new"},{title:"Import from HP-ALM",href:"./#qr-import"},{title:"Import quality reports (CSV)",href:"./#quality-reporting"},{title:"Statistics",href:"./#usage-statistics"}]},{title:"Help",subItems:[{title:"Wiki",href:"https://wiki.ith.intel.com/x/ARmrGw",target:"_blank"},{title:"TCR User Guide",href:"https://wiki.ith.intel.com/x/o4B-L",target:"_blank"},{title:"Rest API documentation",href:"http://wiki.ith.intel.com/x/AZX3G",target:"_blank"},{title:"Report a problem or propose enhancements (JIRA)",href:"https://wiki.ith.intel.com/pages/viewpage.action?pageId=460130265",target:"_blank"},{title:"Employee/Contingent Worker Privacy",href:"https://employeecontent.intel.com/content/corp/Global_Employee_and_Global_Contingent_Worker_Privacy.html",target:"_blank"},{title:"About us",href:"./#about"}]}]}},a.selectTheme=function(b){a.intcAppFrame.theme=b}}]),function(){"use strict";angular.module("CampaignReportingApp").constant("uiGridRestConstants",{queryDelay:50}).factory("uiGridRestOperations",["uiGridConstants",function(a){var b={};return b[a.filter.STARTS_WITH]=function(a){throw'Not implemented, should return something like {regex: ".* " + term}'},b[a.filter.ENDS_WITH]=function(a){throw'Not implemented, should return something like {regex: term + ".* "}'},b[a.filter.EXACT]=function(a){return{"==":a}},b[a.filter.CONTAINS]=function(a){return{cn:a}},b[a.filter.GREATER_THAN]=function(a){return{">":a}},b[a.filter.GREATER_THAN_OR_EQUAL]=function(a){return{">=":a}},b[a.filter.LESS_THAN]=function(a){return{"<":a}},b[a.filter.LESS_THAN_OR_EQUAL]=function(a){return{"<=":a}},b[a.filter.NOT_EQUAL]=function(a){return{"!=":a}},b[a.filter.IN]=function(a){return{"in":a}},b.NUMBER=function(a){var b=_.trim(a);if(b.length>1&&(b.startsWith(">")||b.startsWith("<"))){var c={};return c[b[0]]=_.trim(b.substr(1)),c}return{"==":b}},b}]).factory("uiGridFilters",function(){var a={NUM:{condition:"NUMBER",placeholder:"N, >N or <N"}};return{get:function(b){return angular.copy(a[b])}}}).controller("RestGridCtrl",["$location","$stateParams","$scope","$timeout","$resource","$modal","uiGridConstants","uiGridRestConstants","$log","taskManager","uiGridRestOperations","dataExportService","restApiConfig","AppRequest","$q",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){L?K=angular.copy(L):(K.sort=[],K.query={},K.paging={pageNumber:1,pageSize:25}),c.restOptions=K,c.$emit("gridReset",!0)}function q(a){angular.forEach(a,function(a){void 0!==a.filters&&angular.forEach(a.filters,function(a){void 0!==a.term&&null!==a.term&&(a.term=null)})})}function r(c){var d=a.search();return d.hasOwnProperty(c)?d[c]:b.hasOwnProperty(c)&&void 0!==b[c]?b[c]:null}function s(a){u(a.columnDefs),L=angular.copy(K)}function t(a,b){var c;switch(a){case g.ASC:c="+";break;case g.DESC:c="-";break;case void 0:return}var d=b.field;d||(d=b.name),K.sort.push(c+d)}function u(a){K.sort=[];var b=a.filter(function(a){return void 0!==a.sort&&void 0!==a.sort.priority}),c=b.sort(function(a,b){return a.sort.priority-b.sort.priority});c.forEach(function(a){t(a.sort.direction,a)})}function v(a){K.sort=[];var b=a.getColumnSorting(),c=1;angular.forEach(b,function(a){b.length>1&&c!==b.length?a.sort=[]:c===b.length&&t(a.sort.direction,a),c++})}function w(a,b){var c=!0;return void 0!==a&&void 0!==a.validateFilter&&_.isFunction(a.validateFilter)&&(c=a.validateFilter(b)),c}function x(a){var b;return b=a instanceof Date?a.getTime():angular.copy(a)}function y(a,b){for(var c,d,e,f={},h=0,i=0;i<a.length;i++)c=a[i],null!==c.term&&void 0!==c.term&&""!==c.term&&w(b,c.term)===!0&&(d=k[c.condition],void 0===d&&(d=k[g.filter.CONTAINS]),e=x(c.term),angular.extend(f,d(e)),h++);var j=b.field;void 0===j&&(j=b.name),h>0&&(K.query[j]=f)}function z(a){return a?a.replace(/^\s+|\s+$/g,""):a}function A(a){return!a||/^\s*$/.test(a)}function B(a){var b,c="";return void 0!==a.filters&&angular.forEach(a.filters,function(a){if(void 0!==a.term&&null!==a.term&&""!==a.term){c.length&&(c+="|");var b=a.term;b instanceof Date&&(b=b.getTime());var d=angular.toJson(b);d=d.replace(/^\"|\"$/g,""),angular.isDefined(a.condition)&&(d+="|"+a.condition),c+=encodeURIComponent(d)}}),(a.visible||c.length)&&(b=encodeURI(z(a.name)),c.length&&(b+="("+c+")")),"selectionRowHeaderCol"!==b?b:""}function C(a,b){if(a&&b){var c=b.match(/^([^\(]+)(?:\((.*)\))?$/);if(c){var d=z(c[1]);if(!A(d)){var e=_.find(a,{name:d})||_.find(a,{field:d});e||(e={name:d},a.push(e)),e.visible=!0,D(c,e)}}}}function D(a,b){if(a[2]){var c=a[2].split("|");if(b.filters=[],c.length>0){var d=c[0];angular.isDefined(b.filter)&&angular.isDefined(b.filter.type)&&"datetime"===b.filter.type&&(d=new Date(parseInt(d)));var e={term:d};c[1]&&(e.condition=c[1]),b.filters.push(e)}}}function E(a){var b=r("filters");if(b){q(a),c.gridApi.persistState.reset();var d=b.split(";");return angular.forEach(d,function(b){C(a,b)}),!0}return!1}function F(a){K.query={},E(a)&&(M.columnDefs=a,M.paginationCurrentPage=1),angular.forEach(a,function(a){void 0!==a.filters&&y(a.filters,a)})}function G(a){var b=!1,d=angular.copy(K.query);return K.query={},angular.forEach(a.columns,function(b){if(b.enableFiltering!==!1){var c=a.getColDef(b.name);y(b.filters,c)}}),c.exportData(),b=!angular.equals(d,K.query)}function H(){var a={};_.isObject(K.externalCriteria)&&angular.merge(a,K.externalCriteria),angular.merge(a,K.query);var b={query:JSON.stringify(a).replace(/\+/g,"\\+"),limit:K.paging.pageSize,offset:K.paging.pageSize*(K.paging.pageNumber-1),sort:K.sort.join(",")},d=++K.queryCount;return M.isLoading=!0,c.isActiveFilter=!_.isEmpty(K.query),c.exportData(),K.resource.get(b).$promise.then(function(a){if(d===K.queryCount){if(a.totalCount<K.paging.pageSize*(K.paging.pageNumber-1))return K.paging.pageNumber=1,H();var b=a.totalCount;_.set(n,"tests.totalCount",b),c.gridOptions.data=a.results,c.gridOptions.memoData=angular.copy(c.gridOptions.data),c.gridOptions.totalItems=b,M.isLoading=!1}})["catch"](function(){i.error("An error occured while retrieving tests list"),M.isLoading=!1,c.gridOptions.data=[]})}function I(){K.resource||i.error("$scope.restOptions.resource should be assign before calling loadPage"),J.execute(H).then(function(){var a=[];return K.afterLoadDataListenters.forEach(function(b){var c=b();c&&a.push(c)}),o.all(a)})}var J=j.onlyLast(h.queryDelay),K=void 0===c.restOptions?{}:c.restOptions;K.resource=null,K.queryCount=0,K.externalCriteria={},K.afterLoadDataListenters=[],K.addAfterLoadDataListener=function(a){K.afterLoadDataListenters.push(a)},c.isActiveFilter=!1,c.exportData=function(a){c.exportCsvUrl=c.exportCsvUrl.slice(0,c.exportCsvUrl.indexOf("csv")+3);var b={};_.isObject(K.externalCriteria)&&_.extend(b,K.externalCriteria),_.extend(b,K.query);var d=K.sort.join(","),e="";c.gridOptions.columnDefs.forEach(function(a){(void 0===a.visible||a.visible)&&(e+=angular.isDefined(a.field)?a.field+",":a.name+",")}),e=e.slice(0,-1),c.exportCsvUrl+="?fields="+e,c.exportCsvUrl+="&query="+encodeURIComponent(JSON.stringify(b)),c.exportCsvUrl+=("&sort="+d).replace("+","")},c.resetFilters=function(){a.url(a.path()),c.gridApi&&c.gridApi.grid.columns&&(K.query={},q(c.gridApi.grid.columns),c.gridOptions.paginationCurrentPage=1,I())},c.shareGridUrl=function(){var b=a.protocol()+"://"+a.host(),e=a.port();80!==e&&(b+=":"+e);var g=[];angular.forEach(c.gridApi.grid.columns,function(a,b){var c=B(a);c&&g.push(c)}),b+="/#"+a.path()+"?filters="+g.join(";"),f.open({templateUrl:"components/restgrid/grid-filter-url-modal.html",controller:["$scope","$modalInstance","url",function(a,b,c){a.url=c,d(function(){var a=angular.element(document.querySelector("#filteredListUrl"));a.select()}),a.ok=function(){b.close()}}],size:"lg",resolve:{url:function(){return b}}})},p();var L;c.getDifferenceWithMemen=function(){if(!c.gridOptions.data)return[];var a=angular.copy(c.gridOptions.data);return _.differenceWith(a,c.gridOptions.memoData,_.isMatch)};var M={enableVerticalScrollbar:g.scrollbars.NEVER,paginationPageSizes:[25,50,75],paginationPageSize:25,enablePaginationControls:!1,enableFiltering:!0,useExternalFiltering:!0,useExternalSorting:!0,useExternalPagination:!0,columnDefs:[],enableGridMenu:!0,rowHeight:25,rowHeaderHeight:50,isLoading:!0,onResetState:function(){p(),I()},beforeRestoreState:function(a){s(a.options)},onRestoreState:function(a,b){b.paging&&(K.paging.pageNumber=b.paging.currentPage,K.paging.pageSize=b.paging.pageSize)},onRegisterApi:function(a){c.gridApi=a,a.core.on.filterChanged(c,function(){var a=G(this.grid);a&&(c.gridOptions.paginationCurrentPage=1,I())}),a.core.on.sortChanged(c,function(){v(this.grid),I()}),a.pagination.on.paginationChanged(c,function(a,b){K.paging.pageNumber=a,K.paging.pageSize=b,I()}),a.core.on.renderingComplete(c,function(){u(this.grid.options.columnDefs),F(this.grid.options.columnDefs),I()})}};c.gridOptions=M,c.loadGridPage=I;var N=c.$watch("restOptions.externalCriteria",function(a,b){a!==b&&(c.gridOptions.paginationCurrentPage=1,I())},!0);c.$on("$destroy",N)}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.directive("crDisplayObject",["$interpolate","uncamelFilter","objectUtils","objectConstant",function(a,b,c,d){function e(e,f,g){function h(f,g,j,l,m,n){void 0===n&&(n=0);var o=void 0===j?f:j,p=i(l),q=m;if(p&&p.displayName){q=p.displayName;var r=a(q);q=r(e)}else q=b(m?m:"");var s={name:l,displayName:q,depth:n,def:p,simpleProperties:[],complexProperties:[],type:c.objectType(o),entity:f,value:o};_.forEach(o,function(a,d){d+="";var e,j=l?l+"."+d:d+"";if("$$hashKey"!==d&&"$"!==d.charAt(0)&&"_"!==d.charAt(0)&&!c.pathMatches(k.excludedProperties,j)){var m=i(j);null!==m&&m.isSimpleProperty?(e={value:a,name:d,displayName:b(d+""),def:i(j),entity:f},(k.excludeEmptyField!==!0||null!==a&&void 0!==a)&&s.simpleProperties.push(e)):_.isObject(a)?n<g&&(e=h(f,g,a,j,d,n+1),s.complexProperties.push(e)):(e={value:a,name:d,displayName:b(d+""),def:i(j),entity:f},(k.excludeEmptyField!==!0||null!==a&&void 0!==a)&&s.simpleProperties.push(e))}}),s.type===d.type.OBJECT_ARRAY?s.headers=c.propertiesList(o):s.type===d.type.COLUMN_ARRAY&&(s.headersName=j.columns,s.headers=s.complexProperties[1].headers,s.complexProperties=s.complexProperties[1].complexProperties),s.simpleProperties=_.sortBy(s.simpleProperties,"name");var t=_.findIndex(s.simpleProperties,{name:"AwrReport"});if(t>=0){var u=_.pullAt(s.simpleProperties,t);s.simpleProperties.push(u[0])}if(t=_.findIndex(s.simpleProperties,{name:"verdictRates"}),t>=0){var v=_.pullAt(s.simpleProperties,t);s.simpleProperties.unshift(v[0])}if(s.complexProperties=_.sortBy(s.complexProperties,"name"),t=_.findIndex(s.complexProperties,{name:"general"}),t>=0){var w=_.pullAt(s.complexProperties,t);s.complexProperties.unshift(w[0])}return s}function i(a){var b=null;if(_.isArray(k.objectDef)){var c=k.objectDef.filter(function(b){return b.name===a});c.length>0&&(b=c[0])}return b}function j(a){e.metadata=h(a,k.depth)}var k={deepWatch:e.options.deepWatch===!0,data:e.options.data,objectDef:e.options.objectDef,excludeEmptyField:e.options.excludeEmptyField||!1,excludedProperties:_.isArray(e.options.excludedProperties)?e.options.excludedProperties:[],depth:void 0!==e.options.depth?e.options.depth:10};e.type=d.type;var l=e.$watch("options.data",function(a){j(a)},k.deepWatch);e.$on("$destroy",l),j(k.data)}return{restrict:"E",templateUrl:"components/display/display-object.html",scope:{options:"="},link:e}}]),a.directive("crDisplayProperty",["$compile",function(a){function b(b,c,d){function e(){var c=null,d=null,e="";return c=b.property.def&&b.property.def.template?b.property.def.template:'<cr-output input="property.value" />',d=a(angular.element(c)),e=d(b)}var f=b.$watch("property.value",function(){c.html(e())});b.$on("$destroy",f)}return{restrict:"E",scope:{property:"="},link:b}}]),a.controller("DisplayObjectModalCtrl",["$scope","$modalInstance","entity","options",function(a,b,c,d){var e={data:c,vertical:!0};a.ok=function(){b.close()},a.view="graphic",a.object=c,d&&d.title?a.title=_.isFunction(d.title)?d.title(c):d.title:a.title="Object details",a.displayOptions=_.extend(e,d)}]),a.directive("crDisplayObjectModal",["$modal",function(a){function b(b,c,d){b.open=function(){a.open({templateUrl:"components/display/display-object-modal.html",controller:"DisplayObjectModalCtrl",windowTemplateUrl:"components/ui-grid/features/choose-columns/templates/columnChooserModalWindowTemplate.html",resolve:{entity:function(){return b.object},options:function(){return b.options}},size:"lg",windowClass:"modal-primary"})}}return{restrict:"E",template:'<button ng-click="open()" type="button" title="drilldown into object detail" class="btn btn-icon"><span class="glyphicon glyphicon-zoom-in" /></button>',scope:{object:"=",options:"="},link:b}}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.directive("crDisplayResults",["$interpolate","uncamelFilter","objectUtils","objectConstant",function(a,b,c,d){function e(e,f,g){function h(f,g,j,l,m,n){void 0===n&&(n=0);var o=void 0===j?f:j,p=i(l),q=m;if(p&&p.displayName){q=p.displayName;var r=a(q);q=r(e)}else q=b(m?m:"");var s={name:l,displayName:q,depth:n,def:p,simpleProperties:[],complexProperties:[],type:c.objectType(o),entity:f,value:o};_.forEach(o,function(a,d){d+="";var e,j=l?l+"."+d:d+"";"$$hashKey"===d||"$"===d.charAt(0)||"_"===d.charAt(0)||c.pathMatches(k.excludedProperties,j)||(_.isObject(a)?n<g&&(e=h(f,g,a,j,d,n+1),s.complexProperties.push(e)):(e={value:a,name:d,displayName:b(d+""),def:i(j),entity:f},s.simpleProperties.push(e)))}),s.type===d.type.OBJECT_ARRAY?s.headers=c.propertiesList(o):s.type===d.type.COLUMN_ARRAY&&(s.headersName=j.columns,s.headers=s.complexProperties[1].headers,s.complexProperties=s.complexProperties[1].complexProperties),s.simpleProperties=_.sortBy(s.simpleProperties,"name");var t=_.findIndex(s.simpleProperties,{name:"AwrReport"});if(t>=0){var u=_.pullAt(s.simpleProperties,t);s.simpleProperties.push(u[0])}if(s.complexProperties=_.sortBy(s.complexProperties,"name"),t=_.findIndex(s.complexProperties,{name:"general"}),t>=0){var v=_.pullAt(s.complexProperties,t);s.complexProperties.unshift(v[0])}return s}function i(a){var b=null;if(_.isArray(k.objectDef)){var c=k.objectDef.filter(function(b){return b.name===a});c.length>0&&(b=c[0])}return b}function j(a){e.metadata=h(a,k.depth)}var k={data:e.options.data,objectDef:e.options.objectDef,excludedProperties:_.isArray(e.options.excludedProperties)?e.options.excludedProperties:[],depth:e.options.depth?e.options.depth:10};e.type=d.type;var l=e.$watch("options.data",function(a){j(a)},!0);e.$on("$destroy",l),j(k.data)}return{restrict:"E",templateUrl:"components/display/display-results.html",scope:{options:"="},link:e}}])}(),angular.module("CampaignReportingApp").service("guessDisplayTemplate",["$filter","DateUtils",function(a,b){return function(a){if(void 0!==a){if(_.isBoolean(a))return'<span>{{input ? "True" : "False"}}</span>';if(_.isString(a)){if(b.isValidDateString(a))return"<span>{{input|amCalendar}}</span>";if(a.match(/(http|https):\/\/.*/))return'<a target="_blank" href="{{input}}">{{input}}</a>'}}}}]).directive("crEmail",function(){return{restrict:"E",template:'<a href="mailto:{{input}}">{{input}}</a>',scope:{input:"="}}}).directive("crStatus",["$filter",function(a){function b(b,c,d){function e(a){return void 0===a?"":a="NA"===a?"N/A":a.replace("_"," ")}function f(b){return a("statusStyle")(b)}b.label=e,b.styleClass=f}return{restrict:"E",replace:!0,template:'<strong class="{{styleClass(input)}}">{{label(input)}}</strong>',scope:{input:"="},link:b}}]).directive("crVerdict",["$filter",function(a){function b(b,c,d){function e(a){return void 0===a?"":a="NA"===a?"N/A":a.replace("_"," ")}function f(b){return a("verdictStyle")(b)}b.label=e,b.styleClass=f}return{restrict:"E",replace:!0,template:'<strong class="{{styleClass(input)}}">{{label(input)}}</strong>',scope:{input:"="},link:b}}]).directive("crVerdictUpdate",["$filter","modalConfirmHelper","Tests","TestConstant","Notifier","OAuth2",function(a,b,c,d,e,f){function g(f,g,h){function i(a){return void 0===a?"":a="NA"===a?"N/A":a.replace("_"," ")}function j(b){return a("verdictStyle")(b)}function k(a){b.confirm.confirmAction(function(b){var d=b&&b.comment?b.comment:"";f.verdict=a,c.changeVerdict({testId:f.id,verdict:f.verdict},{text:d},function(){e.success("New Verdict saved","Success")},function(a){e.error("Error: "+a.data.code+",</br> Reason: "+a.data.message,"Verdict update failed",{allowHtml:!0})})},{haveComment:!0})("change the verdict")}f.verdicts=d.verdict,f.verdict=f.input,f.updateTestVerdict=k,f.label=i,f.styleClass=j}return{restrict:"E",replace:!0,template:'<div class="dropdown"><button class="btn btn-default dropdown-toggle" tracker="button" id="verdict" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><strong class="{{styleClass(verdict)}}">{{label(verdict)}} </strong><span class="caret"></span> </button><ul class="dropdown-menu"  style="height: auto;max-height: 100px;overflow-x: hidden;" aria-labelledby="verdict"><li ng-repeat="newVerdict in verdicts"><a href="" ng-click="updateTestVerdict(newVerdict)"><strong class="{{styleClass(newVerdict)}}">{{label(newVerdict)}}</strong></a></li></ul>',scope:{input:"=",id:"="},link:g}}]).directive("crUploadedStatus",["$filter",function(a){function b(b,c,d){function e(a){return void 0===a?"":a="NA"===a?"N/A":a.replace("_"," ")}function f(b){return a("uploadedStatusStyle")(b)}b.label=e,b.styleClass=f}return{restrict:"E",replace:!0,template:'<strong class="{{styleClass(input)}}">{{label(input)}}</strong>',scope:{input:"="},link:b}}]).directive("crPassrate",["$filter",function(a){function b(b,c,d){function e(b){return void 0===b?"":a("number")(b,2)}function f(c){return a("passrateStyle")(c,b.highPassrate,b.lowPassrate)}b.label=e,b.styleClass=f,void 0===b.highPassrate&&(b.highPassrate=85),void 0===b.lowPassrate&&(b.lowPassrate=60)}return{restrict:"E",template:'<strong class="{{styleClass(input)}}">{{label(input)}}%</strong>',scope:{input:"=",highPassrate:"=?",lowPassrate:"=?"},link:b}}]).directive("crExitCode",function(){function a(a,b,c){function d(a){return void 0===a?"":a="NA"===a?"N/A":a.replace("_"," ")}function e(a){var b="";switch(a){case"FAILED":b="text-danger";break;case"SUCCESS":b="text-success";break;default:return""}return b}a.label=d,a.styleClass=e}return{restrict:"E",template:'<strong class="{{styleClass(input)}}">{{label(input)}}</strong>',scope:{input:"="},link:a}}).directive("crLocation",function(){return{restrict:"E",template:'<a ng-if="input" target="_blank" href="https://www.google.com/maps/search/{{input}}" title="Point on map"><i class="glyphicon glyphicon-map-marker"></i> {{input}}</a>',scope:{input:"="}}}).directive("crDeviceId",["crashtool",function(a){return{restrict:"E",template:'<a ng-if="deviceId" target="_blank" ng-href="{{url(deviceId)}}">{{deviceId}}</a>',scope:{deviceId:"="},link:function(b,c,d){b.url=a.web.url.device}}}]).directive("crBoolean",function(){function a(a,b,c){a.label=function(b){return void 0===b?"":b?a["true"]||"Yes":a["false"]||"No"}}return{restrict:"E",template:"<strong ng-class=\"{'text-success':input === true,'text-danger':input === false}\">{{label(input)}}</strong>",link:a,scope:{input:"=","true":"@","false":"@"}}}).directive("crOutput",["$compile","guessDisplayTemplate",function(a,b){function c(c,d,e){function f(){var d=null,e="",f=b(c.input);return f?(d=a(angular.element(f)),e=d(c)):e=c.input,e}c.$watch("input",function(a){d.append(f())})}return{restrict:"E",scope:{input:"="},link:c}}]),angular.module("CampaignReportingApp").constant("IntelColors",{paleBlue:"#7ED3F7",lightBlue:"#00AEEF",mediumBlue:"#1891EE",intelBlue:"#0071C5",mediumDarkBlue:"#0055A5",darkBlue:"#004280",yellow:"#FFDA00",darkYellow:"#FDB813",orange:"#FDB813",orange2:"#F37021",paleGreen:"#D7DF23",lightGreen:"#B4DC39",green:"#A6CE39",mediumDarkGreen:"#62B00A",darkGreen:"#36781A",lightRed:"#FF8C8C",mediumRed:"#FF6450",red:"#ED1C1A",mediumDarkRed:"#BB1C1A",darkRed:"#931C1A",darkGray:"#53565A",gray:"#939598",lightGray:"#B1BABF",lighterGray:"#EDEFF0",gray4:"#D3D8DB",gray3:"#E1E5E7",gray2:"#EDEFF0",gray1:"#F7F8F9"}),function(){var a=angular.module("app.filters");a.filter("average",function(){return function(a){if(_.isArray(a)){var b=0;if(a.length>0){for(var c=0;c<a.length;c++)b+=a[c];return b/a.length}return 0}}}),a.filter("join",function(){return function(a,b,c){if(!a)return"";b||(b=", ");var d;return d=c?_.map(a,c):a,d.join(b)}}),a.filter("unique",function(){return function(a,b){return b?_.uniqBy(a,b):_.uniq(a)}})}(),function(){var a=angular.module("app.filters");a.filter("uncamel",["StringUtils",function(a){return a.uncamel}]),a.filter("truncate",function(){return function(a,b){return a?b<=a.length?a.substr(0,b)+"...":a:""}}),a.filter("isBlank",function(){return function(a,b){return a?a:b}})}(),function(){var a=angular.module("app.filters");a.filter("duration",function(){return function(a){if(void 0===a||null===a||""===a)return"";if(_.isNumber(a)||a.match(/^[0-9]*$/)){var b=Math.floor(a),c=Math.floor(b/36e5);b=a%36e5;var d=Math.floor(b/6e4);b=a%6e4;var e=Math.floor(b/1e3),f=b%1e3,g="";return c>0&&(g+=c+" h "),d>0&&(g+=d+" min "),e>=0&&(g+=e+" sec "),f>0&&(g+=f+" ms "),g.trim()}return NaN}})}(),function(){var a=angular.module("app.filters");a.filter("momentDuration",["moment","$filter",function(a,b){return function(c,d){if(!angular.isDefined(c)||!angular.isDefined(d))return"";var e=a(c),f=a(d),g=f.diff(e);return b("customDuration")(g)}}])}(),function(){var a=angular.module("app.filters");a.filter("customDuration",["moment",function(a){return function(b,c){if(!angular.isDefined(b))return"";var d=a.duration(b),e="";return 1===d.get("days")?e+=d.days()+" day ":d.get("days")>1&&(e+=d.days()+" days "),e+=angular.isDefined(c)?a.utc(d.asMilliseconds()).format(c):a.utc(d.asMilliseconds()).format("HH [h] mm [min] ss [sec]")}}])}(),function(){var a=angular.module("app.filters");a.filter("crdate",["$filter","crConstants",function(a,b){return function(c){return a("date")(c,b.DATETIME_FORMAT)}}])}(),function(){var a=angular.module("app.filters");a.filter("crshortdate",["$filter","crConstants",function(a,b){return function(c){return a("date")(c,b.SHORTDATE_FORMAT)}}])}(),function(){var a=angular.module("app.filters");a.filter("MTBFDuration",["moment",function(a){return function(b,c){if(!angular.isDefined(b))return"";var d=a.duration(b),e="";return d.asHours()>0&&(e+=Math.floor(d.asHours())+"h"),d.minutes()>0&&(e+=d.minutes()+"min"),""==e&&(e="0h"),e}}])}(),function(){"use strict";var a=angular.module("ui.grid.persistState",["ui.grid","ngStorage"]);a.constant("uiGridPersistStateConstants",{defaultPersisters:["uiGridColumnPersister","uiGridFilterPersister","uiGridPagingPersister"]}),a.service("uiGridPersistStateService",["gridUtil","uiGridPersistStateConstants","$log","$localStorage","uiGridConstants","$injector","$interval",function(a,b,c,d,e,f,g){var h={persistState:{reset:function(){if(this.options.enablePersistState===!0){var a={};d.uiGrid[this.options.persistStateNamespace]=a,this.persistState.storage=a,i.resetPersisters(this),void 0!==this.options.onResetState&&this.options.onResetState(),this.refresh()}}}},i={initializeGrid:function(a,b){b.persistState={};var d=b.options;i.defaultGridOptions(d),d.persistStateNamespace===!1&&(c.error("You must set the persistStateNamespace option to the grid in order to persist grid state. Grid persist state disabled"),d.enablePersistState=!1),d.enablePersistState===!0&&(_.isFunction(b.options.beforeRestoreState)&&b.options.beforeRestoreState(b),i.initStorage(a,b),i.addMenus(b)),b.api.registerMethodsFromObject(h)},defaultGridOptions:function(a){a.persistStateNamespace=void 0!==a.persistStateNamespace&&a.persistStateNamespace,a.enablePersistState=void 0===a.enablePersistState||a.enablePersistState,a.statePersisters=void 0!==a.statePersisters&&_.isArray(a.statePersisters)?a.statePersisters:b.defaultPersisters},initStorage:function(a,b){var c=b.options,e=c.persistStateNamespace;void 0===d.uiGrid&&(d.uiGrid={});var f=!0,g=d.uiGrid[e];void 0===g&&(g={},d.uiGrid[e]=g,f=!1),b.persistState.storage=g,i.linkPersisters(a,b),f&&void 0!==b.options.onRestoreState&&b.options.onRestoreState(b,g)},forEachPersister:function(a,b){a.statePersisters.forEach(function(a){f.invoke([a,b])})},linkPersisters:function(a,b){var c=function(c){_.isFunction(c.link)&&c.link(a,b)};i.forEachPersister(b.options,c)},resetPersisters:function(a){var b=function(b){_.isFunction(b.reset)&&b.reset(a)};i.forEachPersister(a.options,b)},addMenus:function(a){var b={title:"Reset grid",action:function(a){this.grid.api.persistState.reset()}};_.isArray(a.options.gridMenuCustomItems)||(a.options.gridMenuCustomItems=[]),a.options.gridMenuCustomItems.push(b)}};return i}]),a.service("uiGridFilterPersister",["$log","$q",function(a,b){function c(a){var b=a.persistState.storage;a.options.columnDefs.forEach(function(a){if(a.enableFiltering!==!1&&_.isObject(b.filters)&&void 0!==b.filters[a.name]){var c=angular.copy(b.filters[a.name]);void 0===a.filters&&(a.filters=[]);for(var d=0;d<c.length;d++){var e=c[d];e.term=g(e.term),void 0!==a.filters[d]?(a.filters[d].term=e.term,a.filters[d].condition=e.condition):a.filters.push(e)}}})}function d(a){angular.forEach(a.columns,function(a){for(var b=0;b<a.filters.length;b++)a.filters[b].term=null})}function e(a){for(var b=0;b<a.length;b++)if(a[b].term)return!0;return!1}function f(a){var b;return b=null===a?a:a instanceof Date?{__date:a.getTime()}:a}function g(a){var b;return b=null===a?a:a.hasOwnProperty("__date")?new Date(a.__date):a}function h(a){var b={};return a.columns.forEach(function(a){var c=[];if(a.enableFiltering!==!1&&e(a.filters)){for(var d=0;d<a.filters.length;d++){var g={term:f(a.filters[d].term),condition:a.filters[d].condition};c.push(g)}c.length>0&&(b[a.name]=c)}}),b}function i(a,b){b.options.enableFiltering===!0&&(b.api.core.on.filterChanged(a,function(){var a=this.grid.persistState.storage,b=h(this.grid);a.filters=angular.copy(b)}),b.api.core.on.renderingComplete(a,function(){c(this.grid)}))}return{link:i,reset:d}}]),a.service("uiGridPagingPersister",["$log",function(a){var b=function(a,b){if(b.api.pagination){var c=b.persistState.storage;if(void 0!==c.paging){var d=c.paging.currentPage,e=c.paging.pageSize;b.options.paginationCurrentPage=d,b.options.paginationPageSize=e,b.api.pagination.raise.paginationChanged(d,e)}b.api.pagination.on.paginationChanged(a,function(a,b){var c=this.grid.persistState.storage;void 0===c.paging&&(c.paging={}),c.paging.currentPage=a,c.paging.pageSize=b})}},c=function(a){a.options.paginationCurrentPage=1,a.options.paginationPageSize=25};return{link:b,reset:c}}]),a.service("uiGridColumnPersister",["$log","$q","uiGridConstants",function(a,b,c){function d(a){var b=[],c=0;return a.forEach(function(a){if("selectionRowHeaderCol"!==a.name){var d={name:a.name||a.field,visible:a.visible,width:a.width||"*",position:c++};void 0===a.sort||void 0===a.sort.direction&&void 0===a.sort.priority||(d.sort={},void 0!==a.sort.direction&&(d.sort.direction=a.sort.direction),void 0!==a.sort.priority&&(d.sort.priority=a.sort.priority)),b.push(d)}}),b}function e(a,b){var c=[];b.forEach(function(b){var d=a.options.columnDefs.filter(function(a){return a.field===b.name||a.name===b.name});d.length>0?(d=d[0],d.visible=b.visible,d.width=b.width,b.sort?(d.sort={},null!=b.sort.direction&&(d.sort.direction=b.sort.direction),null!=b.sort.priority&&(d.sort.priority=b.sort.priority)):delete d.sort,c.push(d)):c.push({name:b.name,visible:b.visible,width:b.width,sort:b.sort})}),a.options.columnDefs=c}function f(a){a.options.columnDefs=angular.copy(h),a.options.columnDefs.forEach(function(b){void 0===b.width&&a.getColumn(b.name)&&(a.getColumn(b.name).width="*")})}function g(a,b){h=angular.copy(b.options.columnDefs),b.api.core.on.renderingComplete(a,function(a){var c=b.persistState.storage.columns;c&&e(b,c)}),b.registerColumnsProcessor(function(a){return b.persistState.storage.columns=d(a),a}),b.options.enableColumnResizing&&b.api.colResizable.on.columnSizeChanged(a,function(a){b.persistState.storage.columns=d(b.columns)})}var h=null;return{link:g,reset:f}}]),a.directive("uiGridPersistState",["uiGridPersistStateService","uiGridPersistStateConstants",function(a,b){return{restrict:"A",replace:!0,priority:-1e3,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(b,c,d,e){a.initializeGrid(b,e.grid)}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.chooseColumns",["ui.grid","intel.form.control"]);
a.service("uiGridChooseColumnsService",["$log","$modal","$templateCache","uiGridConstants",function(a,b,c,d){function e(a){a.chooseColumnsExclude=void 0===a.chooseColumnsExclude?[]:a.chooseColumnsExclude}var f="ui-grid/columnChooserModal",g={initializeGrid:function(a,b){e(b.options),b.options.gridMenuShowHideColumns=!1,g.addMenus(a,b)},displayColumnChooser:function(a,e){var g=c.get(f),h=b.open({controller:"ChooseColumnModalCtrl",template:g,windowTemplateUrl:"components/ui-grid/features/choose-columns/templates/columnChooserModalWindowTemplate.html",resolve:{grid:function(){return e}}});h.result.then(function(a){var b=[];a.forEach(function(a){var c=e.getColDef(a.name);c?(c.visible=a.visible,b.push(c)):(a.width=200,a.enableSorting=!1,b.push(a))}),e.options.columnDefs=b,e.api.core.notifyDataChange(d.dataChange.COLUMN)})},addMenus:function(a,b){var c={title:"Choose columns",action:function(c){g.displayColumnChooser(a,b)}};_.isArray(b.options.gridMenuCustomItems)||(b.options.gridMenuCustomItems=[]),b.options.gridMenuCustomItems.push(c)}};return g}]),a.controller("ChooseColumnModalCtrl",["$scope","$modalInstance","grid","gridUtil","uncamelFilter","objectUtils","$log",function(a,b,c,d,e,f,g){function h(){var a=[];return c.columns.forEach(function(b){var d=b.field||b.name;f.pathMatches(c.options.chooseColumnsExclude,d)||"selectionRowHeaderCol"===b.name||a.push(d)}),c.options.data&&c.options.data.forEach(function(b){i("",b,a)}),a}function i(a,b,d){_.forEach(b,function(b,e){var g=""===a?e:a+"."+e;"$$hashKey"===e||f.pathMatches(c.options.chooseColumnsExclude,g)||j(d,g)||(_.isObject(b)?_.isArray(b)||i(g,b,d):d.push(g))})}function j(a,b){return!!_.isArray(a)&&a.indexOf(b)!==-1}function k(a){return a.visible=!a.visible,!1}function l(a){r.forEach(function(b){b.visible=a})}function m(){l(!0)}function n(){l(!1)}function o(){b.close(r)}function p(){b.dismiss("cancel")}function q(){var b=h();b.forEach(function(a){var b=c.getColumn(a),f=null;b?(f={name:b.name,visible:b.visible,displayName:e(b.name)},f.displayName||(f.displayName=d.readableColumnName(a.replace("."," ")))):f={name:a,visible:!1,displayName:e(a)},r.push(f)}),a.columns=r,a.columnFilter="",a.toggleVisible=k,a.selectAll=m,a.unselectAll=n,a.ok=o,a.cancel=p}var r=[];q()}]),a.directive("uiGridChooseColumns",["gridUtil","uiGridChooseColumnsService",function(a,b){return{restrict:"A",replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(a,c,d,e){b.initializeGrid(a,e.grid)}}}}}])}(),function(){"use strict";var a=angular.module("ui.grid.extendedFilters",["ui.grid","intel.form.control","ui.bootstrap.datetimepicker"]);a.service("filterTypeService",["uiGridConstants","$templateCache",function(a,b){function c(){for(var a,c=b.get("ui-grid/uiGridHeaderCell"),d=angular.element(c),e=d.children(),f=0;f<e.length;f++)a=angular.element(e.get(f)),a.hasClass("ui-grid-filter-container")&&a.replaceWith("<ui-grid-typed-filter></ui-grid-typed-filter>");return d.html()}var d={duration:{template:'<duration-input input-class="\'ui-grid-filter-input ui-grid-filter-duration-input\'" ng-model="col.filters[0].term"></duration-input> to <duration-input input-class="\'ui-grid-filter-input ui-grid-filter-duration-input\'" ng-model="col.filters[1].term"></duration-input>',initColDef:function(b){b.filters=[{term:null,condition:a.filter.GREATER_THAN_OR_EQUAL},{term:null,condition:a.filter.LESS_THAN_OR_EQUAL}]}},list:{template:'<select class="ui-grid-filter-input ui-grid-filter-single-input" ng-options="item.key as item.label for item in col.filter.list" ng-model="col.filters[0].term"><option value="">{{col.filter.defaultValue}}</option></select>',initColDef:function(b){b.filters=[{term:null,condition:a.filter.EXACT}]}},multiSelect:{template:'<span><multi-select-dropdown items="col.filter.list" selected-items="col.filters[0].term" default-value="col.filter.defaultValue" item-style-filter="col.filter.itemStyleFilter"/></span>',initColDef:function(b){b.filters=[{term:null,condition:a.filter.IN}]}},datetime:{template:"<ui-grid-filter-datetime></ui-grid-filter-datetime>",initColDef:function(b){b.filters||(b.filters=[{condition:a.filter.EXACT}])}}};this.initializeGrid=function(a){var b=c();a.options.columnDefs.forEach(function(a){if(a.filter&&a.filter.type){var c=a.filter.type;d[c]&&d[c].initColDef&&d[c].initColDef(a),a.headerCellTemplate=b}})},this.getTypeTemplate=function(a){return d[a]&&d[a].template?d[a].template:""}}]),a.directive("uiGridFilterDatetime",function(){return{restrict:"E",template:'<a href="" ng-click="dropdownOpened = !dropdownOpened"><span ng-if="col.filters[0].term">{{col.filters[0].term|crdate}}</span><span ng-if="!col.filters[0].term">(choose)</span></a><ui-grid-filter-dropdown is-open="dropdownOpened"><datetimepicker ng-model="col.filters[0].term" on-set-time="closeDropdown()" /></ui-grid-filter-dropdown><div class="ui-grid-filter-button" ng-click="col.filters[0].term = null"><i ng-show="!!col.filters[0].term" class="ui-grid-icon-cancel">&nbsp;</i></div>',link:function(a,b,c){var d=b.find("ui-grid-filter-dropdown").controller("uiGridFilterDropdown");a.openDropdown=function(){d.open()},a.closeDropdown=function(){d.close()}}}}),a.directive("uiGridFilterDropdown",["$document","$timeout",function(a,b){function c(a){this.open=function(){a.isOpen=!0},this.close=function(){a.isOpen=!1},a.open=this.open,a.close=this.close}function d(a,c,d){function e(){return g[0].getBoundingClientRect()}function f(){var a=e(),b=c.children();b.css("left",a.left-15),b.css("top",a.height)}var g=c.parent().parent().parent().parent(),h=a.$watch(function(){return e().left},function(a,b){a!==b&&f()});b(f),a.$on("$destroy",h)}return c.$inject=["$scope"],{restrict:"E",transclude:!0,scope:{isOpen:"="},controller:c,link:d,template:'<div class="ui-grid-filter-dropdown-wrapper" ng-show="isOpen"><div class="ui-grid-filter-dropdown"><div ng-transclude></div><div class="ui-grid-filter-dropdown-footer"><button class="btn btn-danger pull-right" ng-click="close()">Close</button></div></div></div>'}}]),a.directive("uiGridTypedFilter",["filterTypeService","$compile",function(a,b){return{restrict:"E",replace:!0,scope:!1,link:function(c,d,e,f){var g='<div ng-if="filterable" class="ui-grid-filter-container"></div>',h=c.col.filter.type,i=a.getTypeTemplate(h),j=angular.element(g);j.append(i),c.col.filter.prepend&&j.prepend(c.col.filter.prepend),d.append(b(j)(c))}}}]),a.directive("uiGridFiltersExt",["filterTypeService",function(a){return{restrict:"A",require:"^uiGrid",scope:!1,compile:function(){return{pre:function(b,c,d,e){a.initializeGrid(e.grid)}}}}}]),a.directive("uiGridHeaderCell",[function(){return{priority:-500,restrict:"A",require:"^uiGrid",scope:!1,link:function(a,b,c,d){var e=a.col;b.popover({html:!0,trigger:"manual",content:function(){var a=e.colDef.filterValidationMessage||"Filter must be valid";return'<span class="text-danger">'+a+"</span>"}}),d.grid.options.enableSorting&&a.col.enableSorting&&b.addClass("sortable");var f=a.$watch("col.filters[0].term",function(a){_.isFunction(e.colDef.validateFilter)&&(e.colDef.validateFilter(a)?(b.removeClass("text-danger"),b.popover("hide")):b.hasClass("text-danger")||(b.addClass("text-danger"),b.popover("show")))},!0);a.$on("$destroy",function(){f()})}}}])}(),angular.module("ui.grid.extendedFilters").directive("multiSelectDropdown",["$filter",function(a){return{restrict:"E",require:"^uiGrid",scope:{selectedItems:"=",defaultValue:"=",items:"=",itemStyleFilter:"<"},controller:["$scope",function(b){var c=b.selectedItems,d={};c&&c.forEach(function(a){d[a]=!0}),b.selected=d,b.clearAll=function(){b.selectedItems=null,b.selected={}},b.selectItem=function(a){null==b.selectedItems&&(b.selectedItems=[],c=b.selectedItems);var d=c.indexOf(a.key);d<0?c.push(a.key):c.splice(d,1),0==c.length?b.selectedItems=null:b.selectedItems=c,b.selected[a.key]=!b.selected[a.key]},b.styleClass=function(c){return b.itemStyleFilter?a(b.itemStyleFilter)(c):""},b.$watch("selectedItems",function(a,c){b.selectedItems&&0!=b.selectedItems.length||b.clearAll()})}],templateUrl:"components/ui-grid/features/extended-filters/js/multiSelect.html"}}]),function(){"use strict";var a=angular.module("ui.grid.loading",[]);a.directive("uiGridViewport",[function(){var a=function(a,b,c,d){a.grid=d.grid,a.$watch("grid.options.isLoading",function(a){a===!0?b.addClass("grid-loading"):b.removeClass("grid-loading")})};return{restrict:"A",priority:-500,require:"^uiGrid",link:a}}])}(),function(){"use strict";var a=angular.module("ui.grid.tooltip",[]);a.directive("uiGridCellContents",["$log","gridUtil","$interpolate",function(a,b,c){function d(a,d,e,f,g){var h;h=c(void 0!==a.col.colDef.cellTitle?a.col.colDef.cellTitle:"{{row.entity."+b.preEval(a.col.field)+"}}");var i=a.$watch("row.entity",function(b){b&&d.attr("title",h(a))});a.$on("$destroy",i)}return{restrict:"C",priority:-500,require:["?^uiGrid","?^uiGridRow"],scope:!1,link:d}}])}(),function(){var a=angular.module("ui.grid.widget",[]);a.directive("paginationControls",function(){return{restrict:"E",templateUrl:"components/ui-grid/pagination-controls.html",scope:{gridApi:"=api",size:"="}}})}(),angular.module("ui.grid.autoFitRows",[]).directive("autoFitRows",["$window",function(a){return{require:"^uiGrid",link:function(a,b,c,d){var e=d.grid,f=100;if(c.autoFitRows&&(f=c.autoFitRows),c.maxHeight)var g=c.maxHeight;a.$watch(function(){return d.grid.rows.length},function(a){var c=Math.max(f,a*e.options.rowHeight+(e.options.rowHeaderHeight||30)+e.footerHeight+e.headerHeight);g&&(c=Math.min(c,g)),b.css("height",c+"px"),d.grid.gridHeight=c,d.grid.refresh()})}}}]),angular.module("ui.grid.autoFitScreen",[]).directive("autoFitScreen",["$window",function(a){return{scope:!0,link:function(b,c,d){b.$watch(function(){return angular.element(a).height()},function(a){var b=300;d.autoFitScreen&&(b=d.autoFitScreen);var e=Math.max(b,a-c.offset().top-120);c.css("height",e+"px")})}}}]),angular.module("CampaignReportingApp").factory("modalConfirmHelper",["$rootScope","$modal",modalConfirmHelper]),angular.module("intel.tools.auth",[]),angular.module("intel.tools.auth").constant("JWSConstants",{ISSUER:"iss",EXPIRATION_TIME:"exp",TOKEN_ID:"jti",SUBJECT:"sub",USER_NAME:"ufn",USER_LASTNAME:"uln",SCOPE:"scp",USER_WWID:"uwi"}).service("JWSUtils",["$log",function(a){var b=/(.*)\.(.*)\.(.*)/;this.decode=function(a){var c=b.exec(a),d=c[1],e=c[2],f=c[3];return{headers:angular.fromJson(atob(d)),body:angular.fromJson(atob(e)),sign:f}}}]),angular.module("intel.tools.auth").factory("OAuth2Interceptor",["$q","$injector","$log",function(a,b,c){function d(a){for(var b,c=a.substring(a.indexOf(" ")),d=c.split(","),e={},f=0;f<d.length;f++)b=d[f].split("="),e[b[0]]=b[1].substr(1,b[1].length-2);return e}function e(){return b.get("OAuth2")}return{request:function(a){var b=e();if(b.isForResource(a.url)&&b.isAuthenticated()){var c=b.getToken();a.headers=a.headers||{},a.headers.Authorization=c.type+" "+c.accessToken}return a},requestError:function(b){return a.reject(b)},response:function(a){return a},responseError:function(b){var f=e();if(401===b.status){c.error("Authentication failed");var g=d(b.headers("WWW-Authenticate"));"invalid_token"!==g.error&&"expired_token"!==g.error||f.authorize()}else b.authenticated=!!f.getToken();return a.reject(b)}}}]),angular.module("intel.tools.auth").controller("Oauth2CallbackCtrl",["$scope","$stateParams","$state","OAuth2","$log",function(a,b,c,d,e){function f(){var a=g(b.urlParams);d.validateToken(a).then(function(a){e.debug("Valid token. "+a.accessToken),d.registerToken(a),d.redirectToSavedState()},function(a){e.debug("Invalid access token. Start authorization process"),d.authorize()})}function g(a){for(var b,c,d=a.split("&"),e=d[0],f=1;f<d.length;f++){var g=d[f].split("=");"expires_in"===g[0]?b=g[1]:"token_type"===g[0]&&(c=g[1])}return{accessToken:e,expiresIn:b,type:c}}f()}]),angular.module("intel.tools.auth").provider("OAuth2",function(){var a={callbackState:"oauth2Callback",defaultRedirectState:"home",clientId:"",authzServerUri:"",redirectUri:"",scope:["*"],iframeId:"",resourceUrls:[]};this.configure=function(b){a=angular.extend(a,b)},this.$get=["$localStorage","$window","JWSUtils","JWSConstants","$http","$log","$q","$state","Subject",function(b,c,d,e,f,g,h,i,j){return new Auth(c,b,a,d,e,f,g,h,i,j)}]}),angular.module("intel.tools.auth").factory("BasicAuth",["Subject",function(a){function b(){return"Basic "+btoa(d+":"+e)}function c(b,c){d=b,e=c,a.setAuthenticated(!0),a.setInfo({login:b,name:b,wwid:11501521})}var d,e;return{getAuthHeader:b,setCredentials:c}}]),angular.module("intel.tools.auth").factory("BasicAuthInterceptor",["$q","$injector","$log","BasicAuth",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},a.headers.Authorization=d.getAuthHeader(),a},requestError:function(b){return a.reject(b)},response:function(a){return a},responseError:function(b){return a.reject(b)}}}]),angular.module("intel.tools.auth").directive("subjectIdentity",["Subject",function(a){return{restrict:"E",scope:{},template:'<span ng-if="isAuthenticated"><user-photo size="size" wwid="subject.wwid" class="cr-oauth2-identity-photo"></user-photo> {{subject.name}} {{subject.lastname}}</span>',link:function(b){b.size="xs",b.subject=a.getInfo(),b.isAuthenticated=a.isAuthenticated(),b.$watch(a.getInfo,function(a,c){a!==c&&(b.subject=a)}),b.$watch(a.isAuthenticated,function(a,c){a!==c&&(b.isAuthenticated=a)})}}}]),angular.module("intel.tools.auth").factory("Subject",Subject),angular.module("intel.tools.auth").directive("hasPermission",["ngIfDirective","Subject",function(a,b){var c=a[0];return{transclude:c.transclude,priority:c.priority-1,terminal:c.terminal,restrict:c.restrict,scope:{permission:"=hasPermission"},link:function(a,d,e){function f(){return b.isPermitted(a.permission)}var g=e.ngIf,h=null;h=g?function(){return a.$eval(g)&&f()}:f,e.ngIf=h,c.link.apply(c,arguments)}}}]),angular.module("CampaignReportingApp").factory("addFilterUrl",["$rootScope","$filter","$location","$stateParams",function(a,b,c,d){function e(b,c,d,e){void 0===e&&(e=d(c)),void 0!==j[b]&&h(b),j[b]={name:b,"var":c,defaultValue:e,getValue:d},j[b].deregWatch=a.$watch(function(){return c},function(a,c){a!==c&&JSON.stringify(a)!==JSON.stringify(c)&&f(b,d(a),e)},!0)}function f(a,b,e){b===e?(c.search(a,null),d[a]=null):(c.search(a,b),d[a]=b)}function g(a){var b=c.search();return b.hasOwnProperty(a)?b[a]:d.hasOwnProperty(a)&&void 0!==d[a]?d[a]:null}function h(a){var b=j[a];if(void 0===b)return null;var c=j.indexOf(b);c>-1&&(j.splice(c,1),b.deregWatch())}function i(){angular.forEach(j,function(a){j.splice(0,1),a.deregWatch()}),j=[]}var j=[];return{followFilter:e,addValuesToUrl:f,getValuesFromUrl:g,unFollowFilter:h,reset:i}}]),angular.module("intel.tools.bootstrap",[]),angular.module("intel.tools.bootstrap").directive("itAffix",[function(){function a(a,b,c){var d=0;if(_.isNumber(c))d=c;else if(_.isString(c)){var e=$(c);d=e.outerHeight()}var f=b.offset().top;a.top=f+d}return{restrict:"A",scope:{options:"=itAffix"},link:function(b,c,d){var e=angular.copy(b.options);if(_.isObject(e.offset)){var f=e.offset;void 0!==f.elementTop&&a(f,c,f.elementTop)}c.affix(e)}}}]),angular.module("intel.tools.bootstrap").directive("itScrollSync",[function(){return{restrict:"A",scope:{options:"=itScrollSync"},link:function(a,b,c){if(a.options.target){var d=$(a.options.target);d.css("overflow","hidden"),b.scroll(function(c){a.options.vertical!==!1&&d.scrollTop(b.scrollTop()),a.options.horizontal!==!1&&d.scrollLeft(b.scrollLeft())})}}}}]),angular.module("intel.tools.bootstrap").directive("itBtnSelect",itBtnSelect),angular.module("ui.grid").run(["$templateCache",function(a){"use strict";a.put("ui-grid/columnChooserModal",'<div class=modal-header>\n\t<h3 class=modal-title>Select columns</h3>\n</div>\n<div class="modal-body intel-column-chooser-modal-body">\n\t<div class=row>\n\t\t\n\t\t<div class="form-group col-md-7">\n\t\t\t<input placeholder="Column name" ng-model=columnFilter class=form-control auto-focus>\n\t\t</div>\n\t\t\n\t\t<div class="btn-group col-md-5" role=group>\n\t\t\t<button class="btn btn-default" ng-click=selectAll()>Select all</button>\n\t\t\t<button class="btn btn-default" ng-click=unselectAll()>Unselect all</button>\n\t\t</div>\n\t</div>\n\t<div class=ui-grid-choose-columns-list>\n\t\t<ul class=list-group ui-sortable="" ng-model=columns>\n\t\t\t<li ng-repeat="col in columns|filter:columnFilter|orderBy:order" ng-click=toggleVisible(col) ng-class={active:col.visible} class=list-group-item>\n\t\t\t\t{{col.displayName}}</li>\n\t\t</ul>\n\t</div>\n</div>\n<div class=modal-footer>\n\t <button class="btn btn-primary" ng-click=ok()>OK</button>\n\t <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("ui-grid/columnChooserModalWindowTemplate","<div tabindex=-1 role=dialog class=modal ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=close($event)>\n    <div class=modal-dialog ng-class=\"{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\">\n        <div class=modal-content modal-transclude></div>\n    </div>\n</div>")}]),angular.module("app.core",[]),angular.module("app.core").service("AppRequest",function(){}),angular.module("app.data",["app.core"]),angular.module("app.services",["toastr"]),angular.module("app.auth",["app.core","intel.tools.auth","app.services"]),angular.module("app.widgets",["app.data","app.live","app.core","app.utils","ui.bootstrap.position"]),angular.module("app.kpi",["app.data","app.widgets"]),angular.module("app.test-signature",["app.data"]),angular.module("app.charts",["app.data"]),angular.module("app.usage-statistics",["app.data"]),angular.module("app.quality-reporting",["app.data"]),angular.module("app.issues",["app.data"]),angular.module("app.activities",["app.data"]),angular.module("app.domains",["app.data"]),angular.module("app.oneandroid",["app.data"]),angular.module("app.live",[]),angular.module("app.campaign-detail",["app.data"]),angular.module("app.benches",["app.data","app.widgets","app.preferences"]),angular.module("app.cts",["app.cts"]),angular.module("app.user",["app.user"]),function(){"use-strict";var a=window.__env,b=angular.module("app.core");b.constant("appConfig",{VERSION:"1.32.87",LAST_MODIFIED:"2019-07-30 19:20:46",WEB_URI:a.WEB_URI,LOG_DEBUG:a.LOG_DEBUG}),b.constant("authConfig",{ENABLED:!0,TYPE:a.AUTH_TYPE,dev:{PASSWORD:"admin",USER:"admin"},basic:{},oauth:{REDIRECT_URI:a.WEB_URI,CLIENT_ID:a.OAUTH_CLIENT_ID,AUTHZ_SERVER_URI:a.OAUTH_AUTHZ_SERVER_URI,SCOPE:["tcr:*"]}}),b.constant("restApiConfig",{URL:a.REST_API_URL,INFO:"/system/info"}),b.constant("wsConfig",{URL:a.WS_URL,ENABLED:a.WS_ENABLED}),b.constant("errorTrackingConfig",{ENABLED:a.ERROR_TRACKING_ENABLED}),b.constant("crashtoolConfig",{web:{BASE_URL:a.CRASHTOOL_WEB_URL,CRASHTYPE_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/crashType.do?crashtypeId=:crashtypeId",DEVICE_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/device.do?deviceId=:deviceId",EVENT_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/event.do?action=display&eventId=:eventId",IMG_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/img/:img",JIRA_URL:a.CRASHTOOL_JIRA_URL+"/browse/:bugId",MAINLINE_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/mainline.do?mainline=:mainline",PROJECT_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/project.do?mainline=:mainline&variant=:variant",EVENT_SEARCH_URL:a.CRASHTOOL_WEB_URL+"/crashtoolStrutsWEB/eventSearch.do"},rest:{PROJECT_URL:a.CRASHTOOL_WEB_URL+"/rest/projects/:mainline/:variant",EVENT_SEARCH:a.CRASHTOOL_WEB_URL+"/rest/event/search",STAT_BUILD:a.CRASHTOOL_WEB_URL+"/rest/stats/build"}}),b.constant("accessManagementConfig",{requestUrls:{root:a.ACCESS_MANAGEMENT_REQUEST_URL+"&OtherUsersSelected=&eamSystemId=1135&keyWord=TCR",mtbfReviewer:a.ACCESS_MANAGEMENT_REQUEST_URL+"&keyWord=MTBF+Reviewer"}}),b.constant("crConstants",{DATETIME_FORMAT:"yyyy-MM-dd HH:mm:ss",SHORTDATE_FORMAT:"yyyy-MM-dd"})}(),angular.module("app.core").constant("ActivityConstants",{action:{SYNC:"SYNC"},type:{BUILD:"Build",TEST:"Test"},context:{status:{SUCCEED:"SUCCEED",FAILED:"FAILED"}}}),angular.module("app.core").constant("FileViewerConstants",{maxSize:4194304,extension:{GIF:"GIF",GZ:"GZ",HTML:"HTML",JPG:"JPG",JPEG:"JPEG",PNG:"PNG",TAR:"TAR",ZIP:"ZIP"}}),angular.module("app.core").constant("TestConstant",{verdict:{NA:"NA",INCONCLUSIVE:"INCONCLUSIVE",BLOCKED:"BLOCKED",FAILED:"FAILED",PASSED:"PASSED",INVALID:"INVALID",VALID:"VALID"},status:{PENDING:"PENDING",TIMEOUT:"TIMEOUT",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",RUNNING:"RUNNING",NA:"NA"},phase:{SETUP:"SETUP",CORE:"CORE",TEAR_DOWN:"TEAR_DOWN"},types:{MTBF:"MTBF",ENDURANCE:"ENDURANCE",STRESS:"STRESS",FUNCTIONAL:"FUNCTIONAL",STABILITY:"STABILITY",KPI:"KPI"},domains:{BOOT_OTA:"si_boot_ota"},teams:{BOOT_OTA:"BOOT_OTA",SI:"SI"},typeColors:{MTBF:"#9C27B0",ENDURANCE:"#F44336",STRESS:"#673AB7",FUNCTIONAL:"#009688",STABILITY:"#795548",KPI:"#0071C5",DEFAULT:"#333333"},resultTypes:{PNP:"PNP"},defaultFieldsForExport:["campaignName","testCase","attachments","status","verdict","issues.key","phase","creation","duration","build.branch","build.buildId","build.tag.name","build.targetProduct","bench.name","device.deviceId","detail"]}),angular.module("app.core").service("TestBusiness",["TestConstant",function(a){this.isInReport=function(b){return void 0===b.isInReport&&(b.verdict===a.verdict.PASSED||b.verdict===a.verdict.FAILED||b.verdict===a.verdict.INCONCLUSIVE)||b.isInReport}}]),angular.module("app.core").constant("PiConstant",{target:{type:{LOWER_IS_BETTER:"LIB",HIGHER_IS_BETTER:"HIB",RANGE:"RANGE"}},evolution:{PROGRESSION:"PROGRESSION",REGRESSION:"REGRESSION",UNDETERMINED:"UNDETERMINED"},thresholdType:{ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE"},aggregation:{MEDIAN:"MED",LATEST:"LATEST",MEAN:"MEAN"},defaults:{REGRESSION_THRESHOLD:3,AGGREGATION_FUNCTION:"MED",minimumRuns:{MED:3,LATEST:1,MEAN:5}},piStatus:{NOTRUN:"NOTRUN",BLOCKED:"BLOCKED",INCONCLUSIVE:"INCONCLUSIVE",FAILED:"FAILED",WARNING:"WARNING",PASSED:"PASSED"}}),angular.module("app.core").service("PiBusiness",["PiConstant","$log",function(a,b){this.isInTarget=function(b,c){if(void 0===b)return!1;var d=!1;return a.target.type.RANGE===b.type&&(d=c>b.effectiveMin&&c<b.effectiveMax),a.target.type.LOWER_IS_BETTER===b.type&&(d=c<b.effectiveMax),a.target.type.HIGHER_IS_BETTER===b.type&&(d=c>b.effectiveMin),d},this.aggregatedValue=function(c,d){switch(c.aggregationFn){case a.aggregation.MEDIAN:return d.median;case a.aggregation.LATEST:return d.latest;case a.aggregation.MEAN:return d.mean;default:b.error("aggregation function "+c.aggregationFn+" invalid")}}}]),angular.module("app.core").service("SecurityUtils",["SecurityConstant","Subject",function(a,b){this.hasPermission=function(a,b){return!(!a._security||!a._security.permissions)&&_.includes(a._security.permissions,b)},this.havePermissionToViewEntity=function(b){if(!b||!b._security||!b._security.owner)return!0;if(b._security.privacy===a.privacy.PUBLIC)return!0;var c=!1;return b._security.privacy===a.privacy.PRIVATE&&(c=this.isOwner(b)||this.isMaintainer(b)),c},this.isOwner=function(a){if(!a||!a._security||!a._security.owner)return!1;var c=a._security.owner,d=b.getInfo();return c.wwid==d.wwid},this.isMaintainer=function(a){if(!a||!a._security||!a._security.sharePeople)return!1;var c=!1,d=a._security.sharePeople,e=b.getInfo();return d&&d.forEach(function(a){a.wwid==e.wwid&&(c=!0)}),c}}]),angular.module("app.core").constant("SecurityConstant",{perms:{EDIT:"EDIT",READ_ONLY:"READ_ONLY",DELETE:"DELETE",CERTIFY:"CERTIFY",DECERTIFY:"DECERTIFY"},privacy:{PUBLIC:"PUBLIC",PRIVATE:"PRIVATE"}}),angular.module("app.core").constant("UsageStatisticsConstants",{granularity:{DAILY:"DAILY",HOURLY:"HOURLY"},type:{USAGESTATISTICS:"_usage_statistics",TEST:"TEST",FREESPACE:"FREESPACE",ATTACHMENTSVOLUME:"ATTACHMENTSVOLUME",ATTACHMENTSNUMBER:"ATTACHMENTSNUMBER",CAMPAIGN:"CAMPAIGN"}}),angular.module("app.core").constant("BuildConstant",{releaseTag:{type:{WEEKLY:"weekly",DAILY:"daily"}}}),angular.module("app.core").constant("EventConstant",{bug:{status:{NEW:"New",OPEN:"Open",INPROGRESS:"InProgress",PENDING:"Pending",TRIAGE:"Triage",DEFFERED:"Deferred",IMPLEMENTED:"Implemented",VALIDATION:"Validation",MERGED:"Merged",VERIFY:"Verify",VERIFIED:"Verified",CLOSED:"Closed"}}}),angular.module("app.core").constant("Permissions",{buildReport:{EDIT:"tcr:build-report:edit"},team:{CREATE:"tcr:team:create"}}),angular.module("app.core").constant("AppEventConstant",{comment:{CREATED:"tcr-comment-created"},campaign:{TAB_ACTIVE:"tcr-campaign-tab-active"},cts:{REFRESH_REPORT:"tcr-cts-refresh-report"},build:{TESTS_CHANGE:"tcr-build-tests-change",ACTIVITY_CHANGE:"tcr-build-activity-change"},session:{EXPIRED:"tcr-session-experied"}}),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("error",{"abstract":!0,template:'<div class="container-fluid"><ui-view/></div>',url:"/error"}).state("error.notfound",{url:"/404",templateUrl:"app/error/404.html"})}]),angular.module("app.data").service("Campaigns",["$resource","restApiConfig",function(a,b){var c=b.URL+"/campaigns/:campaignId";return a(c,{campaignId:"@id"},{update:{method:"PUT"},changename:{method:"PUT",url:c+"/name",isArray:!1},certify:{method:"POST",url:c+"/certification"},decertify:{method:"DELETE",url:c+"/certification"},search:{method:"GET",url:c+"/search/secured",isArray:!1},getTests:{url:c+"/tests",isArray:!0},getCrashEvents:{url:c+"/events?limit=:limit&skip=:skip",isArray:!0},getRawBuild:{url:c+"/rawfield/build",method:"GET",isArray:!1},comments:{url:c+"/comments",method:"GET",isArray:!0},createComment:{url:c+"/comments",method:"POST",isArray:!1},updateComment:{url:c+"/comments",method:"PUT",isArray:!1},deleteComment:{url:c+"/:testId/comments/:id",method:"DELETE",isArray:!1},activities:{url:c+"/activities",method:"GET",isArray:!0},charts:{url:c+"/charts",method:"GET",isArray:!1},tasks:{url:c+"/tasks",method:"GET",isArray:!0,cache:!1},getPermissions:{url:c+"/:id/permissions",method:"GET",isArray:!1},getAttachments:{url:c+"/attachments",isArray:!0,transformResponse:function(a,c){a=angular.fromJson(a);var d=a.results;return angular.forEach(d,function(a,c){a.url=b.URL+a.url}),a.results}},getFeatures:{url:c+"/features",method:"GET",isArray:!1},getFacets:{url:c+"/facets",method:"GET",isArray:!0},removeInReport:{url:c+"/:id/removeInReport",method:"POST",isArray:!1},deleteCampaign:{url:c+"/:id",method:"DELETE",isArray:!1},showInReport:{url:c+"/:id/showInReport",method:"POST",isArray:!1},getRacks:{url:c+"/racks",method:"GET",isArray:!0},removeTestCases:{url:c+"/tests",method:"DELETE",hasBody:!0,isArray:!0},changeTestCasesUnderCampaign:{url:c+"/tests",method:"PUT"},getHistoricaltestcase:{url:c+"/historicaltestcase",method:"POST",hasBody:!0,isArray:!1}})}]),angular.module("app.data").service("Tests",["$resource","restApiConfig",function(a,b){var c=b.URL+"/tests";return a(c+"/:testId",{testId:"@id"},{getFieldFromTests:{url:c+"?sort=:sort",method:"GET"},getTestCasesGroup:{url:c+"/testCases/groupStats",method:"GET",isArray:!1},tagBatch:{url:c+"/tags",method:"PUT"},untagBatch:{url:c+"/tags",method:"DELETE"},getRawBuild:{url:c+"/:testId/rawfield/build",method:"GET",isArray:!1},fieldValues:{url:c+"/fields/:field/values",method:"GET",isArray:!1},testCases:{url:c+"/testCases",method:"GET",isArray:!1},builds:{url:c+"/builds",isArray:!0},hierarchy:{url:c+"/:testId/hierarchy",method:"GET",isArray:!0},activities:{url:c+"/:testId/activities",method:"GET",isArray:!0},attachments:{url:c+"/:testId/attachments",isArray:!0,transformResponse:function(a,c){a=angular.fromJson(a);var d=a.results;return angular.forEach(d,function(a,c){a.url=b.URL+a.url}),a.results}},comments:{url:c+"/:testId/comments",method:"GET",isArray:!0},updateComment:{url:c+"/:testId/comments",method:"PUT",isArray:!1},createComment:{url:c+"/:testId/comments",method:"POST",isArray:!1},deleteComment:{url:c+"/:testId/comments/:id",method:"DELETE",isArray:!1},charts:{url:c+"/:testId/charts",method:"GET",isArray:!1},query:{isArray:!1},search:{url:c+"/search/secured",isArray:!1},update:{method:"PUT"},getCrashEvents:{url:c+"/:testId/events",isArray:!0},createCrashEvent:{url:c+"/:testId/events",method:"POST",isArray:!1},issues:{url:c+"/:testId/issues",method:"GET",isArray:!1},refIssue:{url:c+"/:testId/issues/:id",method:"POST",isArray:!1},unrefIssue:{url:c+"/:testId/issues/:id",method:"DELETE",isArray:!1},historyIssues:{url:c+"/:testId/issues/history",method:"GET",isArray:!1},changeVerdict:{url:c+"/:testId/verdict/:verdict",method:"PUT",isArray:!1},findDuplicate:{url:c+"/duplicate",method:"GET",isArray:!0},findDifference:{url:c+"/difference",method:"GET",isArray:!0},certify:{url:c+"/:testId/certification",method:"POST"},decertify:{url:c+"/:testId/certification",method:"DELETE"},bulkCertify:{url:c+"/bulk/certification",method:"POST",isArray:!1},bulkDecertify:{url:c+"/bulk/certification",method:"DELETE",isArray:!1},removeEvents:{url:c+"/:testId/events/:id",method:"DELETE",isArray:!1},executionStats:{url:c+"/executionStats",method:"GET",isArray:!1},aggregate:{url:c+"/aggregate/:field",method:"GET",isArray:!0},rootCauseScope:{url:c+"/:testId/attachments/:attachmentId/rootCauseScope",method:"GET",params:{limit:10},isArray:!0},rootCauseReport:{url:c+"/:testId/attachments/:attachmentId/rootCauseReport",method:"POST",isArray:!1},bulkCreation:{url:c+"/bulk",method:"POST"}})}]),angular.module("app.data").factory("TestFacets",["$resource","restApiConfig",function(a,b){var c=b.URL+"/testFacets";return a(c,null,{query:{cache:!0,isArray:!1}})}]),angular.module("app.data").service("Kpis",["$resource","restApiConfig",function(a,b){var c=b.URL+"/pis";return a(c,null,{query:{isArray:!1}})}]),angular.module("app.data").service("PiDashboards",["$resource","restApiConfig",function(a,b){var c=b.URL+"/piDashboards/:id",d=c+"/testMetrics",e=c+"/data",f=c+"/builds",g=c+"/buildPis";return a(c,{id:"@id"},{query:{isArray:!1},update:{method:"PUT"},createPiResult:{url:d,method:"POST"},getTestMetrics:{url:d,method:"GET",isArray:!0},getBuilds:{url:f,method:"GET",isArray:!0},getData:{url:e,method:"GET"},copy:{url:c+"/copy",method:"GET"},findMine:{url:c+"/mine",method:"GET"},findPublic:{url:c+"/public",method:"GET"},findSharedWithMe:{url:c+"/sharedWithMe",method:"GET"},addSharePeople:{url:c+"/sharePeople",method:"POST"},updateSecurity:{url:c+"/security",method:"PUT"},compare:{url:c+"/comparisons",method:"GET"},saveComparison:{url:c+"/comparisons",method:"POST"},piStats:{url:c+"/piStats/:testCase/:metricName/:unit/:aggregation",method:"GET"},allPiStats:{url:c+"/piStats",method:"GET",isArray:!0},saveBuildPi:{url:g,method:"POST"},findBuildPis:{url:g,method:"GET"}})}]),angular.module("app.data").service("PiReports",["$resource","restApiConfig",function(a,b){var c=b.URL+"/piReports/:id";return a(c,{id:"@id"},{query:{isArray:!1},facets:{url:c+"/facets",isArray:!0}})}]),angular.module("app.data").service("Builds",["$resource","restApiConfig",function(a,b){var c=b.URL+"/builds";return a(c+"/:id",{id:"@id"},{query:{isArray:!1},fieldValues:{url:c+"/fields/:field/values",method:"GET",isArray:!0},verdictRepartition:{url:c+"/verdictRepartition",method:"GET",isArray:!1},issues:{url:c+"/issues",method:"GET",isArray:!1}})}]),angular.module("app.data").service("TestBuilds",["$resource","restApiConfig",function(a,b){var c=b.URL+"/testBuilds";return a(c)}]),angular.module("app.data").factory("Activities",["$resource","restApiConfig",function(a,b){var c=b.URL+"/activities";return a(c,null,{query:{cache:!0,isArray:!1}})}]),angular.module("app.data").service("ApiInfo",["$resource","restApiConfig",function(a,b){return a(b.URL+b.INFO)}]),angular.module("app.data").service("ChartData",["$resource","restApiConfig",function(a,b){var c=b.URL+"/charts";return a(c+"/:chartId",{chartId:"@id"},{data:{url:c+"/:chartId/data",method:"GET",isArray:!1}})}]),angular.module("app.data").service("UsageStatistics",["$resource","restApiConfig",function(a,b){var c=b.URL+"/usageStatistics";return a(c,null,{getToday:{url:c+"?type=:type&startd=:startd&stopd=:stopd&gran=:granularity",
method:"GET",isArray:!1}})}]),angular.module("app.data").service("Bugtracker",["$resource","restApiConfig",function(a,b){var c=b.URL+"/bugtrackers";return a(c,{},{issues:{url:c+"/issues",isArray:!1},issue:{url:c+"/issues/:issueId",isArray:!1}})}]),angular.module("app.data").service("BuildTargetProducts",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildTargetProducts";return a(c+"/:id",{id:"@id"},{lastUsed:{url:c+"/lastUsed",method:"GET",isArray:!1}})}]),angular.module("app.data").service("BuildTargetDevices",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildTargetDevices";return a(c+"/:id",{id:"@id"},{lastUsed:{url:c+"/lastUsed",method:"GET",isArray:!1}})}]),angular.module("app.data").service("BuildVariants",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildVariants";return a(c+"/:id",{id:"@id"},{lastUsed:{url:c+"/lastUsed",method:"GET",isArray:!1}})}]),angular.module("app.data").service("BuildMeta",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildMeta";return a(c+"/:buildId",{},{})}]),angular.module("app.data").service("BuildReports",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildReports";return a(c+"/:reportIdOrKey",{reportIdOrKey:"@id"},{preview:{url:c+"/preview"},query:{isArray:!1},update:{url:c+"/:reportId",method:"PUT"},"delete":{url:c+"/:reportId",method:"DELETE"},weeklyDraft:{url:c+"/weeklyDraft",method:"GET"},addCampaigns:{url:c+"/:reportId/campaigns",method:"POST"},removeCampaigns:{url:c+"/:reportId/campaigns",method:"DELETE",hasBody:!0},buildSignatures:{url:c+"/:reportId/buildSignatures",method:"GET",isArray:!0},getSectionActivities:{url:c+"/:reportKey/sections/:section/activities"},commentSection:{url:c+"/:reportKey/sections/:section/comments",method:"POST"},updateCommentSection:{url:c+"/:reportKey/sections/:section/comments",method:"PUT"},setSectionStatus:{url:c+"/:reportKey/sections/:section/statuses/:context",method:"POST"},getActivities:{url:c+"/:reportId/activities",method:"GET",isArray:!0},getParticipants:{url:c+"/:reportId/participants",method:"GET",isArray:!0}})}]),angular.module("app.data").service("BuildBranches",["$resource","restApiConfig",function(a,b){var c=b.URL+"/buildBranches";return a(c+"/:id",{id:"@id"},{lastUsed:{url:c+"/lastUsed",method:"GET",isArray:!1}})}]),angular.module("app.data").service("Domains",["$resource","restApiConfig",function(a,b){var c=b.URL+"/domains";return a(c+"/:id",{id:"@id"},{query:{isArray:!1}})}]),angular.module("app.domains").service("TestTypes",["$resource","restApiConfig",function(a,b){var c=b.URL+"/testTypes";return a(c,{},{})}]),angular.module("app.data").service("QualityReporting",["$resource","restApiConfig",function(a,b){var c=b.URL+"/qr";return a(c,{},{getInstances:{url:c+"/instances",method:"GET",isArray:!0},getDomains:{url:c+"/domains",method:"POST",isArray:!1},getProjects:{url:c+"/projects",method:"POST",isArray:!1},getFolders:{url:c+"/folder",method:"POST",isArray:!1},getSubFolders:{url:c+"/subFolder",method:"POST",cache:!0,isArray:!1},uploadCampaign:{url:c+"/uploadCampaign",method:"POST"},uploadReport:{url:c+"/uploadReport",method:"POST"},upload:{url:c+"/upload",method:"POST",headers:{"Content-Type":void 0}},retry:{url:c+"/retry/:campaignId",method:"POST"},download:{url:c+"/download",method:"POST",isArray:!1}})}]),angular.module("app.data").service("Tasks",["$resource","restApiConfig",function(a,b){var c=b.URL+"/tasks";return a(c+"/:taskId",{taskId:"@id"})}]),angular.module("app.data").service("Racks",["$resource","restApiConfig",function(a,b){var c=b.URL+"/racks";return a(c,{},{updateRacks:{url:c,method:"POST",isArray:!0},resetRacks:{url:c,method:"DELETE",isArray:!0},changeRackSetting:{url:c+"/settings",method:"POST",isArray:!0}})}]),angular.module("app.data").service("Teams",["$resource","restApiConfig",function(a,b){var c=b.URL+"/teams";return a(c,{},{active:{url:c+"/active",method:"GET",isArray:!0}})}]),angular.module("app.data").service("EventTypes",["$resource","restApiConfig",function(a,b){var c=b.URL+"/eventTypes";return a(c,{},{getMtbfFailureList:{url:c+"/mtbfFailures",method:"GET",isArray:!0}})}]),angular.module("app.data").service("BenchStates",["$resource","restApiConfig",function(a,b){var c=b.URL+"/benchStates";return a(c+"/:id",{id:"@id"},{query:{isArray:!1},groups:{method:"GET",url:c+"/groups",isArray:!0}})}]),angular.module("app.data").service("UserPreferences",["$resource","restApiConfig",function(a,b){var c=b.URL+"/user/preferences";return a(c+"/:bucket/:property",{},{})}]),angular.module("app.data").service("TestSignatures",["$resource","restApiConfig",function(a,b){var c=b.URL+"/testSignatures";return a(c,{},{search:{method:"GET",url:c+"/search",isArray:!1},getFacets:{url:c+"/facets",method:"GET",isArray:!0}})}]),angular.module("app.data").service("LogFeatures",["$resource","restApiConfig",function(a,b){var c=b.URL+"/logFeatures";return a(c,{},{getById:{method:"GET",url:c,isArray:!1}})}]),angular.module("app.data").service("AttachmentsService",["$resource","restApiConfig",function(a,b){var c=b.URL+"/attachments";return a(c+"/:attachmentId",{attachmentId:"@id"},{extend:{url:c+"/:attachmentId/extend",method:"POST"}})}]),angular.module("app.data").service("Mails",["$resource","restApiConfig",function(a,b){var c=b.URL+"/mails";return a(c,{},{send:{method:"POST",url:c,isArray:!1}})}]),angular.module("app.data").service("CTS",["$resource","restApiConfig",function(a,b){var c=b.URL+"/cts",d=c+"/comparisons";return a(c,{},{getCompare:{url:d,method:"GET",isArray:!1},compare:{url:d,method:"POST",isArray:!1},getReport:{url:d+"/:reportId",method:"GET",isArray:!1},deleteReport:{url:d+"/:reportId",method:"DELETE",isArray:!1},getTests:{url:d+"/:reportId/tests",method:"GET",isArray:!0}})}]),angular.module("app.data").service("UserGroups",["$resource","restApiConfig",function(a,b){var c=b.URL+"/user/groups";return a(c,{},{getAll:{url:c,method:"GET",isArray:!0},get:{url:c+"/:group",method:"GET"},create:{url:c,method:"POST"},getAdmins:{url:c+"/:group/admins",method:"GET",isArray:!0},addAdmin:{url:c+"/:group/admins",method:"POST"},removeAdmin:{url:c+"/:group/admins/:wwid",method:"DELETE"},getMembers:{url:c+"/:group/members",method:"GET",isArray:!0},addMember:{url:c+"/:group/members",method:"POST"},removeMember:{url:c+"/:group/members/:wwid",method:"DELETE"}})}]),angular.module("app.data").service("Projects",["$resource","restApiConfig",function(a,b){var c=b.URL+"/projects";return a(c,{},{getAll:{url:c,method:"GET"},get:{url:c+"/:id",method:"GET"},query:{isArray:!1},getSecured:{url:c+"/secured",method:"GET",isArray:!1},getActivities:{url:c+"/:id/activities",method:"GET",isArray:!0},create:{url:c,method:"POST"},addReports:{url:c+"/:id/buildReports",method:"POST"},removeReports:{url:c+"/:id/buildReports",method:"DELETE",hasBody:!0},addCampaigns:{url:c+"/:id/campaigns",method:"POST"},removeCampaigns:{url:c+"/:id/campaigns",method:"DELETE",hasBody:!0},addSharePeople:{url:c+"/:id/sharePeople",method:"POST"},updateSecurity:{url:c+"/:id/security",method:"PUT"}})}]),angular.module("app.services").factory("Notifier",["toastr",function(a){return a}]),angular.module("app.services").config(["toastrConfig",function(a){angular.extend(a,{positionClass:"toast-bottom-right",preventDuplicates:!0})}]),angular.module("app.services").service("AudienceTracker",["$analytics",function(a){function b(a){d(1,"user",a,"visit")}function c(b,c){a.trackEvent("api_reponse_time",{category:"REST API Response time",label:b,value:c})}function d(b,c,d,e){a.setCustomVariable(b,c,d,e)}return{setData:d,setIdentity:b,trackResponseTime:c}}]),angular.module("app.services").service("dataExportService",["$timeout","$http",function(a,b){var c="text/csv; charset=utf-8",d=function(a,b){saveAs(new Blob([b.data],{type:c}),a+"-"+(new Date).toJSON().slice(0,10)+".csv",!0)};return{"export":function(a,e,f){angular.isDefined(f)&&angular.isDefined(f.sort)&&(f.sort=f.sort.replace("+","")),b({method:"GET",url:e,params:f,headers:{Accept:c,"Content-Type":c}}).then(function(b){d(a,b)},function(a){})}}}]),angular.module("app.services").factory("Math",[function(){return math}]),angular.module("app.services").factory("UrlBlockInterceptor",["$q","$log",function(a,b){return{request:function(a){return a}}}]),angular.module("app.services").factory("NotFoundInterceptor",["$q","$log","$injector",function(a,b,c){return{request:function(a){return a},requestError:function(b){return a.reject(b)},response:function(a){return a},responseError:function(b){return a.reject(b)}}}]),angular.module("app.services").factory("UnauthorizedInterceptor",UnauthorizedInterceptor),angular.module("app.services").factory("TemplatePreference",["$localStorage","$templateCache","$templateRequest","$timeout","$log",function(a,b,c,d,e){function f(b,c){var d=i+b;return e.debug("set template pref",d,"to",c),c?void(a[d]=c):a[d]}function g(a,b){var c=f(a);return e.debug("provide template pref",a,"for",c),b[c]?h(b[c]):b.other?h(b.other):void e.error("No template choice for pref "+a+" with value "+c)}function h(a){return b.get(a)?d(function(){return e.debug("template pref : load "+a+" from cache"),b.get(a)},0):c(a).then(function(c){return e.debug("template pref : load "+a+" in cache"),b.put(a,c),c})}var i="templatePref.";return{pref:f,provide:g}}]),angular.module("app.services").service("UsageStatisticsChart",["$log","UsageStatisticsConstants","moment",function(a,b,c){function d(a,c,d,e,f,g,h){var i=[],j=1024;h!==b.type.FREESPACE&&(j=1),a&&(a.forEach(function(a){i.push({x:Date.parse(a.time),y:a.value*j,name:Date.parse(a.time)})}),c.push({name:d,data:i,type:e,yAxis:f,color:g,zIndex:1-f}))}function e(a){var b=a.value,c="";b<0&&(b=-b,c="-");var d=["bytes","KB","MB","GB","TB","PB"],e=Math.floor(Math.log(b)/Math.log(1024)),f=c+(b/Math.pow(1024,Math.floor(e))).toFixed(2);return e=e<0?-e:e,0===b&&(e=0,f=0),f+=" "+d[e]}function f(a,d,e){var f=c(a.x).local().format("MMM Do YYYY, H:mm"),g="";if(d===b.granularity.DAILY&&(f=c(a.x).local().format("MMM Do YYYY")),e===b.type.FREESPACE||e===b.type.ATTACHMENTSVOLUME){if(0===a.y)return"<b>"+f+"</b><br/> 0 KB";var h=a.y,i="";a.y<0&&(h=-a.y,i="-");var j=["bytes","KB","MB","GB","TB","PB"],k=Math.floor(Math.log(h)/Math.log(1024));g="<b>"+f+"</b><br/>"+i+(h/Math.pow(1024,Math.floor(k))).toFixed(2),k=k<0?-k:k,g+=" "+j[k]}else g="<b>"+f+"</b><br/>"+a.y;return g}function g(a){var c="";switch(a){case b.type.TEST:case b.type.CAMPAIGN:c="Number of created "+a.toLowerCase()+"s";break;case b.type.ATTACHMENTSVOLUME:c="Volume of uploaded attachments";break;case b.type.ATTACHMENTSNUMBER:c="Number of uploaded attachments";break;default:c=""}return c}function h(a){var c="";switch(a){case b.type.TEST:case b.type.CAMPAIGN:c="Cumulative number of "+a.toLowerCase()+"s";break;case b.type.ATTACHMENTSVOLUME:c="Cumulative volume of attachments";break;case b.type.ATTACHMENTSNUMBER:c="Cumulative number of attachments";break;default:c=" Disk Space Left (Bytes)"}return c}function i(a){return a&&0!==a.data.length?a.data[a.data.length-1].x:0}function j(a,c,d,e){var f=g(d)+" "+e;d===b.type.FREESPACE&&(f="Free disk Space"),Highcharts.setOptions({global:{useUTC:!1}});var j={options:{chart:{zoomType:"x"},xAxis:{title:{text:"Time"},type:"datetime",tickInterval:c===b.granularity.HOURLY?36e5:864e5}},series:a,title:{text:f},credits:{enabled:!1}};return c===b.granularity.DAILY?(d!==b.type.FREESPACE&&(j.options.xAxis.max=i(a[1])),j.options.yAxis=[{title:{text:g(d)}},{title:{text:h(d)},opposite:!0}]):(d!==b.type.FREESPACE&&(j.options.xAxis.max=i(a[0])),j.options.yAxis=[{title:{text:g(d)}},{title:{text:""}}]),j}function k(a,c,d,e){if(c===b.granularity.HOURLY){var f=d[0].data.pop();f.x!==a.time&&d[0].data.push(f),d[0].data.push({x:a.time,y:a.hourly,name:a.time}),e.options.xAxis.max=a.time}else{var g=d[0].data.pop(),h=d[1].data.pop();a.time=a.time-a.time%864e5,h.x!==a.time&&(d[0].data.push(g),d[1].data.push(h)),d[0].data.push({x:a.time,y:a.daily,name:a.time}),d[1].data.push({x:a.time,y:a.cumulative,name:a.time}),e.options.xAxis.max=a.time}}this.tooltipBytes=f,this.axis0Label=g,this.axis1Label=h,this.getChartConfig=j,this.constructDataSeries=d,this.updateChartOnMessage=k,this.axisBytesFormatter=e,this.getMaxSerie=i}]),angular.module("app.services").factory("ApiInfoNotifier",["ApiInfo","restApiConfig","deviceDetector","Notifier","$q",function(a,b,c,d,e){function f(){var f=e.defer();return a.get(function(a){f.resolve(a)},function(a){if(a.authenticated){var e;"safari"===c.browser&&"mac"===c.os&&(e="https://wiki.ith.intel.com/pages/viewpage.action?pageId=609683024"),"firefox"===c.browser&&"windows"===c.os&&(e="https://wiki.ith.intel.com/pages/viewpage.action?pageId=610107440"),"firefox"===c.browser&&"linux"===c.os&&(e="https://wiki.ith.intel.com/pages/viewpage.action?pageId=609683081"),"chrome"===c.browser&&"linux"===c.os&&(e="https://wiki.ith.intel.com/pages/viewpage.action?pageId=609683083");var g;g=e?'Open the <strong><a style="text-decoration: underline;" target="_blank" href="'+e+'">troubleshooting guide</a></strong></a>.<br>':"Please retry later, ",g+='if the problem persists, contact <a style="text-decoration: underline;" href="mailto://dev_tcr@intel.com"><strong>TCR support</u></strong></a>.',d.error(g,'Unable to retrieve data from <a style="color:white!important;text-decoration: underline;" target="_blank" href="'+b.URL+b.INFO+'">servers</a>',{allowHtml:!0,closeButton:!0,timeOut:0,extendedTimeOut:0})}f.reject(a)}),f.promise}return{loadApiInfo:f}}]),angular.module("app.preferences",["app.data"]),function(){"user strict";function a(a,b){function c(b){function c(){h.$promise=a.get({bucket:b}).$promise.then(function(a){return g=_.reduce(a.favorites,function(a,b){return a[b]=!0,a},{}),a.favorites})}function d(a){return!!g[a]}function e(c){g[c]?delete g[c]:g[c]=!0;var d=_.keys(g);return a.save({bucket:b,property:"favorites"},d).$promise}function f(){return g}var g={},h={getItems:f,isFavorite:d,toggleFavorite:e};return c(),h}return c}a.$inject=["UserPreferences","Notifier"],angular.module("app.preferences").factory("favoriteItems",a)}(),angular.module("app.widgets").controller("FindPeopleModalCtrl",["$scope","$modalInstance","title",function(a,b,c){function d(){a.peopleInputConfig={display:{idsid:!0,location:!0,wwid:!0,photo:!0},onSelect:g}}function e(){b.close(a.workers)}function f(){b.dismiss()}function g(b,c,d){console.log(b),a.workers.push({firstname:b._source.FirstNm,lastname:b._source.LastNm,username:b._source.Idsid,wwid:b._source.WWID,email:b._source.CorporateEmailTxt}),a.worker=""}a.title=c,a.ok=e,a.cancel=f,a.workers=[],a.worker="",d()}]),angular.module("app.widgets").controller("StepModalCtrl",["$scope","$log","$controller","$modalInstance","$injector","options",function(a,b,c,d,e,f){function g(){if(a.title=f.title,f.tabs){var b=angular.copy(f.tabs);m(b),l(b)}}function h(){f.actions.ok?d.close(f.actions.ok()):d.close()}function i(){f.actions.cancel?d.dismiss("cancel",f.actions.cancel()):d.dismiss("cancel")}function j(b){a.activeStep=b}function k(b){return a.activeStep===b}function l(b){a.tabs=b;var c=_.find(b,"active");c?a.activeStep=c:a.activeStep=b[0]}function m(b){_.forEach(b,function(b){var d=c(b.controller,{$scope:a.$new()});b.controllerInstance=d.constructor})}a.ok=h,a.cancel=i,a.active=j,a.isActive=k,g()}]),angular.module("app.widgets").controller("BuildSignaturesModalCtrl",BuildSignaturesModalCtrl),angular.module("app.widgets").controller("TestListModalCtrl",TestListModalCtrl),angular.module("app.widgets").controller("CommentPopupModalCtrl",CommentPopupModalCtrl),angular.module("app.widgets").controller("MailReportModalCtrl",MailReportModalCtrl),angular.module("app.widgets").controller("IssueListModalCtrl",IssueListModalCtrl),angular.module("app.widgets").controller("TestDuplicateModalCtrl",TestDuplicateModalCtrl),angular.module("app.widgets").service("WidgetModals",WidgetModals),angular.module("app.widgets").controller("CampaignSelectorModalCtrl",CampaignSelectorModalCtrl),angular.module("app.widgets").controller("DiffCampaignsModalCtrl",DiffCampaignsModalCtrl),angular.module("app.widgets").controller("DiffReportsModalCtrl",DiffReportsModalCtrl),angular.module("app.widgets").controller("ReportPickerModalCtrl",ReportPickerModalCtrl),angular.module("app.widgets").directive("crashesLink",crashesLink),function(){"use strict";function a(a){var b=this;b.url=a.web.DEVICE_URL.replace(":deviceId",_.get(b,"device.deviceId"))}a.$inject=["crashtoolConfig"],angular.module("app.widgets").component("deviceLink",{transclude:!0,bindings:{device:"=",tooltipText:"@"},controller:a,template:['<a ng-href="{{$ctrl.url}}" tooltip="Open on Crashtool {{$ctrl.tooltipText}}" target="_blank" ng-transclude></a>'].join("")})}(),function(){"use strict";function a(){var a=this;a.linkAvailable=!1,a.object&&b[a.object.type]&&(a.expression=b[a.object.type],a.linkAvailable=!0)}var b={Campaign:"campaign.detail({campaignId:$ctrl.object.id})",Test:"test.detail({testId:$ctrl.object.id})"};angular.module("app.widgets").component("objectLink",{transclude:!0,bindings:{object:"<"},controller:a,template:['<a ui-sref="{{$ctrl.expression}}" ng-if="$ctrl.linkAvailable" ng-transclude></a>','<span ng-if="!$ctrl.linkAvailable" ng-transclude></span>'].join("")})}(),function(){"use strict";var a={bindings:{onSubmit:"&",placeholder:"@",term:"<"},controller:function(){var a=this;a.onContentChanged=function(b){b||(console.log(b),a.onSubmit({search:null}))},a.submitSearch=function(b){a.onSubmit({search:b})}},template:['<form ng-submit="$ctrl.submitSearch($ctrl.term)">','<div class="input-group">','<span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>','<input type="text" class="form-control" placeholder="{{$ctrl.placeholder|isBlank:\'Search\'}}"',' ng-model="$ctrl.term" ng-keyup="$ctrl.onContentChanged($ctrl.term)" ng-enauto-focus>',"</div>","</form>"].join("")};angular.module("app.widgets").component("searchField",a)}(),angular.module("app.widgets").directive("defineCampaign",defineCampaign),angular.module("app.widgets").directive("chooseBuild",chooseBuild),angular.module("app.widgets").directive("testsEditor",testsEditor),function(){"use strict";var a={transclude:{left:"?mediaLeft",body:"mediaBody",right:"?mediaRight"},bindings:{},template:['<div class="media">','<div class="media-left" ng-transclude="left"></div>','<div class="media-body" ng-transclude="body"></div>','<div class="media-left" ng-transclude="right"></div>',"</div>"].join("")};angular.module("app.widgets").component("mediaTile",a)}(),function(){"use strict";var a={bindings:{bench:"=",activeTimeAgo:"=",isFavorite:"=favorite",onFavorite:"&"},template:["<media-tile>","<media-left>",'<span class="glyphicon glyphicon-hdd cr-icon-md"></span>',"</media-left>","<media-body>",'<div><h4 tooltip="{{$ctrl.bench.name}}">{{$ctrl.bench.name|truncate:20}}</h4></div>','<div ng-repeat="lib in $ctrl.bench.engine.libs"><small><u>{{lib.name}} Version:</u><br /> {{lib.libVersion}}</small></div>','<div ng-if="$ctrl.bench.engine.name"><small><u>{{$ctrl.bench.engine.name}} Version:</u><br /> {{$ctrl.bench.engine.engineVersion}}</small></div>','<div><small ng-if="$ctrl.activeTimeAgo"><em>active <span am-time-ago="$ctrl.activeTimeAgo"></span></em></small></div>',"</media-body>","<media-right>",'<div class="btn-group-vertical" role="group">','<btn-favorites active="$ctrl.isFavorite" ng-click="$ctrl.onFavorite({bench: $ctrl.bench})"></btn-favorites>',"</div>","</media-right>","</media-tile>"].join("")};angular.module("app.widgets").component("benchTile",a)}(),function(){"use strict";var a={bindings:{device:"="},template:["<media-tile>","<media-left>",'<span class="glyphicon glyphicon-phone cr-icon-md"></span>',"</media-left>","<media-body>","<div>",'<device-link device="$ctrl.device" tooltip-text="{{$ctrl.device.deviceId}}">',"{{$ctrl.device.deviceId|truncate:15}}","</device-link>","</div>","<div>{{$ctrl.device.ssn}}</div>","</media-body>","</media-tile>"].join("")};angular.module("app.widgets").component("deviceTile",a)}(),function(){"use strict";var a={bindings:{build:"="},template:["<media-tile>","<media-left>",'<span class="icomoon icon-android cr-icon-md"></span>',"</media-left>","<media-body>",'<div><a ui-sref="home.build.report.campaigns({reportId: $ctrl.build.buildId, targetProduct: $ctrl.build.targetProduct})"><strong>{{$ctrl.build.buildId}}</strong></a></div>',"<div>{{$ctrl.build.branch}} / {{$ctrl.build.targetProduct}}</div>","</media-body>","</media-tile>"].join("")};angular.module("app.widgets").component("buildTile",a)}(),angular.module("app.widgets").directive("stateTitle",stateTitle),angular.module("app.widgets").factory("StateHistory",StateHistory),angular.module("app.widgets").factory("StateTitle",StateTitle),angular.module("app.widgets").directive("stateBreadcrumb",["$state","$log","$interpolate","$injector","StateHistory",function(a,b,c,d,e){function f(f,g,h){function i(){var b={show:!0};a.$current.breadcrumb&&_.extend(b,a.$current.breadcrumb),f.options=b}function j(){f.breadcrumbs=[],_.forEach(a.$current.path,function(a){a.breadcrumb&&l(a,k(a))})}function k(b){if(r(b.breadcrumb)){var c=b.locals?b.locals.globals:{};return d.invoke(b.breadcrumb,a.$current,c)}return b.breadcrumb}function l(a,b){_.isArray(b)?_.forEach(b,function(b){m(a,b)}):m(a,b)}function m(c,d){var e,g,h;if(d.proxy){var i=a.get(d.proxy);null===i&&b.error(d.proxy+" state specified as breadcrumb proxy of "+c.name+" not found"),g=i.name}else g=c.name;if(e=n(c,d),h=d.params,g){var j={label:e,stateName:g,stateParams:h,enableHistory:d.enableHistory};f.breadcrumbs.push(j)}}function n(a,b){var d;if(b.name){var e=a.locals?a.locals.globals:{};d=c(b.name)(e)}else d=a.name;return d}function o(b,c){var d=c;if(!c){var f=e.getLatest(b,1);f.length>0&&(d=f[0].params)}a.go(b,d,{reload:!0})}function p(a){f.history=e.getLatest(a,10)}function q(a){if(a.title)return a.title;var b=function(a){return!!a},c=_.filter(_.values(a.params),b);return c.length>0?_.join(c," / "):"all"}function r(a){return angular.isFunction(a)||angular.isArray(a)&&angular.isFunction(a[a.length-1])}f.breadcrumbs=[],f.goToState=o,f.getStateHistory=p,f.getHistoryItemTitle=q,f.history=[],i(),j(),f.$on("$stateChangeSuccess",function(){i(),j()})}return{restrict:"E",scope:{},templateUrl:"app/widgets/state/state-breadcrumbs.html",link:f}}]),angular.module("app.widgets").directive("btnAddToReport",btnAddToReport),angular.module("app.widgets").directive("btnEdit",btnEdit),function(){"use strict";var a={bindings:{active:"="},template:['<button type="button" title="Set as favorite" class="cr-btn-icon cr-btn-favorites" ng-class="{active:$ctrl.active}">','<span class="glyphicon glyphicon-star cr-icon-md"></span>',"</button>"].join("")};angular.module("app.widgets").component("btnFavorites",a)}(),function(){"use strict";var a={bindings:{type:"="},template:['<div class="cr-circle cr-circle-sm cr-circle-{{$ctrl.type|lowercase}}" title="Type {{$ctrl.type}}">',"{{$ctrl.type[0] | isBlank:'C'}}","</div>"].join("")};angular.module("app.widgets").component("testTypeBalloon",a)}(),function(){"use strict";var a={bindings:{type:"="},template:['<span class="label cr-label-{{$ctrl.type|lowercase}}">',"{{$ctrl.type}}","</span>"].join("")};angular.module("app.widgets").component("testTypeLabel",a)}(),function(){"use strict";var a={bindings:{input:"<"},template:'<span ng-repeat="sign in $ctrl.input"><a ui-sref="home.test-signature.detail.views({testSignatureId: sign.id})">{{sign.body | truncate:20}}</a></br></span>'};angular.module("app.widgets").component("testSignature",a)}(),function(){"use strict";var a={bindings:{test:"="},template:['<span ng-if="!$ctrl.test" class="text-muted">---</span>','<span ng-if="$ctrl.test">','  <cr-display-object-modal object="$ctrl.test" class="text-muted"></cr-display-object-modal>','  <a ui-sref="test.detail({testId:$ctrl.test.id})" target="_blank"><cr-verdict input="$ctrl.test.verdict"></cr-verdict></a>',"</span>"].join("")};angular.module("app.widgets").component("testDiffCell",a)}(),angular.module("app.widgets").directive("testDiffTable",["CsvUtils",function(a){function b(b,c,d,e){function f(){b.displayItems=_.filter(b.items,function(a){return _.every(b.filters,function(c,d){var e=a.tests[d],f=b.filterConfigs[c].handler;return f(e)})}),b.group&&(b.groupItems=_.groupBy(b.displayItems,function(a){return _.get(_.sample(a.tests),b.group)}))}function g(){var c=[],d=[];b.group&&d.push(b.group),d.push("Test Case"),_.each(b.diffs,function(a){d.push(a.name)}),c.push(d),_.each(b.items,function(a){var d=[];b.group&&d.push(_.get(_.sample(a.tests),b.group)),d.push(a.key),_.each(b.diffs,function(b){var c=a.tests[b.id]?a.tests[b.id].verdict:"";d.push(c)}),c.push(d)}),a.exportToCsvByMatrix("export.csv",c)}b.exportCsv=g,b.$watchCollection("items",function(a){f()}),b.$watchCollection("filters",function(a){f()}),b.filters={},_.each(b.diffs,function(a){b.filters[a.id]="EMPTY"}),b.filterConfigs={EMPTY:{display:" ",handler:function(a){return!0}},EXISTS:{display:"Exists",handler:function(a){return void 0!==a}},NOT_EXIST:{display:"Not Exists",handler:function(a){return void 0===a}},PASSED:{display:"PASSED",handler:function(a){return a&&"PASSED"===a.verdict}},NOT_PASSED:{display:"Not PASSED",handler:function(a){return a&&"PASSED"!==a.verdict}}}}return{restrict:"E",scope:{items:"=",diffs:"=",group:"=?"},templateUrl:"app/widgets/test/test-diff-table.html",link:b}}]),function(){"use strict";var a={bindings:{campaign:"="},templateUrl:"app/widgets/campaign/campaign-dating.component.html"};angular.module("app.widgets").component("campaignDating",a)}(),function(){"use strict";function a(){var a=this;a.$onInit=function(){b(a.data,a)},a.$onChanges=function(c){b(a.data,a)}}function b(a,b){b.heatMapConfig={},b.distributionConfig={},b.topFailedConfig={};var e=["D","I","W","E"],g=["#d9d9d9","#0099ff","#ff9933","#e60000"],h=0,i=[];_.forEach(a.levels,function(a,b){for(var c=0,d=[],f=new Array(e.length),g=0;g<e.length;g++){var j=a[e[g]],k=0;j&&(k=j||0),c+=k,d.push([g,h,k]),f[g]=k}var l={name:b,countByLevel:a,total:c,levelCounts:f,points:d};h++,i.push(l)}),b.distributionConfig=c(i,e,g);var j=e.indexOf("E"),k=g[j];b.topFailedConfig=d(i,j,k,"Top error services","services that have crashed the most","error count"),b.heatMapConfig=f(i,e)}function c(a,b,c){var d=_.sortBy(a,"total"),f=_.reverse(_.takeRight(d,10)),g=_.map(f,"name"),h=_.map(b,function(a,b){return{name:a,color:c[b],data:_.map(f,function(a){return a.levelCounts[b]})}});return e("Log count per service","for log having more than 100 occurences",g,h)}function d(a,b,c,d,f,g){var h=_.sortBy(a,function(a){return a.levelCounts[b]}),i=_.reverse(_.takeRight(_.filter(h,function(a){return a.levelCounts[b]>0}),10)),j=_.map(i,"name"),k=_.map(i,function(a){return a.levelCounts[b]}),l=[{name:g,color:c,data:k}];return e(d,f,j,l)}function e(a,b,c,d){return{options:{plotOptions:{series:{stacking:"normal"}},chart:{type:"bar"}},title:{text:a},subtitle:{text:b},xAxis:{categories:c},series:d}}function f(a,b){var c=_.sortBy(a,function(a){return a.name.toLowerCase()}),d=_.map(c,"name"),e=0,f=_.flatMap(c,function(a){var b=a.points;return _.forEach(b,function(a){a[1]=e}),e++,b});return{options:{chart:{type:"heatmap",height:20*d.length+100,width:300,marginLeft:200},xAxis:{categories:b,title:null,opposite:!0},yAxis:{categories:d,title:null,max:d.length-1,reversed:!0},tooltip:{formatter:function(){return"<b>"+this.series.xAxis.categories[this.point.x]+"</b> logged <br><b>"+this.point.value+" "+this.series.yAxis.categories[this.point.y]+"</b> messages"}},colorAxis:{dataClasses:[{color:"#f0f0f5",from:0,name:"None",to:0},{color:"#e6ccff",from:1,name:"Few",to:199},{color:"#cc99ff",from:200,name:"More",to:499},{color:"#9933ff",from:500,name:"A lot",to:799},{color:"#4d0099",from:800,name:"Dense (>800) "}]}},title:{text:"Log count per level per service"},legend:{enabled:!0},subtitle:{text:"Darker cell show more occurences"},series:[{name:"Log count per level",borderColor:"#FFFFFF",borderWidth:1,data:f}]}}angular.module("app.widgets").component("logFeatureChart",{transclude:!0,bindings:{data:"<"},controller:a,templateUrl:"app/widgets/logFeature/log-feature-chart.component.html"})}(),function(){"use strict";function a(a){var b=this;b.currentUser=a.getInfo()}a.$inject=["Subject"],angular.module("app.widgets").component("activityTimeline",{transclude:!0,template:'<div class="cr-activity-timeline" ng-transclude></div>',controller:a})}(),function(){"use strict";angular.module("app.widgets").component("activityTimelineItem",{transclude:{header:"activityTimelineItemHeader",body:"?activityTimelineItemBody"},bindings:{activity:"<"},template:['<div class="cr-activity-timeline-item">','<div class="cr-activity-timeline-item-header"><object-link object="$ctrl.activity.object"><span ng-transclude="header"></span></object-link></div>','<div class="cr-activity-timeline-item-body" ng-transclude="body"></div>',"</div>"].join("")})}(),function(){"use strict";var a={bindings:{onSubmit:"&",activities:"<"},templateUrl:"app/widgets/activity/activity-flow.component.html",controller:function(){var a=this;a.submit=function(b,c){a.onSubmit({action:b,comment:c})}}};angular.module("app.widgets").component("activityFlow",a)}(),function(){"use strict";function a(a,b){var c=this;a.$watch("activity",function(){c.templateUrl="app/widgets/activity/activity-"+_.kebabCase(c.activity.action)+".template.html",c.isOwner=c.activity.user&&b.isSameUser(c.activity.user)}),c.editComment=function(){c.activity.edit=!0,c.activity.previous=c.activity.text},c.updateComment=function(){delete c.activity.edit,delete c.activity.previous,c.submit("updateComment")},c.cancelEditComment=function(){delete c.activity.edit,c.activity.text=c.activity.previous,delete c.activity.previous},c.submit=function(a){c.onSubmit({action:a,comment:c.activity})}}a.$inject=["$scope","Subject"],angular.module("app.widgets").component("activityItem",{bindings:{activity:"=",onSubmit:"&"},templateUrl:"app/widgets/activity/activity-item.component.html",controller:a})}(),function(){"use strict";function a(a){var b=this;b.currentUser=a.getInfo(),b.reset=function(){b.comment=""},b.submit=function(a){b.onSubmit({action:a,comment:b.comment}),b.reset()}}a.$inject=["Subject"],angular.module("app.widgets").component("activityCommentForm",{templateUrl:"app/widgets/activity/activity-comment-form.component.html",controller:a,bindings:{onSubmit:"&",actions:"<"}})}(),function(){"use strict";angular.module("app.widgets").component("activityInlineComments",{bindings:{comments:"<"},template:['<div class="panel panel-default" ng-repeat="comment in $ctrl.comments">','<div class="panel-heading"><user-icon user="comment.author"></user-icon> <strong> <user-name user="comment.author"></user-name></strong></div>','<div class="panel-body"><markdown markdown-model="comment.text"></markdown></div>',"</div>"].join("")})}(),angular.module("app.widgets").directive("inject",function(){return{link:function(a,b,c,d,e){if(!e)throw{message:"Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. ",element:b};var f=a.$new();e(f,function(a){b.empty(),b.append(a),b.on("$destroy",function(){f.$destroy()})})}}}),angular.module("app.widgets").directive("buildSelect",["Builds",function(a){function b(b,c,d,e){b.searchChoices=[],b.selected={},b.refreshSearchChoices=function(c){var d={buildIdContains:c,limit:30};return b.externalParams&&(d=_.extend(d,b.externalParams)),b.choices?void(b.searchChoices=b.choices):a.query(d,function(a){b.searchChoices=a.results})},b.callSelect=function(a,c){e.$setViewValue(a),_.isFunction(b.onSelect)&&b.onSelect(a,c)},e.$render=function(){b.selected=e.$viewValue}}return{restrict:"E",templateUrl:"app/widgets/build-select.html",require:"ngModel",scope:{appendToBody:"=",onSelect:"=",choices:"=",placeholder:"=",externalParams:"="},link:b}}]),angular.module("app.widgets").directive("multiSelect",["$log","$compile",function(a,b){function c(b,c,d,e){function f(a,c){b.selected[a]?delete b.selected[a]:b.selected[a]=c}function g(b,c,d){var e;if(_.isObject(d)){
if(!c)return void a.error("you must provide the "+b+" parameter");d[c]?e=d[c]:a.error("the choice obejct does not have the property "+c)}else e=d;return e}function h(a){return g("trackBy",b.trackBy,a)}function i(a){return g("labelBy",b.labelBy,a)}b.selected={},b.choiceLabel=i,b.select=function(a){f(h(a),a)},b.isSelected=function(a){return!!b.selected[h(a)]}}return{restrict:"E",templateUrl:"app/widgets/multi-select.html",transclude:!0,scope:{btnLabel:"=",options:"=",placeholder:"=",refreshOptions:"=",trackBy:"=",labelBy:"="},link:c}}]),angular.module("app.widgets").directive("editEnabled",["editableOptions",function(a){return{restrict:"A",priority:-1,link:function(b,c,d){function e(){var c=angular.isDefined(d.editEnabled)?!b.$eval(d.editEnabled):a.isDisabled;return c}function f(a){a?(c.removeClass("editable-click"),c.removeClass("editable")):(c.addClass("editable-click"),c.addClass("editable"))}f(e()),b.$watch(function(){return e()},function(a,b){a!==b&&f(a)}),c.bind("click",function(a){if(e())return console.log("stop edition"),a.stopPropagation(),a.preventDefault(),!1})}}}]),angular.module("app.widgets").directive("userPhoto",[function(a){return{restrict:"E",scope:{wwid:"=",size:"=",title:"@"},template:'<div class="cr-user-photo cr-user-photo-{{size}}" ng-if="wwid"><img title="{{title}}" ng-src="//photos.intel.com/images/{{wwid}}.jpg" fallback-src="/assets/images/f5030d78.default-user.png"/></div>'}}]),function(){"use strict";var a={bindings:{wwid:"<"},template:'<user-photo wwid="$ctrl.wwid" size="\'xs\'"></user-photo>'};angular.module("app.widgets").component("userAvatar",a)}(),function(){"use strict";var a={bindings:{user:"<"},template:'<img class="cr-user-icon" tooltip="{{$ctrl.user.firstname}} {{$ctrl.user.lastname}}" ng-src="//photos.intel.com/images/{{$ctrl.user.wwid}}.jpg" fallback-src="/assets/images/f5030d78.default-user.png"/>'};angular.module("app.widgets").component("userIcon",a)}(),function(){"use strict";var a={bindings:{user:"<"},template:['<span ng-if="$ctrl.user.firstname || $ctrl.user.lastname">{{$ctrl.user.firstname}} {{$ctrl.user.lastname}}</span>','<span ng-if="!$ctrl.user.firstname && !$ctrl.user.lastname && $ctrl.user.username">{{$ctrl.user.username}}</span>'].join("")};angular.module("app.widgets").component("userName",a)}(),angular.module("app.widgets").directive("buildWithTag",["Builds",function(a){return{restrict:"E",scope:{build:"="},templateUrl:"app/widgets/build-with-tag.html"}}]),angular.module("app.widgets").directive("releaseTag",function(){return{restrict:"E",scope:{tag:"="},template:"<div class=\"label cr-label-release-tag\" ng-class=\"{'label-info': tag.type=='weekly', 'label-warning': tag.type=='daily'}\">{{tag.name}}</div>"}}),angular.module("app.widgets").directive("passRateDonutChart",["$filter","IntelColors","HighchartsConfig","$timeout",function(a,b,c,d){function e(e,f,g){function h(){e.passRate=_.get(e.rates,"passRate",0),e.failRate=_.get(e.rates,"failRate",0),e.data=[],e.data.push({name:"Pass rate",y:100*e.passRate,color:a("verdictColor")("PASSED")}),e.data.push({name:"Fail rate",y:100*e.failRate,color:a("verdictColor")("FAILED")}),e.data.push({name:"NA",y:100*(1-e.passRate-e.failRate),color:a("verdictColor")("NA")})}function i(){h(),e.chartConfig=c.donutIndicator({series:[{enableMouseTracking:!1,animation:!1,name:"Pass Rate",data:e.data,dataLabels:{enabled:!1},startAngle:0,endAngle:360,tooltip:{enabled:!1}}],title:{text:a("number")(100*e.passRate,0)+'<span style="font-size:8px;">%</span>',style:{"font-size":"18px","font-weight":"normal",color:b.darkGray}}})}e.data=[],e.$watch("rates",function(){i()}),d(i)}return{restrict:"E",templateUrl:"app/widgets/rates-chart.html",scope:{rates:"="},link:e}}]),angular.module("app.widgets").directive("executionRateDonutChart",["$filter","IntelColors","HighchartsConfig","$timeout",function(a,b,c,d){function e(e,f,g){function h(){e.executionRate=_.get(e.rates,"executionRate",0),e.data=[],e.data.push({name:"Execution rate",y:100*e.executionRate,color:a("statusColor")("COMPLETED")}),e.data.push({name:"NA",y:100*(1-e.executionRate),color:a("verdictColor")("NA")})}function i(){h(),e.chartConfig=c.donutIndicator({series:[{name:"Execution Rate",enableMouseTracking:!1,animation:!1,data:e.data,dataLabels:{enabled:!1},startAngle:0,endAngle:360,tooltip:{enabled:!1}}],title:{text:a("number")(100*e.executionRate,0)+'<span style="font-size:8px;">%</span>',style:{"font-size":"18px","font-weight":"normal",color:b.darkGray}}})}e.data=[],e.$watch("rates",function(){i()}),d(i)}return{restrict:"E",templateUrl:"app/widgets/rates-chart.html",scope:{rates:"="},link:e}}]),angular.module("app.widgets").directive("verdictDistributionChart",verdictDistributionChart),angular.module("app.widgets").directive("verdictDistributionPanel",verdictDistributionPanelDirective),angular.module("app.widgets").directive("indicator",[function(){return{restrict:"E",scope:{name:"=",value:"=",iconClass:"@",valueClass:"@"},templateUrl:"app/widgets/indicator.html"}}]),angular.module("app.widgets").directive("activityFilter",["$filter","Activities","ActivityConstants",function(a,b,c){function d(d,e,f,g){function h(b){return b===c.context.status.FAILED?a("activityContextStatusStyle")(b):""}function i(){p=crossfilter(),q=p.dimension(function(a){return a.shortDate?a.shortDate:"Unknown"}),r=p.dimension(function(a){return a.context&&a.context.status?a.context.status:"Unknown"}),s=n(),t=o(),j()}function j(){d.statuses=[{key:v,value:null}].concat(t.top(1/0)),d.dates=[{key:v,value:null}].concat(s.top(1/0))}function k(a,b){if(j(),b===v&&d.selection[a][v])for(var c in d.selection[a])c!==v&&(d.selection[a][c]=!1);else d.selection[a][v]&&(d.selection[a][v]=!1)}function l(){d.$watch("action",function(a,b){a&&m()}),d.$watch("type",function(a,b){a&&m()}),d.$watch("fromDate",function(a,b){a&&m()}),d.$watch("toDate",function(a,b){a&&m()})}function m(){var a={action:d.action,objectType:d.type,fromDate:d.fromDate,toDate:d.toDate};b.query(a,function(a){p.remove();var b=a.results.map(function(a){return a.date&&(a.shortDate=a.date.substring(0,10)),a});u=b,p.add(b),j(),d.loaded=!0})}function n(){function a(){return{count:0,shortDate:""}}function b(a,b){return a.count++,b.shortDate&&(a.shortDate=b.shortDate),a}function c(a,b){return a}function d(a){return a.shortDate}return q.group().reduce(b,c,a).order(d)}function o(){function a(){return{count:0,status:""}}function b(a,b){return a.count++,b.context&&b.context.status&&(a.status=b.context.status),a}function c(a,b){return a}function d(a){return a.status}return r.group().reduce(b,c,a).order(d)}var p,q,r,s,t,u,v="All";d.loaded=!1,d.statuses=[],d.dates=[],d.selection={dates:{All:!0},statuses:{All:!0}},d.onSelectionChange=k,d.getStatusStyle=h,i(),l()}return{restrict:"E",templateUrl:"app/widgets/activity-filter.html",scope:{action:"=",type:"=",fromDate:"=",toDate:"="},link:d}}]),angular.module("CampaignReportingApp").directive("wikiHelp",["$modal",function(a){return{restrict:"E",scope:{modalTitle:"=",pageId:"=",customClass:"=?"},replace:!0,template:'<button class="btn btn-xs btn-link" ng-click="open()"><span ng-class="customClass" class="glyphicon glyphicon-question-sign"></span></button>',link:function(a,b,c){a.open=function(b){window.open("https://wiki.ith.intel.com/pages/viewpage.action?pageId="+a.pageId)}}}}]),angular.module("app.widgets").directive("loadingIndicator",["$q","$timeout",function(a,b){return{restrict:"E",transclude:!0,scope:{promise:"="},template:'<three-bounce-spinner ng-if="loading" class="cr-loading-indicator"></three-bounce-spinner><div  ng-if="!loading" ng-transclude></div>',link:function(a,b){function c(){a.loading=!0}function d(){a.loading=!1}a.$watch("promise",function(a){c(),a&&a.then(d)["catch"](d)})}}}]),function(){"use strict";var a=angular.module("app.widgets");a.controller("ItemsListCtrl",["$scope","$modal","modalConfirmHelper","dataService","itemName",function(a,b,c,d,e){function f(){g()}function g(){a.service.get({}).$promise.then(function(b){b&&b.totalCount>0?a.items=b.results:a.items=[]})}function h(){if(a.newItem){var b={};b[a.itemName]=a.newItem,a.service.save(b,function(){a.newItem="",g()})}}a.service=d,a.itemName=e,a.items=[],a.create=h,f(),a["delete"]=c.confirm["delete"](function(b){a.service["delete"]({id:b.id},{},function(){g()})})}])}(),function(){var a=angular.module("app.widgets");a.directive("fileViewer",["IntelColors","FileViewerConstants","moment","$compile","$http","$timeout","$log","$q","restApiConfig",function(a,b,c,d,e,f,g,h,i){function j(a,c,d){function f(){a.$watch("file",function(a){n(a)}),a.$on("$destroy",function(a){k(o)})}function g(a){var c=a.originalName.split(".").pop();switch(c.toUpperCase()){case b.extension.PNG:case b.extension.JPG:case b.extension.JPEG:case b.extension.GIF:return!0;default:return!1}}function h(a){var c=a.originalName.split(".").pop();switch(c.toUpperCase()){case b.extension.ZIP:case b.extension.TAR:return!0;default:return!1}}function j(a){var c=a.originalName.split(".").pop();switch(c.toUpperCase()){case b.extension.HTML:return!0;default:return!1}}function n(b){a.previewStatus={},k(o);var d=angular.element(c.children()[1]);g(b)?d.html('<img class="img-responsive thumbnail" src="'+b.url+'"/>'):h(b)?d.html('<div class="cr-block-empty">No preview for archive</div>'):j(b)?d.html('<iframe width="100%" height="800px" frameborder="0" src="'+i.URL+b.contentUrl+'"><p>Your browser does not support iframes.</p></iframe>'):(d.html(m()),e({url:b.url,responseType:"text",transformResponse:angular.identity}).then(function(b){var c=angular.element("<pre>");d.html(""),d.append(c),o=l(c,b.data),o.promise.then(function(b){a.previewStatus=b},function(b){a.previewStatus=b},function(b){a.previewStatus=b})},function(){d.html('<div class="cr-block-empty">Loading error</div>')}))}var o;f()}function k(a){a&&a.reject({message:"Cancelled"})}function l(a,b){function c(a,b,h){i===!0?g.debug("Exiting display chunk job"):h<e?f(function(){k.chunk=h,k.total=e,k.status="running",j.notify(k),a.append(b.substr(h*d,d))}).then(function(){c(a,b,h+1)}):(k.status="finished",k.timer.stop=Date.now(),k.timer.duration=k.timer.stop-k.timer.start,j.resolve(k))}var d=1e5,e=Math.ceil(b.length/d),i=!1,j=h.defer(),k={status:"starting",timer:{start:Date.now()}};return c(a,b,0),j.promise.then(function(a){g.debug("display success ("+a.status+")")},function(a){g.debug("display rejected ("+a.message+")")},function(a){g.debug("display notitification (progress: "+a.chunk+"/"+a.total+")")}),j.promise["finally"](function(){i=!0}),j}function m(){return d(angular.element('<div class="cr-block-empty"><div>File preview</div><three-bounce-spinner class="cr-loading-indicator"></three-bounce-spinner></div>'))({})}return{restrict:"E",link:j,scope:{file:"="},templateUrl:"app/widgets/file-viewer.html"}}])}(),angular.module("app.widgets").directive("campaignSummary",["$modal","HighchartsConfig","TestConstant",function(a,b,c){function d(b,d,e,f){function g(){return _.includes(b.campaign.types,c.types.MTBF)}function h(b){a.open({animation:!1,templateUrl:"app/widgets/modal/comment-popup-modal.html",controller:"CommentPopupModalCtrl",resolve:{campaign:function(){return b}},size:"lg"})}b.isMTBF=g,b.showComments=h}return{restrict:"E",templateUrl:"app/widgets/campaign-summary.html",scope:{campaign:"=",hiddenFields:"="},link:d}}]),angular.module("app.widgets").directive("dateCalendar",function(){return{restrict:"E",template:'<div class="text-center"><div class="pull-left"><span class="glyphicon glyphicon-calendar cr-icon-md"></span></div><div class="pull-left">{{date|date:format}}</div></div>',scope:{date:"=",format:"="}}}),angular.module("app.widgets").directive("releaseTypeClass",["BuildConstant",function(a){return{restrict:"A",scope:{type:"=releaseTypeClass"},link:function(b,c){switch(console.log(b.type),b.type){case a.releaseTag.type.WEEKLY:c.addClass("text-info");break;case a.releaseTag.type.DAILY:c.addClass("text-warning")}}}}]),angular.module("app.widgets").directive("facetedNavigation",["FacetSelectionModel",function(a){function b(b,c,d){function e(b,c){a.toggle(b,c)}function f(b,c){return!!c&&a.isSelected(b,c)}function g(a){void 0===a.collapsed?a.collapsed=!1:a.collapsed=!a.collapsed}function h(a){return a.collapsed===!1?1e3:5}function i(a){return a.items&&a.items.length>5}function j(b){return a.hasSelection(b)}function k(b){return a.resetFacet(b)}b.toggle=e,b.isSelected=f,b.hasSelection=j,b.toggleCollapse=g,b.collapseLimit=h,b.isCollapseEnabled=i,b.reset=k}return{restrict:"E",scope:{facets:"="},templateUrl:"app/widgets/faceted-navigation.html",link:b}}]),angular.module("app.oneandroid").factory("FacetSelectionModel",function(){function a(a,b){var c=g();_.forEach(a,function(b,d){c[d]?a[d]=c[d]:a[d]=void 0}),b.go(".",a,{notify:!1})}function b(a,b){var c=j(a);a.multi===!1&&l(c),k(c,b)}function c(a,b){var c=j(a);"after"===c?m[c]=[]:_.isArray(b)?m[c]=_.difference(m[c],b):_.remove(m[c],function(a){return a===b}),0===m[c].length&&delete m[c]}function d(a,d){e(a,d)?c(a,d):b(a,d)}function e(a,b){var c=j(a);return"after"===c?m[c]&&m[c][0].substring(0,10)===b.substring(0,10):m[c]&&_.includes(m[c],b)}function f(a){return!!m[j(a)]}function g(){return m}function h(a,b){m={},a&&(b||(b=_.keys(a)),_.forEach(b,function(b){a[b]&&k(b,a[b])}))}function i(a){var b=j(a);delete m[b]}function j(a){return a.name}function k(a,b){m[a]||l(a),_.isArray(b)?m[a]=_.union(m[a],b):m[a].push(b)}function l(a){m[a]=[]}var m={};return{select:b,unselect:c,toggle:d,isSelected:e,hasSelection:f,getSelection:g,reset:h,resetFacet:i,updateUrl:a}}),angular.module("app.widgets").directive("facetSelection",["FacetSelectionModel",function(a){function b(b,c,d){function e(){f()}function f(){b.$watch(a.getSelection,function(a){b.selection=a},!0)}e()}return{restrict:"E",templateUrl:"app/widgets/facet-selection.html",link:b}}]),angular.module("app.widgets").directive("viewMore",function(){function a(a,b){function c(){h=e.length,d()}function d(){f=_.slice(e,0,h),i=Math.min(Math.max(0,e.length-h),l),j=e.length>h,k=!j&&f.length>g}var e=[],f=[],g=a.limit?a.limit:5,h=g,i=0,j=!1,k=!1,l=a.step?a.step:100;this.setList=function(b){e=b,a.open?c():d()},this.getShortList=function(){return f},this.showMore=function(){h+=l,d()},this.showLess=function(){h=g,d()},this.canShowMore=function(){return j},this.canShowLess=function(){return k},this.getHiddenCount=function(){return i}}return a.$inject=["$scope","$element"],{restrict:"EA",scope:{limit:"=",step:"=",open:"="},controller:a}}),angular.module("app.widgets").directive("viewMoreList",["$compile",function(a){function b(a,b,c,d,e){function f(){a["for"]=a["for"]?a["for"]:"$item",d.setList(a.list),g()}function g(){a.$watch(d.getShortList,function(){h()})}function h(c){b.html(""),_.forEach(d.getShortList(),function(c){e(function(d,e){e[a["for"]]=c,b.append(d)})})}f()}return{restrict:"E",require:"^viewMore",scope:{list:"=list","for":"@"},transclude:!0,link:b}}]),angular.module("app.widgets").directive("viewMoreLink",function(){function a(a,b,c,d){function e(){f()}function f(){a.$watch(d.getShortList,function(){b.html(""),d.canShowMore()&&b.append(g()),d.canShowLess()&&b.append(h())})}function g(){var b=angular.element('<a href="" class="'+a["class"]+'">View '+d.getHiddenCount()+' more <span class="intelicon-down"></span></a>');return b.on("click",function(a){d.showMore(),a.preventDefault()}),b}function h(){var b=angular.element('<a href="" class="'+a["class"]+'">View less <span class="intelicon-up"></span></a>');return b.on("click",function(a){d.showLess(),a.preventDefault()}),b}e()}return{restrict:"E",require:"^viewMore",scope:{"class":"@linkClass"},link:a}}),angular.module("app.widgets").directive("step",function(){return{restrict:"E",scope:{title:"@",signLabel:"@",active:"="},templateUrl:"app/widgets/step.html",transclude:!0}}),angular.module("app.widgets").directive("fileChange",function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.fileChange);b.bind("change",d)}}}),angular.module("app.widgets").directive("issueList",function(){return{restrict:"E",templateUrl:"app/widgets/issue-list.html",scope:{issues:"=",onSelected:"=?"}}}),angular.module("app.widgets").directive("issuePanel",["CsvUtils",function(a){function b(b,c,d){function e(a){b.currentFilter=a,0==b.filterSummary.length&&(b.filterSummary=b.issues),b.filteredIssues=_.filter(b.filterSummary,function(b){return"All"===a||_.get(b,"details.status")===a})}b.currentFilter="All",b.title=_.get(d,"title","Issues"),b.statuses=[],b.filteredIssues=[],b.filterIssues=e,b.filterSummary=[],b.exportIssues=function(){var c=["id","summary","components","priority","status","assignedTo"],d=_.map(b.issues,function(a){return _.map(c,function(b){return _.get(a.details,b)})});a.exportToCsvByMatrix("issues.csv",[c].concat(d))},b.$watchGroup(["issues","filterSummary"],function(){b.statuses=_.countBy(b.issues,"details.status"),b.statuses.All=b.issues.length,e(b.currentFilter)}),b.$watch("quickFilter",function(a,c){if(a!==c){var d=new RegExp(a,"i");b.filterSummary=_.filter(b.issues,function(a){return a.details.summary.search(d)!=-1}),a||(b.filterSummary=b.issues)}})}return{restrict:"E",templateUrl:"app/widgets/issue-panel.html",scope:{issues:"=",onSelected:"=?"},link:b}}]),angular.module("app.widgets").directive("taskList",taskListDirective),angular.module("app.widgets").directive("taskItem",taskItemDirective),angular.module("app.widgets").directive("testList",["$log","Tests","Notifier",function(a,b,c){function d(d,e){function f(a){i(a,!0)}function g(a){i(a,!1)}function h(){d.selection=_.filter(d.list,function(a){return a.selected===!0})}function i(d,e){var f=d.isInReport;d.isInReport=e,b.update({id:d.id,isInReport:e},function(){a.log("success")},function(b){a.log("fail"),d.isInReport=f,c.error("Cannot change test visibility",b.message)})}function j(a){return void 0!==d.extra&&d.extra.indexOf(a)>=0}d.$watch("list",function(a,b){a!==b&&(d.countByCampaign=_.countBy(a,"campaignId"),d.groupByCampaign=_.groupBy(a,"campaignId"),d.campaignById=_.keyBy(a,"campaignId"),_.each(d.selected,function(b){var c=_.findIndex(a,["id",b.id]);c>=0&&(a[c].selected=!0)}),h())}),d.$watch("selectAllValue",function(a,b){a!==b&&(_.each(d.list,function(b){void 0===b._certification&&(b.selected=a)}),h())}),d.includeTest=f,d.excludeTest=g,d.putInReport=i,d.refreshSelected=h,d.isFieldShow=j}return{restrict:"E",scope:{list:"=",selection:"=?",extra:"=?"},templateUrl:"app/widgets/test-list.html",link:d}}]),angular.module("app.widgets").directive("counterBar",function(){return{restrict:"E",template:'<div class="cr-counterbar"><div class="cr-counterbar-label">{{counter}}</div><div class="cr-counterbar-bar"><progressbar max="max" value="counter" type="primary"></progressbar></div></div>',scope:{counter:"=",max:"="}}}),angular.module("app.widgets").directive("passRateBar",function(){return{restrict:"E",template:'<div class="cr-counterbar"><div class="cr-counterbar-label">{{value * 100|number:2}}%</div><div class="cr-counterbar-bar"><a tooltip="{{tooltipMessage}}"><progress><bar value="value * 100" type="success"></bar><bar ng-if="value > 0 || redOnZero" value="(1 - value) * 100" type="danger"></bar></progress></a></div></div>',scope:{redOnZero:"=",value:"=",tooltipMessage:"@"}}}),angular.module("app.widgets").directive("issueStatus",["HighchartsConfig","TestConstant",function(a,b){return{restrict:"E",template:'<span class="cr-issue-status cr-issue-status-{{status|lowercase}}">{{status}}</span>',scope:{status:"="}}}]),angular.module("app.widgets").filter("categorizedItemsSelectFilter",function(){return function(a,b,c){var d=[];if(angular.isArray(a)&&angular.isDefined(b)&&c){var e={};e[b]=c,_.forEach(a,function(a){for(var b=!1,c=Object.keys(e),f=0;f<c.length;f++){var g=c[f],h=e[g].toLowerCase();if(angular.isDefined(a[g])&&a[g].toString().toLowerCase().indexOf(h)!==-1){b=!0;break}if(angular.isDefined(a.category)&&a.category.toString().toLowerCase().indexOf(h)!==-1){b=!0;break}}b&&d.push(a)})}else angular.isDefined(a)&&(d=a.slice(0,a.length>=5?5:a.length));return d}}).directive("categorizedItemsSelect",function(){function a(a,b,c,d){d.$formatters.push(function(b){if(angular.isDefined(a.items)&&a.items.length>0){var c=_.findIndex(a.items,function(c){return c[a.itemProperty]===b});return a.items[c]}}),d.$parsers.push(function(b){return b[a.itemProperty]}),a.$watch("items",function(){if(angular.isDefined(a.items)&&a.items.length>0){var b=_.findIndex(a.items,function(b){return b[a.itemProperty]===d.$modelValue});b!==-1&&(d.$setViewValue(a.items[b]),d.$render())}},!0),a.groupByFn=function(b){return a.categorized?b.category?b.category:"Other":null},a.reverseOrderFilterFn=function(a){return a.reverse()}}return{restrict:"E",require:"ngModel",scope:{itemLabel:"=",itemProperty:"=",items:"=",categorized:"=",ngDisabled:"="},templateUrl:"app/widgets/categorized-items-select.html",link:a}}),angular.module("app.widgets").directive("uploadViewerCsv",function(){function a(a,b,c){if("undefined"!=typeof FileReader){var d=new FileReader;d.onload=function(b){for(var d=angular.element('<table class="table table-condensed table-striped" />'),e=b.target.result.replace(/^\s+|\s+$/g,""),f=e.split("\n"),g=0;g<f.length;g++){for(var h=angular.element("<tr />"),i=f[g].split(c),j=0;j<i.length;j++){var k=angular.element(0===g?"<th />":"<td />");k.html(i[j]),h.append(k)}d.append(h)}a.append(d)},a.html(""),d.readAsText(b)}else a.html("<p>No preview available for your browser.</p>")}return{restrict:"E",scope:{file:"=",separator:"="},link:function(b,c){b.$watch("file.name + separator",function(){b.file&&b.separator?a(c,b.file,b.separator):c.html("<p>No preview</p>")})}}}),angular.module("app.widgets").directive("campaignProgress",function(){return{restrict:"E",templateUrl:"app/widgets/campaign-progress.html",scope:{campaign:"=",lastTest:"="}}}),angular.module("app.widgets").directive("executionRateBar",function(){return{restrict:"E",template:'<div class="cr-counterbar"><div class="cr-counterbar-label">{{value * 100|number:2}}%</div><div class="cr-counterbar-bar"><a tooltip="{{tooltipMessage}}"><progressbar value="value" type="primary" max="1"></progressbar></a></div></div>',scope:{value:"=",tooltipMessage:"@"}}}),angular.module("app.widgets").directive("objectComparator",ObjectComparatorDirective),angular.module("app.widgets").directive("paginationBar",paginationBarDirective),angular.module("app.widgets").directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter,{event:b})}),b.preventDefault())})}}),angular.module("app.widgets").directive("eventRuntime",["FacetSelectionModel",function(a){return{restrict:"E",scope:{crashevent:"=",corestart:"=",teststart:"="},templateUrl:"app/widgets/event-runtime.html"}}]),angular.module("app.widgets").directive("itemSelector",itemSelector),angular.module("app.widgets").directive("dropdownHover",dropdownHover),function(){"use strict";angular.module("app.widgets").component("statusIcon",{bindings:{status:"<"},controller:["TestConstant",function(a){var b=this;b.icon=function(b){var c;switch(b){case a.status.COMPLETED:c="glyphicon glyphicon-ok-sign text-info";break;case a.status.CANCELLED:c="glyphicon glyphicon-remove-sign text-danger";break;case a.status.RUNNING:c="glyphicon glyphicon-repeat glyphicon-spin text-warning";break;case a.status.TIMEOUT:c="glyphicon glyphicon-hourglass text-muted";break;case a.status.PENDING:c="glyphicon glyphicon-option-horizontal";break;default:c="glyphicon glyphicon-adjust text-muted"}return c}}],template:['<span class="{{$ctrl.icon($ctrl.status)}}" title="Status {{$ctrl.status}}"></span>'].join("")})}(),function(){"use strict";angular.module("app.widgets").component("peopleGrid",{bindings:{people:"<"},template:['<div class="cr-people-grid">','<div class="cr-people-grid-item" ng-repeat="user in $ctrl.people"><user-avatar wwid="user.wwid" tooltip="{{user.firstname}} {{user.lastname}}"></user-avatar></div>',"</div>"].join("")})}(),function(){"use strict";function a(){}angular.module("app.widgets").component("checkList",{bindings:{list:"<"},templateUrl:"app/widgets/check-list.component.html",controller:a})}(),function(){"use strict";angular.module("app.widgets").component("commentEditor",{transclude:!0,bindings:{model:"=",placeholder:"@",rows:"@"},template:['<div class="row form-group"><div class="col-md-6"><label for="commentInput">Comment</label><textarea class="col-md-6 form-control" id="commentInput" rows={{$ctrl.rows}} ng-model="$ctrl.model" placeholder={{$ctrl.placeholder}}></textarea></div><div class="col-md-6"><label for="commentMarkdown">Preview  <a href="https://help.github.com/articles/basic-writing-and-formatting-syntax/" target="_blank" title="Learn more about Markdown syntax"><span class="glyphicon glyphicon-question-sign"></span></a></label><br/><span ng-if="$ctrl.model === undefined || $ctrl.model.length === 0 ">You can use formatting Markdown syntax (<a target="_blank" href="https://help.github.com/articles/basic-writing-and-formatting-syntax/">Github help on markdown</a>) to format your comment. Add title, bullets, quote and code.</span><markdown id="commentMarkdown" markdown-model="$ctrl.model"></markdown></div></div>'].join("")})}(),angular.module("app.widgets").directive("durationPicker",durationPicker),angular.module("app.widgets").directive("userList",[function(){function a(a){a.remove=function(b){if(a.onRemove){var c=a.onRemove({user:b});if(!c)return}a.users.splice(a.users.indexOf(b),1)},a.mouseOver=function(a){a._active=!0},a.mouseLeave=function(a){a._active=!1}}return{restrict:"E",scope:{users:"=",disableRemove:"=?",onRemove:"&"},templateUrl:"app/widgets/user-list.html",link:a}}]),angular.module("app.widgets").directive("domainList",["Tests","Builds","TestConstant","WidgetModals","BuildReports","modalConfirmHelper","AppEventConstant",function(a,b,c,d,e,f,g){function h(c,h){function i(d){var e=_.merge({domain:d.name},c.context);a.executionStats(e,function(a){a.notRun=a.pending+a.na,a.passRate=a.passed/a.completed,d.stat=a}),b.issues(e,function(a){d.issues={count:a.totalCount,data:a.results,statuses:_.countBy(a.results,"details.status")}})}function j(a,b){var e,f,g=b;switch(b){case"ALL":e=["verdict"];break;case"Not Run":f="NA",e=["status"];break;default:f=b}var h=_.merge({domain:a.name,verdict:f},c.context);d.openTestList(h,g+" tests cases in "+a.name+" domain",e)}function k(a){var b="Issues in "+a.name+" domain";d.openIssueList(a.issues.data,b)}function l(b){var d,h;"OK"!==b.status.state?(d="OK",h=b.name+" domain result is confirmed"):(d="PENDING",h=b.name+" domain result under checking, need further confirmation"),f.confirm.confirmAction(function(){var f,i=_.merge({domain:b.name,phase:"CORE",limit:1e3},c.context);f="OK"===d?a.bulkCertify(i,{}).$promise:a.bulkDecertify(i).$promise,f.then(function(){e.setSectionStatus({reportKey:c.report.key,section:"ft",context:b.name},{state:d,description:h},function(){b.status.state=d,b.status.description=h,c.$emit(g.build.ACTIVITY_CHANGE)})})})("set "+b.name+" domain status to "+d)}c.update=i,c.openTests=j,c.openIssues=k,c.toggleDomainConfirm=l,c.domainDetails=_.map(c.domains,function(a){var b={name:a.domain,status:a};return i(b),b}),c.$on(g.build.TESTS_CHANGE,function(){_.each(c.domainDetails,function(a){i(a)})})}return{restrict:"E",scope:{context:"=",domains:"=",report:"="},templateUrl:"app/widgets/domain-list.html",link:h}}]),angular.module("app.widgets").directive("reportSectionTag",function(){return{restrict:"E",scope:{section:"="},template:'<span class="label {{mapping[section][1]}}">{{mapping[section][0]}}</span>',link:function(a,b){a.mapping={bootota:["BOOT","cr-circle-stability"],"system-integration":["SI","cr-label-endurance"],ft:["FT","cr-label-functional"],mtbf:["MTBF","cr-label-mtbf"],kpi:["KPI","cr-label-kpi"]}}}}),angular.module("app.widgets").directive("mouseOverLeave",function(){return{restrict:"A",scope:{hover:"="},link:function(a,b,c){b.bind("mouseover",function(){b.css("cursor","pointer"),a.$apply(function(){a.hover=!0})}),b.bind("mouseleave",function(){a.$apply(function(){a.hover=!1})})}}}),angular.module("app.widgets").directive("reportSummary",["$modal",function(a){function b(a,b,c){}return{restrict:"E",templateUrl:"app/widgets/report-summary.html",scope:{report:"="},link:b}}]),angular.module("app.widgets").directive("reportPicker",["BuildReports",function(a){function b(b,c,d){function e(){b.loading=!0;var c=_.merge({type:["WEEKLY","DAILY"],sort:"-creation",offset:b.paging.offset,limit:b.paging.limit},b.query);a.query(c,function(a){b.reports=a.results,b.paging.totalCount=a.totalCount,b.paging.totalCount>b.paging.limit&&(b.paging.enable=!0),b.loading=!1})}function f(){e(),b.$watch("paging.offset",function(a,b){a!==b&&e()})}b.paging={totalCount:0,offset:0,limit:20,enable:!1},f()}return{restrict:"E",templateUrl:"app/widgets/report-picker.html",scope:{query:"=",selection:"=",reports:"=?"},link:b}}]),function(){"use strict";var a={bindings:{group:"<"},templateUrl:"app/widgets/user-group.html"};angular.module("app.widgets").component("userGroup",a)}(),angular.module("app.widgets").directive("userPicker",[function(){function a(a){function b(b,c,d){var e={firstname:b._source.FirstNm,lastname:b._source.LastNm,username:b._source.Idsid,wwid:b._source.WWID,email:b._source.CorporateEmailTxt};a.worker="",a.onSelect({user:e})}a.worker="",a.peopleInputConfig={display:{idsid:!0,location:!0,wwid:!0,photo:!0},onSelect:b}}return a.$inject=["$scope"],{restrict:"E",scope:{onSelect:"&"},template:'<input class="form-control" type="text" data-intc-worker-picker="peopleInputConfig" data-ng-model="worker" />',controller:a}}]),angular.module("app.widgets").directive("projectSummary",["$modal",function(a){function b(a,b,c){var d,e;a.project.sectionKeys.indexOf("Build Reports")>-1&&1==a.project.sectionKeys.length?(d=a.project.buildReports?a.project.buildReports.length:0,a.data=d+" Build Reports"):a.project.sectionKeys.indexOf("Build Reports")>-1&&1!=a.project.sectionKeys.length?(a.project.buildReports&&a.project.campaigns?(d=a.project.buildReports.length,e=a.project.campaigns.length):a.project.buildReports&&!a.project.campaigns?(d=a.project.buildReports.length,e=0):!a.project.buildReports&&a.project.campaigns?(d=0,e=a.project.campaigns.length):(d=0,e=0),a.data=d+" Build Reports "+e+" Campaigns"):(e=a.project.campaigns?a.project.campaigns.length:0,a.data=e+" Campaigns")}return{restrict:"E",templateUrl:"app/widgets/project-summary.html",scope:{project:"="},link:b}}]),angular.module("app.widgets").directive("projectPicker",["Projects",function(a){function b(b,c,d){function e(){b.loading=!0;var c=_.merge({sort:"-creation",offset:b.paging.offset,limit:b.paging.limit},b.query);a.getSecured(c).$promise.then(function(a){b.projects=a.results,b.paging.totalCount=a.totalCount,b.paging.totalCount>b.paging.limit&&(b.paging.enable=!0),b.loading=!1})}function f(){e(),b.$watch("paging.offset",function(a,b){a!==b&&e()})}b.paging={totalCount:0,offset:0,limit:25,enable:!1},f()}return{restrict:"E",templateUrl:"app/widgets/project-picker.html",scope:{query:"=",selection:"=",projects:"=?"},link:b}}]),angular.module("app.widgets").directive("privateIcon",[function(a){return{restrict:"E",template:'<span class="glyphicon glyphicon-lock text-muted" tooltip="Private"></span>'}}]),angular.module("app.widgets").directive("dropdownSelector",dropdownSelector),angular.module("app.widgets").directive("shareUsers",["WidgetModals","Subject","SecurityUtils","SecurityConstant","Notifier",function(a,b,c,d,e){function f(f,g,h){function i(){var a=f.securityEntity;if(a&&a._security&&a._security.owner){f.isOwner=b.isSameUser(a._security.owner),f.isPublic=a._security.privacy==d.privacy.PUBLIC,f.canEdit=f.isOwner&&c.hasPermission(a,d.perms.EDIT);var e=!1;a._security.sharePeople.forEach(function(a){b.isSameUser(a)&&(e=!0)}),f.isSharedMembers=e}}function j(){a.openPeopleRetrival().then(function(a){f.afterPeopleSelected(a).then(function(a){e.success("Share with people successful")},function(a){e.error("Error while sharing to people")})})}function k(a){
f.afterPrivacySelected(a)}f.privacy=d.privacy,f.findPeople=j,f.selectPrivacy=k,f.isOwner=!1,f.isPublic=!1,f.canEdit=!1,f.isSharedMembers=!1,f.$watch("securityEntity",function(){i()},!0)}return{restrict:"E",templateUrl:"app/widgets/user/share-users.html",scope:{securityEntity:"=",afterPeopleSelected:"=",afterPrivacySelected:"="},link:f}}]),angular.module("app.services").factory("LiveStream",["$log","$websocket","$interval","wsConfig",function(a,b,c,d){function e(){d.ENABLED===!0&&(v.socket=b(d.URL),l(),k(),m())}function f(){return x.ping}function g(){return x.status}function h(b,c){if(d.ENABLED===!0){var e=w[b];e||(e=[],w[b]=e),0===e.length&&o(b),e.push(c),a.debug(b,e.length)}}function i(b,c){if(d.ENABLED===!0){var e=w[b];e&&(e.splice(e.indexOf(c),1),a.debug(b,e.length),0===e.length&&(p(b),delete w[b]))}}function j(a,b){var c=w[a];if(c)for(var d=0;d<c.length;d++)c[d](b)}function k(){v.socket.onError(function(b){a.error("error connecting to endpoint",b)})}function l(){v.socket.onMessage(function(b){try{var c=JSON.parse(b.data);c.topic&&c.message?s(c):c.server&&t(c)}catch(d){a.error("cannot process message ",d)}})}function m(){v.socket.onClose(function(b){a.info("Websocket connection closed"),c.cancel(u),x.status="disconnected"}),v.socket.onOpen(function(b){a.info("Websocket connection opened"),x.status="connected",u=n(1e4)})}function n(a){return c(function(){x.lastPing=Date.now(),r({command:"ping",message:"hello"})},a)}function o(a,b){q(a,"subscribe")}function p(a,b){q(a,"unsubscribe")}function q(a,b){var c=[];_.isString(a)&&c.push(a),_.isArray(a)&&(c=a),c.length>0&&r({command:b,topics:c})}function r(a){v.socket.send(JSON.stringify(a))}function s(a){var b=JSON.parse(a.message);j(a.topic,b)}function t(a){"pong"===a.server&&(x.lastPong=Date.now(),x.ping=x.lastPong-x.lastPing)}var u,v=this,w={},x={ping:0,status:"disconnected",lastPing:0};return e(),{addTopicListener:h,removeTopicListener:i,getPing:f,getStatus:g}}]),angular.module("app.services").factory("LiveFollower",LiveFollower),angular.module("app.live").factory("TestLive",TestLive),angular.module("app.live").factory("CampaignLive",CampaignLive),angular.module("app.live").factory("ActivitiesLive",ActivitiesLive),angular.module("app.live").factory("BenchLive",BenchLive),angular.module("app.live").factory("TaskLive",TaskLive),angular.module("app.live").factory("ProgressLive",ProgressLive),angular.module("app.live").factory("CampaignTestChangeLive",CampaignTestChangeLive),angular.module("app.live").factory("CampaignTestDeletionLive",CampaignTestDeletionLive),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("home",{template:"<ui-view></ui-view>","abstract":!0,breadcrumb:{name:"Home",proxy:"home.welcome"}}).state("home.welcome",{url:"/",templateUrl:"app/home/main.html",controller:"MainCtrl",breadcrumb:{show:!1}})}]),angular.module("CampaignReportingApp").service("validationUtils",[function(){return{isValidObjectId:function(a){return a&&/([0-9]|[a-f]|-){36}/.test(a)}}}]),angular.module("CampaignReportingApp").controller("MainCtrl",["$scope","LiveStream",function(a,b){var c=window.__env;a.warningTitle=c.WARN_TITLE,a.warningContent=c.WARN_MESSAGE,b.addTopicListener("test_count",function(b){a.testCount=b}),a.$on("$destroy",function(){b.removeTopicListener("test_count")})}]),angular.module("CampaignReportingApp").directive("requestPendingDiv",["$compile",function(a){return{scope:{loading:"=",customClass:"=?",width:"=?",height:"=?"},template:'<div class="request-pending-div" ng-class="{customClass: customClass}" ng-show="loading"><div class="spinner-icon"></div></div>',restrict:"E",replace:!0,link:function(a,b,c){if(a.width&&a.height){var d=b[0];d.style.height=a.height,d.style.width=a.width}}}}]),angular.module("CampaignReportingApp").constant("BuildConstants",{types:{WEEKLY:"weekly",LATEST:"latest",DEV:"dev",ENG:"eng",MR:"mr",PREI:"prei"}}),angular.module("CampaignReportingApp").directive("crBuildPicker",["BuildConstants","Tests","TestBuilds","Builds",function(a,b,c,d){function e(e,f,g,h){function i(){k("device.deviceId",function(a){e.devices=a.results})}function j(){k("bench.name",function(a){e.benches=a.results})}function k(a,c){b.fieldValues(l(a),c)}function l(a){var b={field:a};return e.externalFilters&&_.extend(b,e.externalFilters),e.filters.bench.length>0&&(b.bench=e.filters.bench),e.filters.device.length>0&&(b.device=e.filters.device),void 0!==e.filters.buildId&&""!==e.filters.buildId?b.buildId=e.filters.buildId:delete b.buildId,b.buildType=e.filters.type,b}if(e.benches=[],e.devices=[],e.items=[],e.buildId="",e.buildTypes=a.types,e.filters={bench:[],device:[],type:a.types.WEEKLY},e.selection={},e.externalFilters&&e.externalFilters.buildId){e.filters.buildId=e.externalFilters.buildId,e.buildIdFiltering=!0;var m,n=e.filters.buildId,o=n.split("-");o.length>1&&(m=o[1],"lst"===m?m=a.types.LATEST:"week"===m&&(m=a.types.WEEKLY)),e.filters.type=m}e.$watch("filters",function(a,b){e.items=c.query(l())},!0),e.toggleSelection=function(a){console.log(a),e.options.multiselect?e.selection[a.id]?delete e.selection[a.id]:e.selection[a.id]=a:(Object.keys(e.selection).length>0&&delete e.selection[Object.keys(e.selection)[0]],e.selection[a.id]=a)},e.selectionCount=function(){return Object.keys(e.selection).length},e.getAdditionalBuildInfos=function(a){a.id&&d.get({id:a.id}).$promise.then(function(b){e.items.forEach(function(c){c.id===a.id&&(c.buildUserHostname=b.buildUserHostname,c.fingerPrint=b.fingerPrint,c.kernelVersion=b.kernelVersion,c.ingredientsJson=b.ingredientsJson)})})},j(),i(),h.$formatters.push(function(a){return a}),h.$parsers.push(function(a){return a}),h.$render=function(){e.selection=h.$viewValue}}return{restrict:"E",templateUrl:"app/build/build-picker.html",require:"ngModel",scope:{externalFilters:"=",options:"="},link:e}}]),angular.module("CampaignReportingApp").controller("BuildPickerModalCtrl",["$scope","$modalInstance","externalFilters","options",function(a,b,c,d){a.selection={},a.externalFilters=c,a.options=d,a.ok=function(){b.close(a.selection)},a.cancel=function(){b.dismiss("cancel")},a.isSelectionEmpty=function(){return 0===Object.keys(a.selection).length}}]),angular.module("CampaignReportingApp").service("BuildPickerModal",["$modal",function(a){this.open=function(b,c,d){var e={};c&&(e=c);var f={multiselect:!0};d&&(f=d);var g=a.open({animation:!1,templateUrl:"app/build/build-picker-modal.html",controller:"BuildPickerModalCtrl",size:"lg",resolve:{externalFilters:function(){return e},options:function(){return f}}});g.result.then(b)}}]),angular.module("CampaignReportingApp").controller("BuildNewModalCtrl",["$scope","$modalInstance","Builds","build",function(a,b,c,d){function e(){c.fieldValues({field:"branch"}).$promise.then(function(a){f.branches=a}),c.fieldValues({field:"targetProduct"}).$promise.then(function(a){f.targetProducts=a})}var f=this;f.build=d,f.branches=[],f.targetProducts=[],a.save=function(){c.save(f.build).$promise.then(function(a){b.close(a)})},a.cancel=function(){b.dismiss("cancel")},e()}]),angular.module("CampaignReportingApp").service("BuildNewModal",["$modal",function(a){this.open=function(b,c){var d={};c&&(d=c),d.creationType="manual";var e=a.open({animation:!1,templateUrl:"app/build/build-new-modal.html",controller:"BuildNewModalCtrl as vm",size:"lg",resolve:{build:function(){return d}}});e.result.then(b)}}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.factory("displayBuildDef",function(){return[{name:"buildId",template:'<span class="buildSynchroPropertyWidth">{{property.value}}</span>'},{name:"creation",template:"<span>{{property.value|crdate}}</span>"},{name:"lastModified",template:"<span>{{property.value|crdate}}</span>"},{name:"ingredientsJson",template:'<pre class="buildSynchroPropertyWidth">{{property.value}}</pre>'},{name:"date",template:"<span>{{property.value|crdate}}</span>"}]})}(),function(){function a(a){var b="";switch(a){case"PENDING":b="muted";break;case"TIMEOUT":case"CANCELLED":b="danger";break;case"COMPLETED":b="info";break;case"RUNNING":b="warning";break;default:return""}return b}function b(a,b){var c="";switch(b){case"PENDING":c=a.lightGray;break;case"TIMEOUT":case"CANCELLED":c=a.red;break;case"COMPLETED":c=a.lightBlue;break;case"RUNNING":c=a.orange;break;default:return""}return c}var c=angular.module("app.filters");c.filter("statusStyle",function(){return function(b){var c=a(b);return"text-"+c}}),c.filter("statusProgressType",function(){return function(b){return a(b)}}),c.filter("statusColor",["IntelColors",function(a){return function(c){return b(a,c)}}])}(),function(){function a(a){var b="";switch(a){case"NA":b="muted";break;case"VALID":case"INCONCLUSIVE":b="info";break;case"BLOCKED":case"FAILED":b="danger";break;case"PASSED":b="success";break;case"INVALID":b="warning";break;default:return""}return b}function b(a,b){var c="";switch(b){case"NA":c=a.lightGray;break;case"BLOCKED":c=a.orange;break;case"FAILED":c=a.red;break;case"INCONCLUSIVE":c=a.mediumBlue;break;case"VALID":c=a.lightBlue;break;case"PASSED":c=a.green;break;case"INVALID":c=a.darkRed;break;case"pass":c=a.green;break;case"failed":c=a.red;break;case"notExecuted":c=a.lightGray;break;default:return""}return c}var c=angular.module("app.filters");c.filter("verdictStyle",function(){return function(b){var c=a(b);return"text-"+c}}),c.filter("verdictProgressType",function(){return function(b){return a(b)}}),c.filter("verdictColor",["IntelColors",function(a){return function(c){return b(a,c)}}])}(),function(){function a(a,b,c){var d="";return d=a>b?"success":a>c?"warning":"danger"}var b=angular.module("app.filters");b.filter("passrateStyle",function(){return function(b,c,d){var e=a(b,c,d);return"text-"+e}})}(),function(){function a(a){var b="";switch(a){case"PENDING":b="primary";break;case"NA":b="info";break;case"FAILED":b="danger";break;case"PASSED":b="success";break;default:return""}return b}function b(a,b){var c="";switch(b){case"PENDING":c=a.blue;break;case"NA":c=a.lightGray;break;case"FAILED":c=a.red;break;case"PASSED":c=a.green;break;default:return""}return c}var c=angular.module("app.filters");c.filter("uploadedStatusStyle",function(){return function(b){var c=a(b);return"info"===c&&(c="muted"),"text-"+c}}),c.filter("uploadedStatusProgressType",function(){return function(b){return a(b)}}),c.filter("uploadedStatusColor",["IntelColors",function(a){return function(c){return b(a,c)}}])}(),function(){function a(a){var b="";switch(a){case"FAILED":b="danger";break;case"SUCCEED":b="success";break;default:return""}return b}var b=angular.module("app.filters");b.filter("activityContextStatusStyle",function(){return function(b){var c=a(b);return"info"===c&&(c="muted"),"text-"+c}})}(),angular.module("CampaignReportingApp").service("Events",["$resource","crashtoolConfig",function(a,b){var c=a(b.rest.EVENT_SEARCH,{},{query:{method:"POST",isArray:!0}});return{$resource:c,events:[],allEvents:[],count:0,groups:[],displayGroups:!1,resource:void 0,displayTest:!1,onlyCritical:!1,createNewEvent:function(a){},init:function(a){this.count=void 0!==a&&void 0!==a.nbEvents?a.nbEvents:0}}}]),angular.module("CampaignReportingApp").factory("EventsUtil",["$log","Events","uiGridConstants","moment",function(a,b,c,d){function e(a){void 0!==a.eventID&&void 0===a.eventId&&(a.eventId=a.eventID,delete a.eventID),void 0!==a.eventName&&void 0===a.event&&(a.event=a.eventName,delete a.eventName),void 0!==a.eventType&&void 0===a.type&&(a.type=a.eventType,delete a.eventType),void 0!==a.date&&"string"==typeof a.date&&(a.date=d.utc(a.date,"YYYY-MM-DD/HH:mm:ss")._d),void 0!==a._id&&void 0===a.rowId&&(a.rowId=a._id,delete a._id),(void 0===a.runtime||a.runtime<0)&&(a.runtime=0)}function f(a){void 0!==a&&angular.isArray(a)&&_.each(a,function(a){e(a)})}function g(c,d){var e=[];_.each(c,function(a){e.push(a.eventId),a.crashtoolConsolidated=!1});var f={};f.eventId=e,f.fields=["eventId","event","type","data0","data1","data2","data3","date","crashtypeId","bugs","status","bugId"];var g=b.$resource.query(f,function(a){},function(b){a.warn("Could not consolidate events linked to this test from Crashtool API.")});return g.$promise.then(function(a){var b;_.each(c,function(c){void 0!==c.eventId&&(b=_.find(a,function(a){return a.eventId===c.eventId}),void 0!==b?(c=_.merge(c,b),c.crashtoolConsolidated=!0):(c.data0="",c.data1="",c.data2="",c.data3=""))}),d(c)}),c}return{formatEvent:e,formatEvents:f,consolidateEvents:g}}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("EventsCtrl",["$scope","$modal","crashtoolConfig","Events","EventConstant","SecurityUtils","SecurityConstant","Campaigns","modalConfirmHelper","Tests","Notifier","$state",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){a.$watch("service.resource",function(a,b){void 0!==a&&t()})}function n(a){return a.data2?void 0!==a.crashtypeId?"notEmptyLink":"notEmpty":void 0!==a.crashtypeId?"emptyLink":"empty"}function o(a){return c.web.CRASHTYPE_URL.replace(":crashtypeId",a.crashtypeId)}function p(b){if(a.service.resource.rtffData)return a.service.resource.rtffData.start?new Date(a.service.resource.rtffData.start).getTime():void 0;var c=q(b);return c-b.runtime}function q(b){if(a.service.resource.rtffData){var c=p(b);return c+b.runtime}return a.service.resource.startTime?new Date(a.service.resource.startTime).getTime():void 0}function r(b){return a.primaryStatus.indexOf(b)!==-1?"label-primary":a.warningStatus.indexOf(b)!==-1?"label-warning":a.successStatus.indexOf(b)!==-1?"label-success":"label-default"}function s(a){return!a||/^\s*$/.test(a)}function t(){var b=_.get(a.service.resource,"device.deviceId"),c=_.get(a.service.resource,"build.buildId");a.enableEdition=!f.hasPermission(a.service.resource,g.perms.READ_ONLY),a.enableEventCreation=!s(b)&&!s(c)}function u(){if(a.enableEventCreation){var c=b.open({animation:!1,templateUrl:"app/events/event-new-modal.html",controller:"eventNewModalCtrl",size:"lg"});c.result.then(function(){x()})}}function v(){b.open({animation:!1,templateUrl:"app/events/event-mtbf-list-modal.html",controller:"eventMtbfListModalCtrl",size:"lg"})}function w(b){i.confirm["delete"](function(){j.removeEvents({testId:a.service.resourceId,id:b.eventId}).$promise.then(function(){k.success("Event"+b.eventId+" deleted successfully","Success"),a.service.events.splice(this,1),a.service.count--,x()})})("event "+b.eventId)}function x(){l.go(".",{},{reload:!0})}a.service=d,a.crashtoolConfig=c,a.enableEventCreation=!1,a.enableEdition=!1,a.crashTypeLink=o,a.crashData2Format=n,a.openCreateEventPopup=u,a.labelType=r,a.openMtbfListModal=v,a.getCoreStart=p,a.getTestStart=q,a.primaryStatus=[e.bug.status.NEW,e.bug.status.OPEN],a.warningStatus=[e.bug.status.INPROGRESS,e.bug.status.PENDING,e.bug.status.TRIAGE,e.bug.status.DEFERRED,e.bug.status.IMPLEMENTED],a.successStatus=[e.bug.status.VALIDATION,e.bug.status.MERGED,e.bug.status.VERIFY,e.bug.status.VERIFIED,e.bug.status.CLOSED],a.deleteEvent=w,m()}])}(),angular.module("CampaignReportingApp").controller("eventNewModalCtrl",["$scope","$modalInstance","Events","crashtoolConfig","moment","OAuth2","EventsUtil","Notifier","Tests",function(a,b,c,d,e,f,g,h,i){function j(){a.includeParentAttachments=!a.includeParentAttachments,a.includeParentAttachments?angular.forEach(a.parentAttachments,function(b,c){b.selected=!1,a.attachments.push(b),console.log(b)}):a.attachments=i.attachments({testId:a.service.resource.id})}function k(){a.attachments=i.attachments({testId:a.service.resource.id}),a.parentAttachments=i.attachments({testId:a.service.resource.parentId}),angular.forEach(a.attachments,function(a,b){a.selected=!1}),a.$watch("service.resource",function(a,b){void 0!==a&&m()})}function l(b){b.retention.available&&(b.selected=!b.selected),console.log(a.includeParentAttachments)}function m(){a.newEvent={},a.newEvent.eventType=a.eventTypes[a.eventTypes.length-1].display,a.newEvent.event="CRASH",console.log(a.service.resource.startTime);var b=e.utc(a.service.resource.startTime).local();a.timestamp={},a.timestamp.date=b.format("YYYY-MM-DD"),a.timestamp.time=b.format("HH:mm:ss");var c=f.getSubject();void 0!==c?a.newEvent.data5="Created by "+c.name+" "+c.lastname:a.newEvent.data5="You need to be authenticated"}function n(b){b.preventDefault(),b.stopPropagation(),a.status.opened=!0}function o(a){if(void 0===a)return!0;var b=/^[0-9]{2}:[0-9]{2}:[0-9]{2}$/;return b.test(a)&&e(a,"HH:mm:ss").isValid()}function p(){a.forms.eventForm.$valid&&(a.newEvent.date=e(e(a.timestamp.date).format("YYYY-MM-DD")+" "+a.timestamp.time).utc().format("YYYY-MM-DD/HH:mm:ss"),delete a.newEvent.data5,a.newEvent.attachments=[],angular.forEach(a.attachments,function(b,c){b.selected&&a.newEvent.attachments.push(b)}),console.log("uploaded date:"+a.newEvent.date),a.newEvent.mtbfFailure=!0,a.service.createNewEvent(a.newEvent).then(function(c){g.formatEvent(c),a.service.events.push(c),a.service.count++,a.displayForm=!1,b.close(c)},function(a){var b=a.statusText;void 0!==a.data&&void 0!==a.data.message&&(b+=": "+a.data.message),h.error(b,"Unable to create event")}))}function q(){b.dismiss("cancel")}function r(b){a.newEvent.eventType=b.data,a.selectedType=b.display}a.service=c,a.crashtoolConfig=d,a.newEvent={},a.timestamp={},a.selectedType="OTHER",a.status={opened:!1},a.includeParentAttachments=!1,a.eventTypes=[{display:"ANR",data:"ANR"},{display:"ADB_LOST",data:"ADB_LOST"},{display:"MODEM_HANG",data:"MODEM_HANG"},{display:"HANG",data:"HANG"},{display:"BATTERY_SHT",data:"BATTERY_SHT"},{display:"THERMAL_SHT",data:"THERMAL_SHT"},{display:"MODEM_LOST",data:"MODEM_LOST"},{display:"MODEM_DATA_LOST",data:"MODEM_DATA_LOST"},{display:"OTHER",data:"OTHER"}],a.forms={},a.attachments=[],a.openDatePicker=n,a.validateTimeFormat=o,a.createEvent=p,a.cancel=q,a.selectType=r,a.select=l,a.change=j,k()}]),angular.module("CampaignReportingApp").controller("eventMtbfListModalCtrl",["$scope","$modalInstance","EventTypes",function(a,b,c){function d(){a.list=c.getMtbfFailureList()}function e(){b.dismiss()}a.ok=e,a.list=[],d()}]),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("tests",{"abstract":!0,templateUrl:"app/tests/tests.html"}).state("tests.list",{url:"/tests?filters",templateUrl:"app/tests/tests-list.html",controller:"TestsCtrl"}).state("tests.pnpResults",{url:"/tests/pnp/results",templateUrl:"app/tests/pnp-results.html",controller:"PnpResults"}).state("test",{url:"/tests/:testId",templateUrl:"app/tests/test.html",controller:"Test",resolve:{test:["$stateParams","Tests",function(a,b){return b.get({testId:a.testId}).$promise}],hierarchy:["$stateParams","Tests",function(a,b){return b.hierarchy({testId:a.testId}).$promise}]},"abstract":!0}).state("test.detail",{url:"/detail",breadcrumb:["test","hierarchy",function(a,b){var c=[{name:"Campaigns",proxy:"campaignsFiltered"},{name:"{{test.campaignName}}",proxy:"campaign.detail",params:{campaignId:a.campaignId},enableHistory:!0}];return _.forEach(b,function(a){c.push({name:a.testCase,proxy:"test.detail",params:{testId:a.id},enableHistory:!0})}),c.push({name:"{{test.testCase}}",enableHistory:!0}),c}],title:"Test {{test.testCase}}",views:{properties:{templateUrl:"app/tests/test-properties.html",controller:"TestProperties"},"pnp-detail":{templateUrl:"app/tests/pnp-detail.html",controller:"PnpDetail"},"test-results":{templateUrl:"app/tests/test-results.html",controller:"TestResultsCtrl"},"test-childs":{templateUrl:"app/tests/test-child-grid.html",controller:"TestChildGridCtrl"},attachments:{templateUrl:"app/attachments/attachments.view.html",controller:"AttachmentsCtrl",resolve:{attachments:["Tests","$stateParams",function(a,b){return a.attachments({testId:b.testId})}],downloadAllUrl:["test",function(a){return"/attachments/zip/"+a.campaignId+"/"+a.id}]}},comments:{templateUrl:"app/comments/comments.view.html",controller:"CommentsCtrl"},activities:{templateUrl:"app/activities/activities.view.html",controller:"ActivitiesCtrl"},events:{templateUrl:"app/events/events.view.html",controller:"EventsCtrl"},charts:{templateUrl:"app/charts/charts.view.html",controller:"ChartsCtrl"},issues:{templateUrl:"app/issues/issues.view.html",controller:"IssuesCtrl"}}}).state("test.detail.pnpdetail",{url:"/pnpdetail"}).state("test.detail.activities",{url:"/activities"}).state("test.detail.testresults",{url:"/testresults"}).state("test.detail.testchilds",{url:"/testchilds"}).state("test.detail.attachments",{url:"/attachments"}).state("test.detail.comments",{url:"/comments"}).state("test.detail.events",{url:"/events"}).state("test.detail.charts",{url:"/charts"}).state("test.detail.issues",{url:"/issues"})}]),function(){var a=angular.module("CampaignReportingApp");a.controller("Test",["$scope","$stateParams","test","crashtool","restApiConfig","TestTags","Tests","TestConstant","$log","$state","Comments","Events","EventsUtil","Charts","Issues","SecurityUtils","SecurityConstant","Activities","ActivitiesLive",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){G(),A(),s.follow("Test",c.id),k.count=void 0!==c._meta&&void 0!==c._meta.nbComments?c._meta.nbComments:0,l.init(c._meta),n.count=void 0!==c.charts&&null!==c.charts&&void 0!==c.charts.length?c.charts.length:0,r.init(function(){return g.activities({testId:c.id})}),r.loadActivities(),u(),v()}function u(){o.init([c],"test",function(){return g.issues({testId:c.id})},function(a,b,c,d){var e={testId:a,id:b};return c&&(e.addComentInJira=!0),g.refIssue(e,{text:d})},function(a,b){return g.unrefIssue({testId:a,id:b},{})})}function v(){var b;(j.is("test.detail.pnpdetail")||!b&&c.result&&c.result.pnp)&&(b={pnpdetail:!0}),(j.is("test.detail.testresults")||!b&&c.result)&&(b={testresults:!0}),(j.is("test.detail.testchilds")||!b&&c._meta&&c._meta.nbChildren)&&(b={testchilds:!0}),!j.is("test.detail.attachments")&&b||(b={attachments:!0}),!j.is("test.detail.events")&&b||(b={events:!0}),!j.is("test.detail.comments")&&b||(b={comments:!0}),(j.is("test.detail.charts")||!b&&n.count>0)&&(b={charts:!0}),!j.is("test.detail.issues")&&b||(b={issues:!0}),!j.is("test.detail.activities")&&b||(b={activities:!0}),a.activeTab=b}function w(){r.loadActivities()}function x(){o.loadIssues()}function y(b){a.test.tags.push(b),f.save({testId:c.id,tagName:b})}function z(b){a.test.tags.splice(a.test.tags.indexOf(b),1),f["delete"]({testId:c.id,tagName:b})}function A(){a.selectedTags={},a.tags=[],c.tags?_.forEach(c.tags,function(b){a.tags.push({text:b}),a.selectedTags[b]=!0}):c.tags=[]}function B(a){j.go(j.current.name,{testId:a})}function C(a,b,c,d){var e={query:{campaignId:a,index:{"==":b},depth:{"==":c}},fields:"id,testCase,index"};return d&&(e.query.parentId={"==":d}),e.query=JSON.stringify(e.query),g.get(e)}function D(){k.resourceId!==c.id&&(k.resourceId=c.id,k.comments=g.comments({testId:c.id}),k.createNewComment=function(a){return g.createComment({testId:c.id},{text:a}).$promise},k.updateComment=function(a){return g.updateComment({testId:c.id},{text:a.text,id:a.id}).$promise},k.deleteComment=function(a){return g.deleteComment({testId:c.id,id:a.id}).$promise})}function E(){g.charts({testId:c.id}).$promise.then(function(a){a&&a.totalCount>0&&n.setCharts(a.results)})}function F(b){if(void 0===l.resource||l.resource.id!==c.id||b){l.resource=c,l.events=[],l.allEvents=[],l.groups=[],l.displayTest=!1,l.resourceId=c.id,l.createNewEvent=function(a){return g.createCrashEvent({testId:c.id},a).$promise};var d=g.getCrashEvents({testId:c.id,quickFilter:a.eventsService.quickFilter,onlyCritical:a.eventsService.onlyCritical});d.$promise.then(function(){d instanceof Array&&d.length>0&&(m.formatEvents(d),m.consolidateEvents(d,function(a){var b=crossfilter(a),c=b.dimension(function(a){return'{"data0":"'+a.data0+'","data1":"'+a.data1+'","data2":"'+a.data2+'","type":"'+a.type+'", "event": "'+a.event+'"}'}),d=c.group().all();_.each(d,function(a){c.filterExact(a.key),a.first=c.top(1)[0]}),l.groups=_.sortBy(d,function(a){return a.value}).reverse()}),l.events=d,a.eventGroupingProgress=1)})}}function G(){c.campaignId&&void 0!==c.index&&(C(c.campaignId,c.index-1,c.depth,c.parentId).$promise.then(function(b){b&&b.totalCount>0&&(a.previousTest=b.results[0])}),C(c.campaignId,c.index+1,c.depth,c.parentId).$promise.then(function(b){b&&b.totalCount>0&&(a.nextTest=b.results[0])}))}a.test=c,a.previousTest=void 0,a.nextTest=void 0,a.commentService=k,a.eventsService=l,a.chartService=n,a.issuesService=o,a.activitiesService=r,a.openTest=B,a.addTag=y,a.removeTag=z,a.loadEvents=F,a.loadComments=D,a.loadCharts=E,a.loadIssues=x,a.canEdit=!p.hasPermission(c,q.perms.READ_ONLY),a.loadActivities=w,a.activeTab={},t(),a.$on("$destroy",function(){s.unfollow()})}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestsCtrl",["$state","$scope","$controller","testSet",function(a,b,c,d){function e(){}function f(){var a=new Date;a.setDate(a.getDate()-1),i("lastDay",a)}function g(){var a=new Date;a.setDate(a.getDate()-7),i("lastWeek",a)}function h(){var a=new Date;a.setMonth(a.getMonth()-1),i("lastMonth",a)}function i(a,c){delete b.restOptions.externalCriteria.creation,b.time=a;var d={">":Date.parse(c)};b.restOptions.externalCriteria.creation=d}function j(){b.time="all",delete b.restOptions.externalCriteria.creation}function k(a){var c,d=[];b.tagFilters.length>0?(_.forEach(b.tagFilters,function(a){d.push(a.text)}),c={"in":d},b.restOptions.externalCriteria.tags=c):delete b.restOptions.externalCriteria.tags}function l(a){d.tagSelection(a)}function m(a){d.untagSelection(a)}function n(){b.selectedTags=d.selectionCommonTags()}function o(){d.refIssueSelection(function(){a.reload()})}b.restOptions={externalCriteria:{}},c("TestsGridCtrl",{$scope:b}),b.testSet=d,b.tagFilters=[],b.selectedTags=[],b.time="lastWeek",b.selectTag=l,b.unselectTag=m,b.tagFiltersChanged=k,b.initTags=n,b.refIssue=o,b.lastDayTests=f,b.lastMonthTests=h,b.lastWeekTests=g,b.allTests=j,e(),b.$on("gridReset",function(a){b.lastWeekTests()}),b.$on("$viewContentLoaded",function(a){b.lastWeekTests()})}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestsGridCtrl",["$scope","$controller","collectionSearch","displayTestDef","testsGridDef","testSet","restApiConfig","CampaignTestDeletionLive","$interval","Campaigns","Notifier","CampaignTestChangeLive","$modal","$state","objectUtils",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){f.selection=a}function q(){m.open({animation:!1,templateUrl:"app/tests/tests-add.html",controller:"TestsAddCtrl",size:"lg",resolve:{campaign:function(){return t}}}).result.then(function(){n.reload()})}function r(){f.selection.length>0?f.removeSelectedTestCase(t.id).then(function(){k.success("Remove test cases sucessfully.","Success")}):k.warning("Please select test cases to delete.","Warning")}function s(){var b=a.getDifferenceWithMemen();a.restOptions.ignoredChanges&&(b=angular.copy(b),b.forEach(function(b){_.keysIn(b).forEach(function(c){o.pathMatches(a.restOptions.ignoredChanges,c)&&delete b[c]})})),j.changeTestCasesUnderCampaign({campaignId:t.id},b).$promise.then(function(){k.success("Save change for test cases sucessfully.","Success")})}var t=a.campaign;b("RestGridCtrl",{$scope:a}),a.exportCsvUrl=g.URL+"/tests/csv",a.deleteTestCases=r,a.saveEdit=s,a.openAddTestModal=q,a.testSet=f;var u={title:function(a){return"Detail of test "+(a.testCase?a.testCase:"")},objectDef:d};a.cellScope={detailModalOptions:u};var v=a.gridOptions.onRegisterApi;a.gridOptions.onRegisterApi=function(b){v(b),void 0!==b.selection&&(b.selection.on.rowSelectionChanged(a,function(a){p(b.selection.getSelectedRows())}),b.selection.on.rowSelectionChangedBatch(a,function(a,c){p(b.selection.getSelectedRows())}))},a.$watch("gridOptions.data",function(a,b){f.selection=[]}),a.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),a.displayPaddingIteration=!1,a.gridOptions.enableRowSelection=!0,a.gridOptions.enableSelectAll=!0,a.gridOptions.multiSelect=!0,a.gridOptions.modifierKeysToMultiSelect=!1,a.gridOptions.enableFooterTotalSelected=!0,a.gridOptions.columnDefs=e.getNewInstance(),a.gridOptions.columnDefs.enableCellEdit=!1,a.gridOptions.chooseColumnsExclude=["bench.parameters.businessSpecific.*","_meta.*","indexForDisplay","readOnly"],a.gridOptions.persistStateNamespace="test-grid",a.restOptions.resource=c("tests"),angular.forEach(a.gridOptions.columnDefs,function(a){a.minWidth=100}),h.follow(t,function(b){for(var c=a.gridOptions.data,d=[],e=0;e<c.length;e++)for(var f=0;f<b.length;f++)if(c[e].id==b[f].id){d.push(e);break}for(var e=0;e<d.length;e++)c.splice(d[e]-e,1)}),l.follow(t,function(b){var c=a.gridOptions.data,d=a.gridOptions.memoData,e=[];b&&(b.forEach(function(a){var b=c.find(function(b){return b.id==a.id});if(b&&(_.merge(b,a),e.push(b),d)){var f=d.find(function(b){return b.id==a.id});f&&_.merge(f,a)}}),e.length>0&&k.warning("Test cases with name <ul>"+e.map(function(a){return'<li ><a class="alert-link" style="color:#3929a5" href="#/tests/'+a.id+'/detail" target="_blank">'+a.testCase+"</a></li>"}).join("")+" </ul>have been changed.","Warning",{autoDismiss:!1,allowHtml:!0,closeButton:!0,preventDuplicates:!1,tapToDismiss:!1,preventOpenDuplicates:!1,timeout:0,extendedTimeOut:6e5,maxOpened:0}))}),a.$on("$destroy",function(){h.unfollow(t),l.unfollow(t)})}])}(),function(){var a=angular.module("CampaignReportingApp");a.controller("TestProperties",["$scope","displayTestDef","test","$log","Builds","Tests",function(a,b,c,d,e,f,g){function h(){c.index=c.indexForDisplay||c.index,m(c),console.log("hierarchy",g)}function i(a){a.bench&&a.bench.name&&(a.general.benchName=a.bench.name)}function j(a){a.device&&(a.device.deviceId&&(a.general.deviceId=a.device.deviceId),a.device.ssn&&(a.general.deviceSsn=a.device.ssn))}function k(a){a.general.buildId="undefined",a.build&&(a.build.id?e.get({id:a.build.id}).$promise.then(function(b){b.creation&&delete b.creation,b.lastModified&&delete b.lastModified,a.build=b,a.build.buildId&&(a.general.buildId=a.build.buildId),l()}):f.getRawBuild({testId:a.id}).$promise.then(function(b){a.build.buildId&&(a.build=b,a.general.buildId=a.build.buildId),l()}))}function l(){a.displayTestOptions.data=angular.copy(c)}function m(a){a.general={},i(a),j(a),k(a)}a.displayTestOptions={data:c,objectDef:b,excludedProperties:["creation","campaignName","status","parentId","index","lastModified","id","isForDevelopment","engine","startTime","stopTime","duration","location","depth","path","result","crashEvent","campaignId","consolidation","qualityReporting","tags","indexForDisplay","build.id","charts","issues","isC*"]},h()}])}(),function(){angular.module("CampaignReportingApp").service("testSet",["$q","arrayUtils","Tests","Issues","$modal","modalConfirmHelper","Notifier","Campaigns",function(a,b,c,d,e,f,g,h){var i={data:[],selection:[],setReloadFunction:function(a){i.reloadFunction=a},refIssueSelection:function(a){var b=a;void 0===a&&(b=i.reloadFunction),d.init(i.selection,"test",function(){return b()},function(a,b,d,e){var f={testId:a,id:b};return d&&(f.addComentInJira=!0),c.refIssue(f,{text:e})},null);var f=e.open({animation:!1,templateUrl:"app/issues/issue-ref-modal.html",controller:"issueRefModalCtrl",size:"lg"});f.result.then(function(a){if(i.selection&&a){var b={};a.forEach(function(a){a.forEach(function(a){b[a.key]=a})}),a=[],_.forIn(b,function(b){a.push(b)}),i.selection.forEach(function(b){b.issues=b.issues?b.issues:[],b.issues=b.issues.concat(_.differenceWith(a,b.issues,function(a,b){return a.key==b.key}))})}})},hideSelectionInReport:function(a){i._confirm(function(b){return c.update({id:b.id,isInReport:!a}).$promise},a?"hide":"show")},addCommentToSelection:function(){e.open({template:'<div class="modal-header"><h3 class="modal-title">Add Comment</h3></div><div class="modal-body"><comment-editor model="comment" placeholder="Leave a comment..." rows="10"></comment-editor></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()" ng-disabled="!comment.length">Add</button><button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$modalInstance",function(a,b){
a.cancel=function(){b.dismiss()},a.ok=function(){i._confirm(function(d){return b.close(),c.createComment({testId:d.id},{text:a.comment}).$promise},"add comment to")}}]})},changeVerdictSelection:function(){e.open({templateUrl:"app/tests/test-set-change-verdict.html",controller:["$scope","$modalInstance","TestConstant","Tests","modalConfirmHelper","Notifier",function(a,b,c,d,e,f){a.tests=i.selection,a.verdict=c.verdict.PASSED,a.verdicts=c.verdict,a.changeVerdict=function(b){a.verdict=b},a.cancel=function(){b.dismiss()},a.ok=function(){i._confirm(function(c){return b.close(),d.changeVerdict({testId:c.id,verdict:a.verdict},{text:a.reason})},"change verdict to")},a.close=function(){b.close()}}]})},_confirm:function(b,c){function d(){a.all(_.map(i.selection,function(a){return b(a)})).then(function(){i.reloadFunction(),g.success(i.selection.length+" tests updated")})}i.selection.length>1?f.confirm.confirmAction(d)(c+" "+i.selection.length+" selected tests"):d()},tagSelection:function(a){i.selection.forEach(function(b){void 0===b.tags&&(b.tags=[]);var c=b.tags.indexOf(a);c<0&&b.tags.push(a)}),c.tagBatch({ids:i.selectionIds(),tags:[a]})},untagSelection:function(a){i.selection.forEach(function(b){if(void 0!==b.tags){var c=b.tags.indexOf(a);c>-1&&b.tags.splice(c,1)}}),c.untagBatch({ids:i.selectionIds(),tags:[a]})},selectionCommonTags:function(){var a=[];return i.selection.forEach(function(b){_.isArray(b.tags)&&b.tags.length>0?a.push(b.tags):a.push([])}),0===a.length?[]:a.reduce(function(a,c,d,e){return b.intersection(a,c)})},selectionIds:function(){return i.selection.map(function(a){return a.id})},hasResult:function(a){var b=!1;return i.data.forEach(function(c){angular.isDefined(c.result)&&angular.isDefined(c.result[a])&&(b=!0)}),b},removeSelectedTestCase:function(a){var b=h.removeTestCases({campaignId:a},_.map(i.selection,"id")).$promise;return i.selection.splice(0,i.selection.length),b}};return i}])}(),function(){angular.module("CampaignReportingApp").factory("TestFiltersModel",["TestFacets","$log",function(a,b){function c(){return a.query({},function(a){w=a.results,f(w),g()}).$promise}function d(){return u}function e(){return v}function f(a){r=crossfilter(a),h(function(a){t[a]=r.dimension(function(b){return b[a]?b[a]:"Unknown"}),s[a]=t[a].group().reduceSum(function(a){return a.count})})}function g(){var a=function(a){return a.value>0},b={};h(function(c){b[c]=s[c].top(1/0).filter(a)}),u=b}function h(a){_.forEach(x,function(b){a(b.name)})}function i(a,b){var c=o(a);c.multi?v[a]=q(b):v[a]=p(b),n(a)}function j(a,b){v[a]||(v[a]=[]),v[a].push(b.key),n(a)}function k(a,b){_.remove(v[a],function(a){return a===b.key}),n(a)}function l(a){v[a]=null,t[a].filter(null),g()}function m(a){var b=o(a);return b.multi?v[a]:v[a].length>0?v[a][0]:null}function n(a){t[a].filterFunction(function(b){return!v[a]||0===v[a].length||_.includes(v[a],b)}),g()}function o(a){var c=x.filter(function(b){return b.name===a})[0];return c||b.error("Uknown filter field "+a),c}function p(a){return a?[a]:[]}function q(a){return a?a:[]}var r=null,s={},t={},u={},v={},w=[],x=[{name:"branch",multi:!0},{name:"targetProduct",multi:!0},{name:"targetDevice",multi:!0},{name:"buildType",multi:!0},{name:"benchName",multi:!0},{name:"tag",multi:!0}];return{setFilter:j,unsetFilter:k,loadFacets:c,initFilter:i,getFilter:m,getChoices:d,clearFilter:l,getFilters:e}}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.factory("testsGridDef",["validationUtils","uiGridConstants","TestConstant","uiGridFilters",function(a,b,c,d){return{getNewInstance:function(){return[{name:"campaignName",cellTemplate:'<div class="ui-grid-cell-contents"><a href="#/campaigns/{{row.entity.campaignId}}/detail">{{row.entity.campaignName}}</a></div>',width:200,enableSorting:!0,minWidth:150,enableCellEdit:!1},{name:"id",visible:!1,validateFilter:function(b){return!b||a.isValidObjectId(b)},filterValidationMessage:"The id must be valid, ie: 3d18519b-bec3-4553-9876-6e30c75df4a1",enableSorting:!0,width:100,minWidth:100,enableCellEdit:!1},{name:"useCase",visible:!1,enableSorting:!1,width:100,minWidth:100,enableCellEdit:!0},{name:"testCase",width:400,cellTemplate:'<div class="ui-grid-cell-contents"><span ng-if="grid.appScope.displayPaddingIteration && row.entity.depth > 0"><span ng-style="{\'padding-left\': row.entity.depth * 2 + \'em\'}"></span></span><a ng-href="#/tests/{{ row.entity.id }}/detail">{{row.entity.testCase}}</a><span ng-if="grid.appScope.depthToggled === true && row.entity._meta.nbChildren > 0">&nbsp;&nbsp;({{row.entity._meta.nbChildren}})</span><span ng-repeat="tag in row.entity.tags" class="label label-default">{{tag}}</span><span ng-if="row.entity.haveMtbfFailure" class="label label-danger">MTBF Failure</span><span ng-if="row.entity._meta.nbComments">&nbsp;<span class="text-muted glyphicon glyphicon-comment" tooltip="{{row.entity._meta.nbComments}} comment(s)" tooltip-placement="right""></span></span></div>',enableSorting:!0,minWidth:100,enableCellEdit:!1},{name:"attachments",headerCellTemplate:'<div class="ui-grid-cell-contents"><span class="glyphicon glyphicon-paperclip"></span></div>',cellTemplate:'<div class="ui-grid-cell-contents"><span ng-if="row.entity._meta.nbAttachments > 0" class="glyphicon glyphicon-paperclip"></span></div>',width:25,minWidth:25,maxWidth:25,enableFiltering:!1,enableSorting:!1},{name:"status",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-status input="row.entity.status" /></div>',width:100,filter:{type:"multiSelect",itemStyleFilter:"statusStyle",defaultValue:"All",list:_.map(_.toPairs(c.status),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0,minWidth:100,enableCellEdit:!1},{name:"verdict",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-verdict input="row.entity.verdict" /></div>',width:100,filter:{type:"multiSelect",itemStyleFilter:"verdictStyle",defaultValue:"All",list:_.map(_.toPairs(c.verdict),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0,minWidth:100,enableCellEdit:!1},{name:"lastTestVerdict",cellTemplate:'<div class="ui-grid-cell-contents text-center"><a href="#/tests/{{ row.entity.lastTestId }}/detail" target="_blank"><cr-verdict input="row.entity.lastTestVerdict" /></a></div>',width:100,minWidth:100,visible:!0,enableCellEdit:!1,enableFiltering:!1,enableSorting:!1},{name:"Issues",field:"issues.key",cellTemplate:'<div class="ui-grid-cell-contents"><div ng-repeat="issue in row.entity.issues" style="display:inline-block;"><a href="{{issue.url}}" target="_blank">{{issue.key}}</a>&nbsp;</div></div>',enableSorting:!1,visible:!0,enableFiltering:!0,enableCellEdit:!1},{name:"Phase",field:"phase",enableSorting:!1,visible:!0,enableFiltering:!0,width:70,enableCellEdit:!0,editableCellTemplate:"ui-grid/dropdownEditor",editDropdownValueLabel:"value",editDropdownIdLabel:"key",editDropdownOptionsArray:_.map(_.toPairs(c.phase),function(a){return{key:a[0],value:a[1]}})},{name:"creation",sort:{direction:b.DESC,priority:0},visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.creation | crdate}}</div>',enableFiltering:!0,cellTitle:"{{row.entity.creation | crdate}}",enableSorting:!0,width:100,minWidth:100,filter:{type:"datetime",prepend:"<strong>After</strong>&nbsp;"},filters:[{condition:b.filter.GREATER_THAN_OR_EQUAL}],enableCellEdit:!1},{name:"startTime",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.startTime | crdate}}</div>',width:100,filter:{type:"datetime",prepend:"<strong>After</strong>&nbsp;"},filters:[{condition:b.filter.GREATER_THAN_OR_EQUAL}],cellTitle:"{{row.entity.startTime | crdate}}",enableSorting:!0,minWidth:100,visible:!1},{name:"stopTime",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.stopTime | crdate}}</div>',width:100,filter:{type:"datetime",prepend:"<strong>Before</strong>&nbsp;"},filters:[{condition:b.filter.LESS_THAN_OR_EQUAL}],cellTitle:"{{row.entity.stopTime | crdate}}",enableSorting:!0,minWidth:100,visible:!1},{name:"lastModified",visible:!1,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.lastModified | crdate}}</div>',enableFiltering:!1,cellTitle:"{{row.entity.lastModified | crdate}}",enableSorting:!1,width:100,minWidth:100},{name:"duration",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.duration | customDuration }}</div>',width:160,filter:{type:"duration"},enableSorting:!1,minWidth:160},{name:"build.branch",displayName:"Branch",enableSorting:!0,width:100,minWidth:100,cellClass:"",enableCellEdit:!1},{name:"build.buildId",displayName:"Build Id",cellTemplate:'<div ng-if="row.entity.build.targetProduct" class="ui-grid-cell-contents text-center"><a ui-sref="home.build.report.campaigns({reportId: row.entity.build.buildId,targetProduct: row.entity.build.targetProduct})">{{row.entity.build.buildId}}</a></div><div ng-if="!row.entity.build.targetProduct" class="ui-grid-cell-contents text-center"><span>{{row.entity.build.buildId}}</span></div>',enableSorting:!0,width:100,minWidth:100,enableCellEdit:!1},{name:"build.tag.name",displayName:"Build tag",width:100,minWidth:100,enableCellEdit:!1,enableCellEdit:!1},{name:"build.targetProduct",displayName:"Target product",enableSorting:!0,width:100,minWidth:100,enableCellEdit:!1},{name:"bench.name",displayName:"Bench Name",enableSorting:!0,width:100,minWidth:100,enableCellEdit:!1},{name:"device.deviceId",displayName:"Device Id",cellTemplate:'<div class="ui-grid-cell-contents"><cr-device-id device-id="row.entity.device.deviceId" /></div>',width:120,enableSorting:!0,minWidth:120,enableCellEdit:!1},{name:"relativePath",visible:!1,width:100,minWidth:100},{name:"description",visible:!1,cellTemplate:'<div title="{{row.entity.description}}" class="ui-grid-cell-contents">{{row.entity.description}}</div>',enableSorting:!1,width:100,minWidth:100},{name:"parameters.businessSpecific",visible:!1,displayName:"Parameters",cellTemplate:'<div title="{{row.entity.parameters.businessSpecific}}" class="ui-grid-cell-contents">{{row.entity.parameters.businessSpecific}}</div>',enableSorting:!1,width:100,minWidth:100},{name:"Nb Tries",field:"nbTries",visible:!1,filters:[d.get("NUM")],enableFiltering:!0,enableSorting:!1,width:100,minWidth:100},{name:"Nb Events",field:"_meta.nbEvents",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"Nb Crashes",field:"_meta.nbCrashes",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"Nb Reboots",field:"_meta.nbReboots",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"Nb Attachments",field:"_meta.nbAttachments",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"Nb Children",field:"_meta.nbChildren",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"depth",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100,enableCellEdit:!1},{name:"result.PNP.verdict",displayName:"Pnp verdict",visible:!1,enableFiltering:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-status input="row.entity.result.PNP.verdict" /></div>',enableSorting:!1,width:100,minWidth:100,enableCellEdit:!1},{name:"qualityReporting.uploaded",displayName:"Uploaded in Quality Reporting",visible:!1,filter:{type:"list",defaultValue:"All",list:_.map(_.toPairs({PENDING:"PENDING",NA:"NA",FAILED:"FAILED",PASSED:"PASSED"}),function(a){return{key:a[0],label:a[1]}})},cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-uploaded-status input="row.entity.qualityReporting.uploaded" /></div>',enableSorting:!1,width:100,minWidth:100,enableCellEdit:!1},{name:"qualityReporting.uploadTime",displayName:"HPALM Upload Time",visible:!1,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.qualityReporting.uploadTime |duration}}</div>',cellTitle:"{{row.entity.qualityReporting.uploadTime|duration}}",enableSorting:!1,width:100,minWidth:100,enableCellEdit:!1},{name:"Team",field:"team",visible:!1,enableFiltering:!0,enableSorting:!0,filters:[{condition:b.filter.CONTAINS}],width:100,minWidth:100},{name:"detail",enableFiltering:!1,width:55,cellTemplate:'<div class="lead text-center"><cr-display-object-modal object="row.entity" options="getExternalScopes().detailModalOptions" /></div>',enableSorting:!1,minWidth:55,enableCellEdit:!1}]}}}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.factory("displayTestDef",function(){return[{name:"creation",template:"<span>{{property.value|crdate}}</span>"},{name:"campaignName",template:'<a href="#/campaigns/{{property.entity.campaignId}}/detail">{{property.value}}</a>'},{name:"lastModified",template:"<span>{{property.value|crdate}}</span>"},{name:"startTime",template:"<span>{{property.value|crdate}}</span>"},{name:"stopTime",template:"<span>{{property.value|crdate}}</span>"},{name:"duration",template:"<span>{{property.value|duration}}</span>"},{name:"status",template:'<cr-status input="property.value" />'},{name:"verdict",template:'<cr-verdict-update input="property.value" id="property.entity.id" />'},{name:"acceptance",template:'<cr-boolean input="property.value" />'},{name:"device.deviceId",template:'<cr-device-id device-id="property.value" />'},{name:"build.ingredientsJson",template:"<pre>{{property.value}}</pre>"},{name:"result.pnp.dstates",template:"<pre>{{property.value}}</pre>"},{name:"qualityReporting.link",template:'<a ng-href={{property.value}} target="_blank">{{property.value | truncate}}</a>'},{name:"signatureList",template:'<test-signature input="property.value"></test-signature>'}]})}(),function(){var a=angular.module("CampaignReportingApp");a.controller("PnpDetail",["$scope","Tests","test",function(a,b,c){var d=c.result.pnp,e=0;d.thermals&&angular.forEach(d.thermals.data,function(a){angular.isArray(a)&&(e=Math.max(e,a.length))}),a.thermalRuns=e,a.pnp=d;var f=[];b.get({testId:c.id,fields:"result.PNP.power"},function(b){var c=b.result.pnp.power;if(c){f.push({name:c.consumption.columns[1],data:c.consumption.raw});var d={options:{chart:{type:"spline",zoomType:"x"},xAxis:{title:{text:c.consumption.columns[0]}},yAxis:{title:{text:c.consumption.columns[1]}}},series:f,title:{text:"Power measurement"}};a.chartConfig=d}})}])}(),angular.module("CampaignReportingApp").service("TestTags",["$resource","restApiConfig",function(a,b){var c=b.URL+"/tests";return a(c+"/:testId/tags/:tagName",{testId:"@testId",tagName:"@tagName"})}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestResultsCtrl",["$scope","test","displayTestDef",function(a,b,c){a.displayTestResultsOptions={objectDef:c,excludedProperties:[]},a.displayTestResultsOptions.data={results:b.result}}])}(),angular.module("CampaignReportingApp").controller("TestChildGridCtrl",["$scope","$controller",function(a,b){b("CampaignTestsGridCtrl",{$scope:a}),a.displayPaddingIteration=!1,a.gridOptions.persistStateNamespace="test-child-grid",a.restOptions.externalCriteria={parentId:{"==":a.test.id}},console.log("TEST : "+a.test.id)}]),angular.module("CampaignReportingApp").service("TestUtils",["$httpParamSerializer","restApiConfig",function(a,b){function c(){return angular.copy(e)}function d(c,d){var f=angular.copy(c);f.field=d?d:e,f.offset=0,f.limit=2e4;var g=b.URL+"/tests/search/csv?"+a(f);return g}var e=["campaignName","testCase","status","verdict","build.branch","build.targetProduct","build.buildId","build.tag.name"];return{getDefaultFields:c,getExportCsvUrl:d}}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestsAddCtrl",["$scope","$timeout","$q","$document","OAuth2","TestConstant","Campaigns","Tests","Bugtracker","$http","restApiConfig","campaign","$modalInstance","Notifier","AppRequest","$controller","$modal",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){y()}function s(a){return Math.floor(100*a)/100}function t(b){a.alerts.splice(b,1)}function u(b){var c=b?b:{};v(c),a.tests.push(c)}function v(a){a.campaignId=l.id,a.build=l.build,a.status=f.status.COMPLETED}function w(){a.alerts=[],A(a.campaign)}function x(){m.dismiss("cancel")}function y(){a.progressValue=0,a.checkedTests=[],a.testcaseAddedCount=0,a.testcasesFailedCount=0}function z(a){return a.message?a.message:a.stackTrace?a.stackTrace:a}function A(b){var c=e.getSubject();null!==c&&(b.ModifyedBy=c.name+" "+c.lastname),g.update(b).$promise.then(function(c){angular.copy(c,b),a.alerts.push({type:"success",msg:"Campaign modified successfully: "}),D()},function(b){a.alerts.push({type:"danger",msg:"Failed to create campaign: "+z(b.data)})})}function B(){q.open({animation:!1,templateUrl:"app/quality-reporting/hpalm-testcase-selector-modal.html",controller:"HpalmTestCaseSelectorModalCtrl",size:"lg"}).result.then(function(a){a&&a.forEach(function(a){u(a)})})}function C(b,d){var e=angular.copy(b);return delete e.issues,delete e.comments,delete e.modifyFailed,delete e.errorMsg,e.campaignId=l.id,e.build=angular.copy(l.build),angular.isDefined(a.campaign.domain)&&(e.domain=angular.copy(l.domain)),angular.isDefined(a.campaign.type)&&(e.type=l.type),angular.isDefined(e.feature)&&""===e.feature.trim()&&delete e.feature,e.index=d,h.save(e).$promise.then(function(d){e.id=d.id,a.testcaseAddedCount++,b.modifyFailed=!1,a.testcaseAddedCount+a.testcasesFailedCount===a.checkedTests.length+1&&(a.testcasesFailedCount>0?a.alerts.push({type:"warning",msg:"Modification has completed but fail to create some test results."}):a.alerts.push({type:"success",msg:"All test results created successfully.",button:{doIt:a.closePopup,label:"Cancel the Modify / Delete the campaign",glyph:"glyphicon-remove"}})),a.progressValue=100*a.testcaseAddedCount/a.checkedTests.length,G++;var f=[];return b.issues&&f.push(E(d.id,b.issues)),b.comments&&f.push(h.createComment({testId:d.id},{text:b.comments}).$promise),c.all(f)},function(c){a.alerts.push({type:"danger",msg:"Failed to create test '"+e.testCase+"' (see details below).",button:{doIt:a.closePopup,label:"Cancel the Modify / Delete the campaign",glyph:"glyphicon-remove"}}),b.modifyFailed=!0,b.errorMsg=z(c.data),a.testcasesFailedCount++,G++})}function D(){G=_.get(o,"tests.totalCount"),a.testcaseAddedCount=0,a.testcasesFailedCount=0;var b=[];a.checkedTests.forEach(function(a){a.modifyFailed||b.push(C(a,G++))}),c.all(b).then(function(){var b=!1,c="";a.checkedTests.forEach(function(a){a.modifyFailed&&(c+=a.errorMsg+",",b=!0)}),""!==c&&(c=c.substring(0,c.length-1)+"."),b?n.error("Failed to store some test cases.\r\n"+c,"Error"):(n.success("Save change of campaign and add test cases sucessfully.","Success"),m.close())})["catch"](function(a){n.error(a.message,"Error")})}function E(a,b){b=b.split(",");var d=[];return b.forEach(function(b){var c={number:b};d.push(i.issues(c).$promise.then(function(b){if(null!==b&&angular.isDefined(b.id)){var c=b.id;return h.refIssue({testId:a,id:c},{})}}))}),c.all(d)}function F(){return a.checkedTests.every(function(a){return!a.importFailed})}angular.copy(l);a.campaign=l,a.alerts=[],a.round=s,a.closeAlert=t,a.openAddImportTestModal=B,a.importSelected=w,a.closePopup=x,a.passValidation=F,a.addTestCase=u,a.tests=[],a.checkedTests=[];var G=0;r()}])}(),angular.module("app.user").config(["$stateProvider",function(a){a.state("home.user",{url:"/user",templateUrl:"app/user/user.html",controller:"UserCtrl",breadcrumb:{name:"User"},views:{"":{templateUrl:"app/user/user.html",controller:"UserCtrl"},"content@home.user":{templateUrl:"app/user/user-content.html"}}}).state("home.user.teams",{url:"/teams",breadcrumb:{name:"Teams"},views:{"content@home.user":{templateUrl:"app/user/teams.html",controller:"UserTeamsCtrl"}}}).state("home.user.teams.team",{url:"/:teamName",breadcrumb:{name:"{{name}}"},views:{"content@home.user":{templateUrl:"app/user/team.html",controller:"UserTeamCtrl"}},resolve:{name:["$stateParams",function(a){return a.teamName}]}})}]),angular.module("app.user").controller("UserCtrl",["$scope","Subject",function(a,b){a.subject=b.getInfo(),a.$watch(b.getInfo,function(b,c){b!==c&&(a.subject=b)})}]),angular.module("app.user").service("UserProfile",["$http","restApiConfig",function(a,b){function c(){return a.get(e).then(function(a){d.profile=a.data}),d.profile}var d=this,e=b.URL+"/user/profile";return c(),d.get=function(){return d.profile||c(),d.profile},d.refresh=function(){return c()},d.isAdmin=function(a){var b=d.get();return!(!b.admins||b.admins.indexOf(a.name)===-1)},d.isOwner=function(a){var b=d.get();return a.user.wwid===b.wwid},this}]),angular.module("app.user").controller("UserTeamsCtrl",["$scope","Subject","$modal","UserGroups",function(a,b,c,d){function e(){d.getAll().$promise.then(function(b){a.teams=b})}a.subject=b.getInfo(),a.teams=[],e(),a.createTeam=function(){var a=c.open({animation:!1,templateUrl:"app/user/create-team-modal.html",controller:["$scope","$modalInstance","UserGroups","Notifier",function(a,b,c,d){a.cancel=function(){b.dismiss()},a.create=function(){c.create({name:a.name,description:a.description}).$promise.then(function(){d.success("Success!"),b.close()},function(){d.error('Team with name "'+a.name+'" already exists',"Failed to create Team")})}}]});a.result.then(function(){e()})}}]),angular.module("app.user").controller("UserTeamCtrl",["$scope","UserGroups","Notifier","modalConfirmHelper","name",function(a,b,c,d,e){function f(){b.get({group:e}).$promise.then(function(b){a.team=b,"owner"===a.team.role&&(a.isOwner=!0,a.isAdmin=!0),"admin"===a.team.role&&(a.isAdmin=!0),a.isOwner&&g(),h()})}function g(){b.getAdmins({group:e}).$promise.then(function(b){a.admins=b})}function h(){b.getMembers({group:e}).$promise.then(function(b){a.members=b})}function i(a){b.addAdmin({group:e},a).$promise.then(function(){c.success("Success"),f()})}function j(a){return d.confirm["delete"](function(){b.removeAdmin({group:e,wwid:a.wwid}).$promise.then(function(){c.success("Remove Successful"),f()})})("Administrator: "+a.lastname+", "+a.firstname),!1}function k(a){b.addMember({group:e},a).$promise.then(function(){c.success("Success"),h()})}function l(a){return d.confirm["delete"](function(){b.removeMember({group:e,wwid:a.wwid}).$promise.then(function(){c.success("Remove Successful"),h()})})("Member: "+a.lastname+", "+a.firstname),!1}a.isOwner=!1,a.isAdmin=!1,a.addAdmin=i,a.removeAdmin=j,a.addMember=k,a.removeMember=l,f()}]),angular.module("app.user").directive("teamFilter",["$localStorage","UserGroups",function(a,b){function c(b){function c(){e.enabled=b.enabled,e.team=b.team}var d=b.namespace+"_team_filter",e=_.get(a,d,{team:"",enabled:!1});a[d]=e,b.enabled=e.enabled,b.team=e.team,b.$watch("team",function(){c()})}return{restrict:"E",scope:{team:"=",namespace:"@"},templateUrl:"app/user/team-filter.html",link:c}}]),angular.module("app.user").directive("teamSelector",["UserGroups",function(a){function b(b){"true"!==b.allowClear&&(b.allowClear="false"),b.$watch("ngDisabled",function(a,c){a!==c&&(a?b.team="":b.useDefault&&(b.team=b.teams?b.teams[0]:""))}),b.teams=[],a.getAll().$promise.then(function(a){b.teams=_.map(a,function(a){return a.name})}),b.onSelect=function(a,c){b.team=a}}return{restrict:"E",scope:{team:"=",ngDisabled:"=",placeholder:"@",allowClear:"@",useDefault:"@"},templateUrl:"app/user/team-selector.html",link:b}}]),angular.module("app.usage-statistics").controller("UsageStatisticsCtrl",["$scope","UsageStatistics","IntelColors","LiveStream","UsageStatisticsChart","UsageStatisticsConstants",function(a,b,c,d,e,f){function g(){a.stopTime.setHours(a.stopTime.getHours(),0),a.startTime.setHours(a.startTime.getHours(),0),i(24)}function h(b){if(a.type=b,b!==f.type.FREESPACE){a.type+f.type.USAGESTATISTICS}a.printChart()}function i(b){a.startTime=new Date,a.stopTime=new Date,a.stopTime.setHours(a.stopTime.getHours(),0),a.startTime.setHours(a.startTime.getHours()-b,0),a.granularity=f.granularity.HOURLY,a.printChart()}function j(b){a.startTime=new Date,a.stopTime=new Date,a.stopTime.setHours(a.stopTime.getHours(),0),a.startTime.setMonth(a.startTime.getMonth(),a.startTime.getDate()-b),a.granularity=f.granularity.DAILY,a.printChart()}function k(b){a.startTime=new Date,a.stopTime=new Date,a.stopTime.setHours(a.stopTime.getHours(),0),a.startTime.setMonth(a.startTime.getMonth()-b,a.startTime.getDate()),a.granularity=f.granularity.DAILY,a.printChart()}function l(a,b,c){return b.getTime()-c.getTime()>=24*a*60*60*1e3}function m(){a.startTime.getTime()<a.stopTime.getTime()&&(a.stopTime.setHours(a.stopTime.getHours(),0),a.startTime.setHours(a.startTime.getHours(),0),a.nbDaysBetweenDateSup(5,a.stopTime,a.startTime)?a.granularity=f.granularity.DAILY:a.granularity=f.granularity.HOURLY,a.results=b.getToday({type:a.type,startd:Date.parse(a.startTime),stopd:Date.parse(a.stopTime),granularity:a.granularity},function(){a.series=[];var b,d="per";a.type!==f.type.FREESPACE&&(a.granularity===f.granularity.HOURLY?(b="spline",d+=" hour"):(b="bar",d+=" day"),e.constructDataSeries(a.results.raw,a.series,d,b,0,c.darkBlue,a.type)),a.granularity===f.granularity.DAILY&&e.constructDataSeries(a.results.cumulative,a.series,"Cumulative","areaspline",1,c.paleBlue,a.type);var g=e.getChartConfig(a.series,a.granularity,a.type,d);g.options.tooltip={formatter:function(){return e.tooltipBytes(this,a.granularity,a.type)}},a.type!==f.type.FREESPACE&&a.type!==f.type.ATTACHMENTSVOLUME||(g.options.yAxis[0].labels={formatter:function(){return e.axisBytesFormatter(this)}},g.options.yAxis[1].labels={formatter:function(){return e.axisBytesFormatter(this)}}),a.chartConfig=g}))}a.type=f.type.TEST,a.granularity=f.granularity.HOURLY,a.startTime=new Date,a.stopTime=new Date,a.results=[],a.series=[],a.printChart=m,a.lastNHours=i,a.lastNDays=j,a.lastNMonth=k,a.changeType=h,a.nbDaysBetweenDateSup=l,g()}]),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("usage-statistics",{url:"/usage-statistics",templateUrl:"app/usage-statistics/usage-statistics.html",controller:"UsageStatisticsCtrl"})}]),angular.module("app.quality-reporting").controller("QualityReportingCtrl",QualityReportingCtrl),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("quality-reporting",{url:"/quality-reporting",templateUrl:"app/quality-reporting/quality-reporting.html",controller:"QualityReportingCtrl"})}]).config(["$stateProvider",function(a){a.state("qr-import",{url:"/qr-import",templateUrl:"app/quality-reporting/qr-import.html",controller:"qrImportCtrl"})}]),angular.module("CampaignReportingApp").controller("retryCredentialsCtrl",["$scope","$modalInstance","credentials",function(a,b,c){function d(){}function e(){b.dismiss("cancel")}function f(){a.credentials={username:a.credentials.username,password:a.credentials.password,userMail:a.credentials.userMail},b.close(a.credentials)}a.credentials=c,a.cancel=e,a.confirm=f,d()}]),angular.module("CampaignReportingApp").controller("qrUploadModalCtrl",["$scope","$modalInstance","$controller","$stateParams","campaign","QualityReporting","Notifier",function(a,b,c,d,e,f,g){function h(){b.dismiss("cancel")}function i(){var c={username:a.qrInfo.username,campaignId:d.campaignId,password:a.qrInfo.password,domain:a.qrInfo.domain,project:a.qrInfo.project,instance:a.qrInfo.instance,testSet:a.qrInfo.testSet,folder:a.qrInfo.folder,sCookie:a.qrInfo.cookie,extend:a.qrInfo.extend};f.uploadCampaign(c).$promise.then(function(a){g.success("The upload will start soon, follow the campaign activities for more detail","Upload started",{allowHtml:!0,closeButton:!0})},function(a){g.error("Error: "+a.code+",</br> Reason: "+a.message,"Upload Failed to start",{allowHtml:!0,closeButton:!0})}),b.close(a.campaign)}a.campaign=e,a.qrInfo={extend:!0},a.cancel=h,a.upload=i}]),angular.module("CampaignReportingApp").controller("qrUploadReportModalCtrl",["$scope","$modalInstance","$httpParamSerializer","QualityReporting","Notifier","info",function(a,b,c,d,e,f){function g(){a.step=1}function h(b){var c=angular.copy(a.qrInfo);a.step=2,c.folder=null,c.testSet=a.qrInfo.folder,d.getSubFolders(c).$promise.then(function(c){a.qrInfo.cookie=c.sCookie;var d=[];_.each(c.context,function(a){if("testSet"===a.type){var b=a.name.split("\\");d.push(b.pop())}}),a.step=3,_.each(a.info.uploads,function(c){var e=b?b+c.title:c.title;c.folder=a.qrInfo.folder,c.testSet=e,_.unset(c,"error"),d.indexOf(e)<0?(c.error="Not Found",c.selected=!1):(c.selected=!0,a.step=4)})})}function i(){a.step=3,_.each(a.info.uploads,function(b){b.selected&&(a.step=4)})}function j(){b.dismiss("cancel")}function k(){var f=angular.copy(a.info);f.uploads=_.filter(f.uploads,function(a){return a.selected}),_.each(f.uploads,function(b){_.unset(b,"error"),_.unset(b,"selected"),b.username=a.qrInfo.username,b.password=a.qrInfo.password,b.domain=a.qrInfo.domain,b.project=a.qrInfo.project,b.instance=a.qrInfo.instance,b.queryString=c(b.query),b.extend=a.qrInfo.extend}),d.uploadReport(f).$promise.then(function(a){e.success("The report upload will start soon, follow the activities for more detail","Upload started",{allowHtml:!0,closeButton:!0}),b.close()},function(a){e.error("Error: "+a.code+",</br> Reason: "+a.message,"Upload Failed to start",{allowHtml:!0,closeButton:!0})})}a.qrInfo={extend:!1},a.info=f,a.step=0,a.chooseFolder=g,a.itemSelected=i,a.verify=h,a.cancel=j,a.upload=k}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.factory("qrTestsGridDef",["validationUtils","uiGridConstants","TestConstant",function(a,b,c){return{getNewInstance:function(){return[{name:"indexForDisplay",displayName:"Index",width:55,minWidth:55,visible:!0,enableSorting:!0,sort:{direction:b.ASC,priority:0},cellTemplate:'<div class="ui-grid-cell-contents">{{row.entity.indexForDisplay || row.entity.index}}</div>'},{name:"testCase",width:400,cellTemplate:'<div class="ui-grid-cell-contents"><span ng-if="grid.appScope.displayPaddingIteration && row.entity.depth > 0"><span ng-style="{\'padding-left\': row.entity.depth * 2 + \'em\'}"></span></span><a ng-href="#/tests/{{ row.entity.id }}/detail">{{row.entity.testCase}}</a><span ng-if="grid.appScope.depthToggled === true && row.entity._meta.nbChildren > 0">&nbsp;&nbsp;({{row.entity._meta.nbChildren}})</span><span ng-repeat="tag in row.entity.tags" class="label label-default">{{tag}}</span><span ng-if="row.entity.haveMtbfFailure" class="label label-danger">MTBF Failure</span></div>',enableSorting:!0,minWidth:100},{name:"status",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-status input="row.entity.status" /></div>',width:100,filter:{type:"list",defaultValue:"All",list:_.map(_.toPairs(c.status),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0,minWidth:100},{name:"verdict",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-verdict input="row.entity.verdict" /></div>',width:100,filter:{type:"list",defaultValue:"All",list:_.map(_.toPairs(c.verdict),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0,minWidth:100},{name:"startTime",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.startTime | crdate}}</div>',width:100,sort:{direction:b.DESC,priority:0},filter:{type:"datetime",prepend:"<strong>After</strong>&nbsp;"},filters:[{condition:b.filter.GREATER_THAN_OR_EQUAL}],cellTitle:"{{row.entity.startTime | crdate}}",enableSorting:!0,minWidth:100},{name:"duration",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.duration|duration}}</div>',width:160,filter:{type:"duration"},cellTitle:"{{row.entity.duration|duration}}",enableSorting:!1,minWidth:160},{name:"Issues",field:"issues.key",cellTemplate:'<div class="ui-grid-cell-contents"><div ng-repeat="issue in row.entity.issues" style="display:inline-block;"><a href="{{issue.url}}" target="_blank">{{issue.key}}</a>&nbsp;</div></div>',enableSorting:!1,visible:!0,enableFiltering:!0},{name:"testerName",displayName:"Tester Name",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.testerName}}</div>',
enableSorting:!1,width:100,minWidth:100},{name:"TestSet",displayName:"Test Set",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.testSet}}</div>',enableSorting:!1,width:100,minWidth:100},{name:"Folder",displayName:"Folder",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.folder}}</div>',enableSorting:!1,width:100,minWidth:100},{name:"qualityReporting.uploaded",displayName:"Uploaded in Quality Reporting",visible:!0,filter:{type:"list",defaultValue:"All",list:_.map(_.toPairs({PENDING:"PENDING",NA:"NA",FAILED:"FAILED",PASSED:"PASSED"}),function(a){return{key:a[1],label:a[0]}})},cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-uploaded-status input="row.entity.qualityReporting.uploaded" /></div>',enableSorting:!1,width:100,minWidth:100},{name:"detail",enableFiltering:!1,width:55,cellTemplate:'<div class="lead text-center"><cr-display-object-modal object="row.entity" options="getExternalScopes().detailModalOptions" /></div>',enableSorting:!1,minWidth:55}]}}}])}(),angular.module("CampaignReportingApp").directive("qrTestsetSelect",qrTestsetSelect),angular.module("CampaignReportingApp").controller("qrImportCtrl",qrImportCtrl);var module=angular.module("CampaignReportingApp");module.controller("HpalmTestCaseSelectorModalCtrl",["QualityReporting","Notifier","$scope","$modalInstance","$interval",function(a,b,c,d,e){c.qrInfo={},c.tests,c.progressValue=0,c["import"]=function(){c.progressValue=10;var f=e(function(){c.progressValue<90?c.progressValue+=10*Math.random():e.cancel(f)},500);a.download(c.qrInfo).$promise.then(function(a){c.progressValue=100,c.tests=a.tests,c.tests.length>0?b.success(a.tests.length+" test cases imported!","Import Testset Success"):b.warning("No test cases found, please select a valid TestSet"),d.close(c.tests)})},c.cancel=function(){d.dismiss("cancel")}}]),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("tags",{"abstract":!0,templateUrl:"app/tags/tags.html"}).state("tags.list",{url:"/tags",templateUrl:"app/tags/tags-list.html",controller:"TagsListCtrl"})}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TagsListCtrl",function(){})}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TagsGridCtrl",["$scope","$controller","collectionSearch","Tags",function(a,b,c,d){b("RestGridCtrl",{$scope:a});var e=a.gridOptions.onRegisterApi;a.gridOptions.onRegisterApi=function(b){e(b),b.rowEdit.on.saveRow(a,function(a){var c=d.update(a).$promise;b.rowEdit.setSavePromise(a,c)})},a.gridOptions.columnDefs=[{name:"name"},{name:"count",enableCellEdit:!1,filter:{transformTerm:parseInt}}],a.gridOptions.persistStateNamespace="tags-grid",a.restOptions.sort.push("+id,-count"),a.restOptions.resource=c("tags"),a.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),angular.forEach(a.gridOptions.columnDefs,function(a){a.minWidth=100})}])}(),angular.module("CampaignReportingApp").service("Tags",["$resource","restApiConfig",function(a,b){var c=b.URL+"/tags";return a(c+"/:tagName",{tagName:"@name",id:"@id"},{names:{url:c+"/names",isArray:!0},mostUsed:{url:c+"/most-used",isArray:!0},update:{url:c+"/:id",method:"PUT"},query:{isArray:!1}})}]),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("campaignsFiltered",{url:"/campaigns?filters",templateUrl:"app/campaigns/campaigns.html",controller:"CampaignsCtrl"}).state("campaign",{url:"/campaigns/:campaignId",resolve:{campaign:["$stateParams","Campaigns",function(a,b){return b.get({campaignId:a.campaignId}).$promise}]},controller:"CampaignCtrl",templateUrl:"app/campaigns/campaign.html","abstract":!0,breadcrumb:[{name:"Campaigns",proxy:"campaignsFiltered"},{name:"{{campaign.name}}",enableHistory:!0}]}).state("campaign.detail",{url:"/detail",resolve:{campaign:["campaign",function(a){return a}]},title:"Campaign {{campaign.name}}",views:{properties:{templateUrl:"app/campaigns/campaign.properties.html",controller:"CampaignPropertiesCtrl"},"crossfilter-tests":{templateUrl:"app/campaigns/campaign.testcases.html",controller:"CampaignTestCasesCtrl"},tests:{templateUrl:"app/campaigns/campaign.tests.html",controller:"CampaignTestsGridCtrl"},diffTests:{templateUrl:"app/campaigns/campaign.difftests.html",controller:"CampaignDiffTestsGridCtrl"},"pnp-results":{templateUrl:"app/campaigns/pnp-results.html",controller:"PnpResults as pnpResults"},results:{templateUrl:"app/campaigns/campaign-results.html",controller:"CampaignResultsCtrl"},attachments:{templateUrl:"app/attachments/attachments.view.html",controller:"AttachmentsCtrl",resolve:{attachments:["Campaigns","$stateParams",function(a,b){return a.getAttachments({campaignId:b.campaignId})}],downloadAllUrl:["$stateParams",function(a){return"/attachments/zip/"+a.campaignId}]}},comments:{templateUrl:"app/comments/comments.view.html",controller:"CommentsCtrl"},seLinux:{templateUrl:"app/seLinux/seLinux.view.html",controller:"SeLinuxCtrl",resolve:{campaign:["$stateParams","Campaigns",function(a,b){return b.get({campaignId:a.campaignId}).$promise}]}},activities:{templateUrl:"app/activities/activities.view.html",controller:"ActivitiesCtrl"},events:{templateUrl:"app/events/events.view.html",controller:"EventsCtrl"},reports:{templateUrl:"app/campaigns/campaign-reports.view.html",controller:"CampaignReportsCtrl"},tasks:{templateUrl:"app/campaigns/campaign-tasks.html",controller:"CampaignTasksCtrl"},charts:{templateUrl:"app/charts/charts.view.html",controller:"ChartsCtrl"},cts:{templateUrl:"app/cts/cts-result.view.html",controller:"CTSResultCtrl"}}}).state("campaign.detail.crossfiltertests",{url:"/crossfiltertests"}).state("campaign.detail.diffTests",{url:"/diffTests"}).state("campaign.detail.tests",{url:"/tests"}).state("campaign.detail.pnpresults",{url:"/pnpresults"}).state("campaign.detail.results",{url:"/results"}).state("campaign.detail.attachments",{url:"/attachments"}).state("campaign.detail.comments",{url:"/comments"}).state("campaign.detail.seLinux",{url:"/seLinux"}).state("campaign.detail.activities",{url:"/activities"}).state("campaign.detail.events",{url:"/events"}).state("campaign.detail.reports",{url:"/reports"}).state("campaign.detail.tasks",{url:"/tasks"}).state("campaign.detail.charts",{url:"/charts"}).state("campaign.detail.cts",{url:"/cts"})}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignsCtrl",[function(){}]),a.controller("CampaignsGridCtrl",["$scope","$controller","$stateParams","collectionSearch","campaignDisplayDef","campaignGridColumnDefs","restApiConfig","CampaignLive","LiveStream","WidgetModals",function(a,b,c,d,e,f,g,h,i,j){function k(){var b=[],c=0;a.$watch("gridOptions.data",function(d,e){e!==d&&(h.unfollow(b),d&&(b=h.follow(d)),c=0,a.newResultCount=0)}),a.$on("$destroy",function(){h.unfollow(b)}),a.newCampaignCount=0,i.addTopicListener("campaign_count",function(b){c>0?a.newResultCount=b-c:(c=b,a.newResultCount=1)}),a.$on("$destroy",function(){i.removeTopicListener("campaign_count")})}b("RestGridCtrl",{$scope:a}),a.exportCsvUrl=g.URL+"/campaigns/csv",a.resetColumns=function(){a.resetGridColumns()};var l={title:function(a){return"Detail of campaign "+(a.name?a.name:"")},objectDef:e};a.cellScope={detailModalOptions:l},a.restOptions.resource=d("campaigns"),a.gridOptions.columnDefs=f,a.gridOptions.persistStateNamespace="campaign-grid",a.gridOptions.chooseColumnsExclude=["_meta.*","readOnly","lastTest.readOnly"],a.selection=[];var m=a.gridOptions.onRegisterApi;a.gridOptions.onRegisterApi=function(b){m(b),void 0!==b.selection&&(b.selection.on.rowSelectionChanged(a,function(c){a.selection=b.selection.getSelectedRows()}),b.selection.on.rowSelectionChangedBatch(a,function(c,d){a.selection=b.selection.getSelectedRows()}))},a.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),angular.forEach(a.gridOptions.columnDefs,function(a){a.minWidth=100}),a.$watch("team",function(b){b?a.restOptions.externalCriteria.team={"==":b}:delete a.restOptions.externalCriteria.team}),a.openCompare=function(){j.openDiffCampaigns(a.selection)},k()}])}(),angular.module("CampaignReportingApp").controller("mtbfNewModalCtrl",["$scope","$modalInstance","Campaigns","OAuth2","Notifier","campaign","certify","canCertify","canDecertify","accessManagementConfig",function(a,b,c,d,e,f,g,h,i,j){function k(){}function l(){b.dismiss("cancel")}function m(){a.certify?c.certify({campaignId:a.campaign.id,type:a.selectedType},{}).$promise.then(function(){b.close(a.campaign)}):c.decertify({campaignId:a.campaign.id},{}).$promise.then(function(){b.close(a.campaign)})}a.campaign=f,a.certify=g,a.canCertify=h,a.canDecertify=i,a.subject=d.getSubject(),a.cancel=l,a.confirm=m,a.accessRequestUrls=j.requestUrls,k()}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignCtrl",["$rootScope","$scope","$state","$modal","$window","Notifier","testSet","Campaigns","CampaignModel","campaign","Comments","restApiConfig","Events","EventsUtil","Reports","Charts","Activities","Tasks","dataExportService","TestConstant","QualityReporting","CampaignLive","$timeout","ActivitiesLive","AppEventConstant",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){function z(a){a?V.splice(a,1):V.splice(0)}function A(){return j.name===U.name?void B():j.name.length<1?void V.push({type:"danger",msg:"The campaign name should not be empty."}):(z(),b.campaignNamePopover.isOpen=!1,void h.changename({campaignId:j.id,name:j.name},{}).$promise.then(function(a){angular.copy(a,j),angular.copy(a,U)}))}function B(){b.campaignNamePopover.isOpen=!1,j.name=U.name,z()}function C(){i.setCampaign(j),x.follow("Campaign",j.id),g.data=[],b.selinux=void 0!==j.parsing?j.parsing.selinux:[],m.events=[],m.init(j._meta),b.hasPnpResults=_.includes(j.resultTypes,t.resultTypes.PNP),b.attachmentsCount=_.get(j,"_meta.nbAttachments",0),k.count=_.get(j,"_meta.nbComments",0),p.count=_.get(j,"charts.length",0),b.cts=_.get(j,"cts"),o.init(j),b.activitiesService.init(function(){return h.activities({campaignId:j.id})},b.retry),E(),D(j),F()}function D(a){var c=v.follow(a);b.$on("$destroy",function(){v.unfollow(c)})}function E(){c.is("campaign.detail.events")&&(b.activeTab={events:!0}),c.is("campaign.detail.crossfiltertests")&&(b.activeTab={crossfiltertests:!0}),c.is("campaign.detail.tests")&&(b.activeTab={tests:!0}),c.is("campaign.detail.pnpresults")&&(b.activeTab={pnpresults:!0}),c.is("campaign.detail.results")&&(b.activeTab={results:!0}),c.is("campaign.detail.attachments")&&(b.activeTab={attachments:!0}),c.is("campaign.detail.comments")&&(b.activeTab={comments:!0}),c.is("campaign.detail.reports")&&(b.activeTab={reports:!0}),c.is("campaign.detail.tasks")&&(b.activeTab={tasks:!0}),c.is("campaign.detail.charts")&&(b.activeTab={charts:!0}),c.is("campaign.detail.activities")&&(b.activeTab={activities:!0}),c.is("campaign.detail.seLinux")&&(b.activeTab={seLinux:!0}),c.is("campaign.detail.cts")&&(b.activeTab={cts:!0}),c.is("campaign.detail.diffTests")&&(b.activeTab={diffTests:!0})}function F(){q.loadActivities(b.retry)}function G(){o.loadData()}function H(){g.data.length||h.getTests({campaignId:j.id},function(a){g.data=a})}function I(){b.selinux.length>0&&(b.selinux=_.sortBy(b.selinux,function(a){return-a.occurences}))}function J(a){b.selinux=_.sortBy(j.parsing.selinux,function(a){return-a.occurences}),""!==a&&(b.selinux=_.filter(b.selinux,function(b){for(var c in b.error)if(b.error[c].indexOf(a)>-1)return!0;return!1}))}function K(){k.resourceId!==j.id&&(k.resourceId=j.id,k.comments=h.comments({campaignId:j.id}),k.createNewComment=function(a){return h.createComment({campaignId:j.id},{text:a}).$promise},k.updateComment=function(a){return h.updateComment({campaignId:j.id},{text:a.text,id:a.id}).$promise},k.deleteComment=function(a){return h.deleteComment({campaignId:j.id,id:a.id}).$promise})}function L(){h.charts({campaignId:j.id}).$promise.then(function(a){a&&a.totalCount>0&&p.setCharts(a.results)})}function M(a){a&&(m.resource=j,m.events=[],m.allEvents=[],m.groups=[],m.displayTest=!0),N(0),m.createNewEvent=null}function N(a){var c=h.getCrashEvents({campaignId:j.id,offset:a,limit:b.eventLimit,quickFilter:b.eventsService.quickFilter,onlyCritical:b.eventsService.onlyCritical});c.$promise.then(function(){c instanceof Array&&c.length>0&&(n.formatEvents(c),n.consolidateEvents(c,function(d){m.allEvents=m.allEvents.concat(c),O(m.allEvents),c.length===b.eventLimit?(b.eventGroupingProgress=m.allEvents.length/j._meta.nbEvents,N(a+b.eventLimit)):b.eventGroupingProgress=1,0===a&&P()}))})}function O(a){var b=crossfilter(a),c=b.dimension(function(a){return'{"data0":"'+a.data0+'","data1":"'+a.data1+'","data2":"'+a.data2+'","type":"'+a.type+'", "event": "'+a.event+'"}'}),d=c.group().all();_.each(d,function(a){c.filterExact(a.key),a.first=c.top(1)[0]}),m.groups=_.sortBy(d,function(a){return a.value}).reverse()}function P(){b.eventsDisplayed+=b.eventDisplayStep,m.events=m.allEvents.slice(0,b.eventsDisplayed),b.eventHasMore=m.events.length<j._meta.nbEvents}function Q(){b.filterTestSelected=!0}function R(){b.testUrl=l.URL+"/tests/csv";var a={sort:"+indexForDisplay,-startTime",query:{campaignId:j.id},fields:"campaignName,testCase,startTime,stopTime,duration,status,verdict"};b.testUrl+="?fields="+a.fields,b.testUrl+="&query="+encodeURIComponent(JSON.stringify(a.query)),b.testUrl+=("&sort="+a.sort).replace("+",""),e.location=b.testUrl}function S(){b.testCasesUrl=l.URL+"/tests/group/csv";var a={campaignId:j.id,fields:"index,testCase,passrate,nbFails,nbBlocks,nbTests"};b.testCasesUrl+="?fields="+a.fields,b.testCasesUrl+="&campaignId="+a.campaignId,e.location=b.testCasesUrl}function T(){d.open({animation:!1,templateUrl:"app/quality-reporting/qr-upload-modal.html",controller:"qrUploadModalCtrl",size:"lg",resolve:{campaign:function(){return j}}}).result.then(function(){w(function(){i.loadTasks()},1e3)})}b.hasPnpResults=!1,b.attachmentsCount=0,b.commentService=k,b.eventsService=m,b.reportsService=o,b.chartService=p,b.activitiesService=q,b.testCasesUrl=l.URL+"/tests/group/csv",b.testUrl=l.URL+"/tests/csv",b.eventDisplayStep=25,b.eventsDisplayed=0,b.eventLimit=50,b.eventHasMore=!1,b.selinux=[],b.eventGroupingProgress=0,b.seLinuxQuickFilter="",b.cts,b.openPnpResults=H,b.loadComments=K,b.loadSeLinux=I,b.loadCharts=L,b.loadTestCases=Q,b.loadEvents=M,b.getTestsCsvUrl=R,b.getTestCasesCsvUrl=S,b.displayReports=G,b.loadActivities=F,b.retry=T,b.getMoreEvent=P,b.submitSeLinuxSearch=J,b.changeName=A,b.cancelChangeName=B,b.campaignNamePopover={templateUrl:"app/campaigns/campaign.changename.html",title:"Type new name of campaign",isOpen:!1};var U=angular.copy(j),V=[];b.alerts=V,b.closeAlert=z,C(),b.$on("$destroy",function(){x.unfollow()}),b.$on(y.campaign.TAB_ACTIVE,function(){E()})}])}(),angular.module("CampaignReportingApp").factory("CampaignModel",CampaignModel),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignPropertiesCtrl",["$scope","$state","$modal","$stateParams","Campaigns","CampaignModel","campaignDisplayDef","campaign","Builds","crashtool","SecurityUtils","SecurityConstant","modalConfirmHelper","Notifier","$timeout","ActivitiesLive","AppEventConstant",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){w(),s(),h.ACS&&h.ACS.awrUrl&&(h.AwrReport=h.ACS.awrUrl),angular.isDefined(h.domains)&&0===h.domains.length&&(h.domains=null),angular.isDefined(h.testTypes)&&0===h.testTypes.length&&(h.testTypes=null),e.getPermissions({campaignId:h.id}).$promise.then(function(b){a.campaign._security=b,a.canEdit=!k.hasPermission(h,l.perms.READ_ONLY),a.canCertify=k.hasPermission(h,l.perms.CERTIFY),a.canDecertify=k.hasPermission(h,l.perms.DECERTIFY)})}function s(){var b=function(b){a.progress={completed:_.get(b,"rates.doneInLeafs",0),total:_.get(b,"rates.leafs",0)}};a.$watch("campaign._meta",function(a,c){a!==c&&b(a)}),b(a.campaign._meta)}function t(){var c="the campaign "+a.campaign.name;m.confirm["delete"](function(a){e.deleteCampaign({campaignId:a.id},{},function(){n.success("Campaign deleted","Success"),b.go("campaignsFiltered",{location:!0,reload:!0})},function(a){n.error("Error: "+a.data.code+",</br> Reason: "+a.data.message,"Failure",{allowHtml:!0})})})(c,a.campaign)}function u(){m.confirm.confirmAction(function(){e.removeInReport({campaignId:a.campaign.id},{},function(b){a.campaign=b,n.success("Campaign hidden in all reports","Success")},function(a){n.error("Error: "+a.data.code+",</br> Reason: "+a.data.message,"Failure",{allowHtml:!0})})})("hide this campaign in all reports")}function v(){m.confirm.confirmAction(function(){e.showInReport({campaignId:a.campaign.id},{},function(b){a.campaign=b,n.success("Campaign will show in reports","Success")},function(a){n.error("Error: "+a.data.code+",</br> Reason: "+a.data.message,"Failure",{allowHtml:!0})})})("show this campaign in all reports")}function w(){h.general={},h.bench&&h.bench.name&&(h.general.benchName=h.bench.name),h.device&&(h.device.deviceId&&(h.general.deviceId=h.device.deviceId),h.device.ssn&&(h.general.deviceSsn=h.device.ssn)),x()}function x(){h.general.buildId="undefined",h.build&&(h.general.buildId=h.build.buildId,h.build.id?i.get({id:h.build.id}).$promise.then(function(a){a.creation&&delete a.creation,a.lastModified&&delete a.lastModified,h.build=a,h.build.buildId&&(h.general.buildId=h.build.buildId),y()}):(e.getRawBuild({campaignId:h.id}).$promise.then(function(a){h.build.buildId&&(h.build=a,h.general.buildId=h.build.buildId)}),y()))}function y(){a.displayCampaignOptions.data=angular.copy(h)}function z(){c.open({animation:!1,templateUrl:"app/campaigns/mtbf-new-modal.html",controller:"mtbfNewModalCtrl",size:"md",resolve:{canCertify:function(){return a.canCertify},canDecertify:function(){return a.canDecertify},certify:function(){return!0},campaign:function(){return a.campaign}}}).result.then(function(){b.reload()})}function A(){c.open({animation:!1,templateUrl:"app/campaigns/mtbf-new-modal.html",controller:"mtbfNewModalCtrl",size:"md",resolve:{canCertify:function(){return a.canCertify},canDecertify:function(){return a.canDecertify},certify:function(){return!1},campaign:function(){return a.campaign}}}).result.then(function(){b.reload()})}function B(){c.open({animation:!1,templateUrl:"app/quality-reporting/qr-upload-modal.html",controller:"qrUploadModalCtrl",size:"lg",resolve:{campaign:function(){return a.campaign}}}).result.then(function(){b.go("campaign.detail.tasks"),o(function(){f.loadTasks(),a.$emit(q.campaign.TAB_ACTIVE)},1e3)})}function C(){c.open({animation:!1,templateUrl:"app/campaigns/campaign-add-to-report-modal.html",controller:"CampaignAddToReportModalCtrl",size:"lg",resolve:{campaign:function(){return a.campaign}}}).result.then(function(){b.reload()})}function D(){c.open({animation:!1,templateUrl:"app/campaigns/campaign-add-to-project-modal.html",controller:"CampaignAddToProjectModalCtrl",size:"lg",resolve:{campaign:function(){return a.campaign}}}).result.then(function(){b.reload()})}a.campaign=h,a.openCertifyPopUp=z,a.openDecertifyPopUp=A,a.openHPQCModal=B,a.removeInReport=u,a.showInReport=v,a.deleteCampaign=t,a.activitiesLive=p,a.openAddToReportModal=C,a.openAddToProjectModal=D,a.progress={},a.canEdit=void 0,a.displayCampaignOptions={objectDef:g.create(),excludedProperties:["creation","name","status","verdict","types","domains","lastModified","id","engine","startTime","stopTime","duration","rtff","lastTestUpdate","qualityReporting","ACS","results","crashEvent","indexForDisplay","lastTest","build.id","charts","tasks","is*","resultTypes","rtffData","cts","parsing"],data:h},r()}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignTestsGridCtrl",["$scope","$controller","$stateParams","uiGridConstants","$localStorage","TestLive","campaign","Campaigns",function(a,b,c,d,e,f,g,h){function i(){j(),k()}function j(){a.campaign=g,b("TestsGridCtrl",{$scope:a});var f=a.gridOptions.columnDefs.filter(function(a){return"campaignId"===a.name||"campaignName"===a.name});_.forEach(f,function(b){var c=a.gridOptions.columnDefs.indexOf(b);a.gridOptions.columnDefs.splice(c,1)}),a.displayPaddingIteration=!0,a.gridOptions.chooseColumnsExclude.push("campaignId"),a.gridOptions.chooseColumnsExclude.push("campaignName"),a.gridOptions.chooseColumnsExclude.push("_meta.*"),a.gridOptions.chooseColumnsExclude.push("lastTestUpdate"),a.gridOptions.chooseColumnsExclude.push("readOnly"),a.gridOptions.persistStateNamespace="campaign-test-grid",a.restOptions.externalCriteria={campaignId:c.campaignId},a.restOptions.ignoredChanges=["lastTestVerdict","lastTestId"],a.restOptions.addAfterLoadDataListener(function(){return h.getHistoricaltestcase({campaignId:g.id},{tests:_.map(a.gridOptions.data,function(a){return{id:a.id,testCase:a.testCase}})}).$promise.then(function(b){if(!_.isEmpty(b)){var c=b.testsMap;a.gridOptions.data&&a.gridOptions.data.forEach(function(a){c&&c[a.id]&&(a.lastTestVerdict=c[a.id].verdict,a.lastTestId=c[a.id].id)})}})}),_.forEach(a.gridOptions.columnDefs,function(a){delete a.sort}),a.gridOptions.columnDefs.unshift({name:"indexForDisplay",displayName:"Index",width:55,minWidth:55,visible:!0,enableSorting:!0,sort:{direction:d.ASC,priority:0},cellTemplate:'<div class="ui-grid-cell-contents">{{row.entity.indexForDisplay || row.entity.index}}</div>'}),a.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),angular.forEach(a.gridOptions.columnDefs,function(a){a.minWidth=100}),(a.depthToggled=e.depthToggled||!1)&&(a.restOptions.externalCriteria.depth={"==":0}),a.toggleDepth=function(){a.depthToggled?a.restOptions.externalCriteria.depth={"==":0}:delete a.restOptions.externalCriteria.depth,e.depthToggled=a.depthToggled}}function k(){var b=[];a.$watch("gridOptions.data",function(a,c){c!==a&&(f.unfollow(b),a&&(b=f.follow(a)))}),a.$on("$destroy",function(){f.unfollow(b)})}i()}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignDiffTestsGridCtrl",["$scope","$controller","$stateParams","uiGridConstants","$localStorage","TestLive","campaign","Campaigns",function(a,b,c,d,e,f,g,h){function i(){j(),k()}function j(){function f(){_.remove(a.gridOptions.data,function(a){return a.verdict==a.lastTestVerdict})}a.campaign=g,b("TestsGridCtrl",{$scope:a});var i=a.gridOptions.columnDefs.filter(function(a){return"campaignId"===a.name||"campaignName"===a.name});_.forEach(i,function(b){var c=a.gridOptions.columnDefs.indexOf(b);a.gridOptions.columnDefs.splice(c,1)}),a.displayPaddingIteration=!0,a.gridOptions.chooseColumnsExclude.push("campaignId"),a.gridOptions.chooseColumnsExclude.push("campaignName"),a.gridOptions.chooseColumnsExclude.push("_meta.*"),a.gridOptions.chooseColumnsExclude.push("lastTestUpdate"),a.gridOptions.chooseColumnsExclude.push("readOnly"),a.gridOptions.persistStateNamespace="campaign-test-grid",a.restOptions.externalCriteria={campaignId:c.campaignId},a.restOptions.ignoredChanges=["lastTestVerdict","lastTestId"],a.restOptions.addAfterLoadDataListener(function(){return h.getHistoricaltestcase({campaignId:g.id},{tests:_.map(a.gridOptions.data,function(a){return{id:a.id,testCase:a.testCase}})}).$promise.then(function(b){if(!_.isEmpty(b)){var c=b.testsMap;a.gridOptions.data&&(a.gridOptions.data.forEach(function(a){c&&c[a.id]&&(a.lastTestVerdict=c[a.id].verdict,a.lastTestId=c[a.id].id)}),f())}})}),_.forEach(a.gridOptions.columnDefs,function(a){delete a.sort}),a.gridOptions.columnDefs.unshift({name:"indexForDisplay",displayName:"Index",width:55,minWidth:55,visible:!0,enableSorting:!0,sort:{direction:d.ASC,priority:0},cellTemplate:'<div class="ui-grid-cell-contents">{{row.entity.indexForDisplay || row.entity.index}}</div>'}),a.$watch("gridOptions.columnDefs",function(a,b){angular.forEach(a,function(a){a.minWidth=100})}),angular.forEach(a.gridOptions.columnDefs,function(a){a.minWidth=100}),(a.depthToggled=e.depthToggled||!1)&&(a.restOptions.externalCriteria.depth={"==":0}),a.toggleDepth=function(){a.depthToggled?a.restOptions.externalCriteria.depth={"==":0}:delete a.restOptions.externalCriteria.depth,e.depthToggled=a.depthToggled}}function k(){var b=[];a.$watch("gridOptions.data",function(a,c){c!==a&&(f.unfollow(b),a&&(b=f.follow(a)))}),a.$on("$destroy",function(){f.unfollow(b)})}i()}])}(),function(){angular.module("CampaignReportingApp").factory("campaignGridColumnDefs",["validationUtils","uiGridConstants","TestConstant","uiGridFilters",function(a,b,c,d){return[{name:"id",visible:!1,validateFilter:function(b){return!b||a.isValidObjectId(b)},filterValidationMessage:"The id must be valid, ie: 3d18519b-bec3-4553-9876-6e30c75df4a1",enableSorting:!0},{name:"name",cellTemplate:'<div class="ui-grid-cell-contents"><a href="#/campaigns/{{ row.entity.id }}/detail">{{row.entity.name}}</a><private-icon ng-if="row.entity.isPrivate" class="pull-right" /></div>',width:250,minWidth:100,enableSorting:!0},{name:"attachments",headerCellTemplate:'<div class="ui-grid-cell-contents"><span class="glyphicon glyphicon-paperclip"></span></div>',cellTemplate:'<div class="ui-grid-cell-contents"><span ng-if="row.entity._meta.nbAttachments > 0" class="glyphicon glyphicon-paperclip"></span></div>',width:25,minWidth:25,maxWidth:25,enableFiltering:!1,enableSorting:!1},{name:"status",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-status input="row.entity.status" /></div>',width:100,minWidth:100,filter:{type:"multiSelect",defaultValue:"All",itemStyleFilter:"statusStyle",list:_.map(_.toPairs(c.status),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0},{name:"verdict",cellTemplate:'<div class="ui-grid-cell-contents text-center"><cr-verdict input="row.entity.verdict" /></div>',width:100,minWidth:100,filter:{type:"multiSelect",itemStyleFilter:"verdictStyle",defaultValue:"All",list:_.map(_.toPairs(c.verdict),function(a){return{key:a[0],label:a[0]}})},enableSorting:!0},{name:"creation",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.creation | crdate}}</div>',width:150,minWidth:100,enableFiltering:!0,cellTitle:"{{row.entity.creation|crdate}}",enableSorting:!0,sort:{direction:b.DESC,priority:0},filter:{type:"datetime",prepend:"<strong>After</strong>&nbsp;"},filters:[{condition:b.filter.GREATER_THAN_OR_EQUAL}]},{name:"startTime",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.startTime | crdate}}</div>',width:150,minWidth:100,filter:{type:"datetime",prepend:"<strong>After</strong>&nbsp;"},filters:[{condition:b.filter.GREATER_THAN_OR_EQUAL}],cellTitle:"{{row.entity.startTime|crdate}}",enableSorting:!0,visible:!1},{name:"stopTime",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.stopTime | crdate}}</div>',width:150,minWidth:100,filter:{type:"datetime",prepend:"<strong>Before</strong>&nbsp;"},filters:[{condition:b.filter.LESS_THAN_OR_EQUAL}],cellTitle:"{{row.entity.stopTime|crdate}}",enableSorting:!0,visible:!1},{name:"duration",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.duration|customDuration}}</div>',width:160,minWidth:100,filter:{type:"duration"},cellTitle:"{{row.entity.duration|duration}}",enableSorting:!1},{name:"rtff",visible:!1,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.rtffData.value|duration}}</div>',width:160,minWidth:100,filter:{type:"duration"},cellTitle:"{{row.entity.rtff.value|duration}}",enableSorting:!1},{name:"build.branch",displayName:"Branch",width:100,minWidth:100,enableSorting:!0},{name:"build.buildId",displayName:"Build Id",cellTemplate:'<div ng-if="row.entity.build.targetProduct" class="ui-grid-cell-contents text-center"><a ui-sref="home.build.report.campaigns({reportId: row.entity.build.buildId,targetProduct: row.entity.build.targetProduct})">{{row.entity.build.buildId}}</a></div><div ng-if="!row.entity.build.targetProduct" class="ui-grid-cell-contents text-center"><span>{{row.entity.build.buildId}}</span></div>',enableSorting:!0,width:100,minWidth:100},{name:"build.tag.name",displayName:"Build tag",width:100,minWidth:100},{name:"build.targetProduct",displayName:"Target product",enableSorting:!0,width:100,minWidth:100},{name:"bench.name",displayName:"Bench Name",enableSorting:!0,width:100,minWidth:100},{name:"device.deviceId",displayName:"Device Id",cellTemplate:'<div class="ui-grid-cell-contents"><cr-device-id device-id="row.entity.device.deviceId" /></div>',width:120,minWidth:100,enableSorting:!0,visible:!1},{name:"device.hardwareType.label",displayName:"Hw Type",enableSorting:!1,visible:!1,width:100,minWidth:100},{name:"userEmail",cellTemplate:'<div class="ui-grid-cell-contents"><cr-email input="row.entity.userEmail" /></div>',visible:!1,enableSorting:!1,width:100,minWidth:100},{name:"executionRate",field:"_meta.rates.executionRate",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity._meta.rates.executionRate * 100 | number : 2}}</div>',enableFiltering:!1,enableSorting:!1,width:100,minWidth:100},{name:"passRate",field:"_meta.rates.passRate",visible:!0,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity._meta.rates.passRate * 100| number : 2}}</div>',enableFiltering:!1,enableSorting:!1,width:100,minWidth:100},{name:"failRate",field:"_meta.rates.failRate",visible:!1,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity._meta.rates.failRate * 100 | number : 2}}</div>',enableFiltering:!1,enableSorting:!1,width:100,minWidth:100},{name:"lastModified",visible:!1,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.lastModified | crdate}}</div>',enableFiltering:!1,cellTitle:"{{row.entity.lastModified|crdate}}",enableSorting:!1,width:100,minWidth:100},{name:"Nb Tests",field:"_meta.nbTests",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Effective Tests",field:"_meta.rates.effectives",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Nb Events",field:"_meta.nbEvents",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Nb Crashes",field:"_meta.nbCrashes",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Nb Reboots",field:"_meta.nbReboots",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Nb Attachments",field:"_meta.nbAttachments",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[d.get("NUM")],width:100,minWidth:100},{name:"Team",field:"team",visible:!1,enableFiltering:!0,enableSorting:!1,filters:[{condition:b.filter.EXACT}],width:100,minWidth:100},{name:"Domains",field:"domains",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.domains |join}}</div>',visible:!1,enableFiltering:!0,enableSorting:!1,width:100,minWidth:100},{name:"Types",field:"types",cellTemplate:'<div class="ui-grid-cell-contents text-center">{{row.entity.types |join}}</div>',visible:!1,enableFiltering:!0,enableSorting:!1,width:100,minWidth:100},{name:"viewJson",displayName:"Details",enableFiltering:!1,width:55,cellTemplate:'<div class="text-center"><cr-display-object-modal object="row.entity" options="getExternalScopes().detailModalOptions" /></div>',enableSorting:!1,minWidth:100}]}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.factory("campaignDisplayDef",function(){var a=function(){return[{name:"creation",template:"<span>{{property.value|crdate}}</span>"},{name:"lastModified",template:"<span>{{property.value|crdate}}</span>"},{name:"startTime",template:"<span>{{property.value|crdate}}</span>"},{name:"stopTime",template:"<span>{{property.value|crdate}}</span>"},{name:"endTime",template:"<span>{{property.value|crdate}}</span>"},{name:"duration",template:"<span>{{property.value|duration}}</span>"},{name:"status",template:'<cr-status input="property.value" />'},{name:"verdict",template:'<cr-verdict input="property.value" />'
},{name:"passRate",template:"<span>{{property.value | number : 2}}%</span>"},{name:"failRate",template:"<span>{{property.value | number : 2}}%</span>"},{name:"executionRate",template:"<span>{{property.value | number : 2}}%</span>"},{name:"userEmail",template:'<cr-email input="property.value" />'},{name:"location",template:'<cr-location input="property.value" />'},{name:"device.deviceId",template:'<cr-device-id device-id="property.value" />'},{name:"rtffData.value",template:"<span>{{property.value |duration}}</span>"},{name:"rtffData.failure",template:'<span>{{property.value == true?"There is a Mtbf failure":"No Mtbf failure"}}</span>'},{name:"general.deviceId",template:'<cr-device-id device-id="property.value" />'},{name:"types",template:"<span>{{property.value|join}}</span>"},{name:"domains",template:"<span>{{property.value|join}}</span>"},{name:"reports",template:'<table class="table"><tr><th>Name</th><th>Created at</th><tr><tr ng-repeat="report in property.value"><td><a ui-sref="home.build.report.campaigns({reportType:report.type, reportId: report.id})" target="_blank">{{report.name}}</a></td><td>{{report.creation|date}}</td></tr></table>'},{name:"projects",template:'<table class="table"><tr><th>Name</th><th>Description</th><tr><tr ng-repeat="project in property.value"><td><a ui-sref="home.projects.detail({id: project.id})" target="_blank">{{project.name}}</a></td><td>{{project.description}}</td></tr></table>'}]};return{create:a}})}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignResultsCtrl",["$scope","campaignDisplayDef","campaign",function(a,b,c){a.displayCampaignResultsOptions={objectDef:b,excludedProperties:[],data:{results:c.results}}}])}(),angular.module("CampaignReportingApp").controller("CampaignTestCasesCtrl",["$scope","$stateParams","$filter","Tests","TestConstant",function(a,b,c,d,e){function f(){var c=d.getTestCasesGroup({campaignId:b.campaignId,depth:0,offset:h.offset,limit:h.limit},function(){var b=1;a.testGroups=c,c.results&&c.results.forEach(function(a){a.fromIndex=b,b+=a.count}),h.totalCount=c.totalCount,h.enable=h.totalCount>h.limit})}function g(a){function c(){var c=d.getFieldFromTests({fields:"indexForDisplay,id,testCase,type,status,verdict,duration,_meta",sort:"+indexForDisplay,-startTime",query:{campaignId:b.campaignId,depth:{"==":0},testCase:{"==":a.testCase}},offset:a.paging.offset,limit:a.paging.limit},function(){a.tests=c.results,a.paging.totalCount=a.count,a.paging.enable=a.count>a.paging.limit})}a.show=!a.show,a.show?(a.paging=a.paging?a.paging:{enable:!1,limit:50,offset:0},c(),a.changePage=function(){c()}):a.tests=null}var h={enable:!1,limit:50,offset:0};a.paging=h,a.switchShowTestGroup=g,a.$watch("paging.offset",function(){f()});var i=a.$watch("filterTestSelected",function(a){a===!0&&f(),i()})}]),function(){var a=angular.module("CampaignReportingApp");a.controller("PnpResults",["$scope","testSet","displayTestDef",function(a,b,c){var d={title:function(a){return"Quick view of test "+(a.testCase?a.testCase:"")},objectDef:c,depth:5};a.testModalOptions=d,a.tests=b}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CampaignReportsCtrl",["$scope","$timeout","Reports",function(a,b,c){function d(){a.$watch(function(){return _.get(c.getCampaign(),"_meta")},function(a){e(),c.updateStatusVerdictChart(a)})}function e(){a.campaignMeta=_.get(c.getCampaign(),"_meta"),a.effectives=_.get(a.campaignMeta,"rates.effectives","-"),a.pending=_.get(a.campaignMeta,"rates.status.PENDING","-"),a.running=_.get(a.campaignMeta,"rates.status.RUNNING","-"),a.cancelled=_.get(a.campaignMeta,"rates.status.CANCELLED","-"),a.timeout=_.get(a.campaignMeta,"rates.status.TIMEOUT","-"),a.completed=_.get(a.campaignMeta,"rates.status.COMPLETED","-"),a.executionRate=_.get(a.campaignMeta,"rates.executionRate","-"),a.na=_.get(a.campaignMeta,"rates.verdict.NA","-"),a.passed=_.get(a.campaignMeta,"rates.verdict.PASSED","-"),a.valid=_.get(a.campaignMeta,"rates.verdict.VALID","-"),a.inconclusive=_.get(a.campaignMeta,"rates.verdict.INCONCLUSIVE","-"),a.failed=_.get(a.campaignMeta,"rates.verdict.FAILED","-"),a.blocked=_.get(a.campaignMeta,"rates.verdict.BLOCKED","-"),a.invalid=_.get(a.campaignMeta,"rates.verdict.INVALID","-"),a.totalPassed=_.get(a.campaignMeta,"rates.passedForRateComputation","-"),a.passRate=_.get(a.campaignMeta,"rates.passRate","-"),a.totalFailed=_.get(a.campaignMeta,"rates.failedForRateComputation","-"),a.failRate=_.get(a.campaignMeta,"rates.failRate","-")}a.getVerdictChart=c.getVerdictChart,a.getFeatureChart=c.getFeatureChart,a.campaignMeta=void 0,a.effectiveTests="-",a.pending="-",a.running="-",a.cancelled="-",a.timeout="-",a.completed="-",a.executionRate="-",a.na="-",a.passed="-",a.valid="-",a.inconclusive="-",a.failed="-",a.blocked="-",a.invalid="-",a.totalPassed="-",a.passRate="-",a.totalFailed="-",a.failRate="-",d()}])}(),function(){angular.module("CampaignReportingApp").service("Reports",["$timeout","$filter","HighchartsConfig","Campaigns",function(a,b,c,d){function e(a){r=a}function f(){return r}function g(){return p}function h(){return q}function i(){p=void 0,q=void 0,j(),k()}function j(){function a(a){return a.forEach(function(a){a.data=a.data.map(function(a){return{name:a.name,y:a.count}}),a.color=b("verdictColor")(a.name)}),a}angular.isDefined(r)&&(q={chart:{type:"bar",height:400,backgroundColor:null,animation:!1},credits:{enabled:!1},title:{text:""},xAxis:{type:"category",tickInterval:1},yAxis:{min:0,tickInterval:1,title:{text:"Test count"}},legend:{reversed:!0},plotOptions:{series:{stacking:"normal"}}},d.getFeatures({campaignId:r.id},function(b){b.series.length&&(q.options=angular.copy(q),q.series=a(b.series))}))}function k(){var a=_.get(r,"_meta.rates"),d=_.get(r,"_meta");angular.isDefined(a)&&(p=c.donutIndicator({options:{chart:{height:400},tooltip:{enabled:!0}}}),p.series=[{name:"Status",animation:!1,type:"pie",data:[],size:"60%",innerSize:"40%",dataLabels:{formatter:function(){return this.y>=1?this.point.name+"  ("+b("number")(this.point.percentage,2)+"%)":null},distance:-30,color:"#ffffff"},tooltip:{pointFormat:"{point.y} tests ({point.percentage:.2f}%)"}},{name:"Verdict",animation:!1,type:"pie",data:[],size:"80%",innerSize:"80%",dataLabels:{formatter:function(){return"Not COMPLETED"===this.point.name?null:this.y>=1?this.point.name+" ("+b("number")(this.y/r._meta.rates.status.COMPLETED*100,2)+"%)":null}},tooltip:{pointFormatter:function(){return this.y+" tests ("+b("number")(this.y/r._meta.rates.status.COMPLETED*100,2)+"%)"}}}],l(d))}function l(a){p&&(p.series[0].data=n(a.rates,.5),p.series[1].data=o(a.rates,.5))}function m(a,b){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(c){var d=parseInt(c[1],16),e=parseInt(c[2],16),f=parseInt(c[3],16);return"rgba("+d+","+e+","+f+","+(b?b:1)+")"}return a}function n(a){var c=[];return a&&a.status?(c.push({name:"COMPLETED",y:a.status.COMPLETED,color:m(b("statusColor")("COMPLETED"),.5)}),c.push({name:"RUNNING",y:a.status.RUNNING,color:m(b("statusColor")("RUNNING"),.5)}),c.push({name:"PENDING",y:a.status.PENDING,color:m(b("statusColor")("PENDING"),.5)}),c.push({name:"CANCELLED",y:a.status.CANCELLED,color:m(b("statusColor")("CANCELLED"),.2)}),c.push({name:"TIMEOUT",y:a.status.TIMEOUT,color:m(b("statusColor")("CANCELLED"),.2)}),c):c}function o(a){var c=[];return a&&a.verdict?(c.push({name:"PASSED",y:a.verdict.PASSED,color:m(b("verdictColor")("PASSED"),1)}),c.push({name:"VALID",y:a.verdict.VALID,color:m(b("verdictColor")("VALID"),1)}),c.push({name:"INCONCLUSIVE",y:a.verdict.INCONCLUSIVE,color:m(b("verdictColor")("INCONCLUSIVE"),1)}),c.push({name:"BLOCKED",y:a.verdict.BLOCKED,color:m(b("verdictColor")("BLOCKED"),1)}),c.push({name:"FAILED",y:a.verdict.FAILED,color:m(b("verdictColor")("FAILED"),1)}),c.push({name:"INVALID",y:a.verdict.INVALID,color:m(b("verdictColor")("INVALID"),1)}),c.push({name:"NA",y:a.verdict.NA,color:m(b("verdictColor")("NA"),1)}),c.push({name:"Not COMPLETED",y:a.status.RUNNING+a.status.PENDING+a.status.CANCELLED+a.status.TIMEOUT,color:"transparent"}),c):c}var p,q,r;return{getVerdictChart:g,getFeatureChart:h,getCampaign:f,init:e,loadData:i,updateStatusVerdictChart:l}}])}(),angular.module("CampaignReportingApp").controller("CampaignTasksCtrl",CampaignTasksCtrl),function(){function a(a,b,c,d,e,f){function g(){a.all(_.map(b.selected,function(a){return d.addCampaignsToReport(a,[b.campaign])})).then(function(){e.success(b.selected.length+" reports added to Campaign"),c.close()})}function h(){c.dismiss()}void 0===f.reports&&(f.reports=[]),b.campaign=f,b.query={branch:b.campaign.build.branch,targetProduct:b.campaign.build.targetProduct},b.alreadyPresentCount=0,b.reports=[],b.ok=g,b.cancel=h,b.$watchCollection("reports",function(a){if(void 0!==b.campaign.reports&&b.reports.length>0&&!_.get(b.reports,"checked",!1)){b.alreadyPresentCount=0;var c=_.map(b.campaign.reports,"id");b.reports=_.filter(a,function(a){return c.indexOf(a.id)<0||(b.alreadyPresentCount++,!1)}),b.reports.checked=!0}})}a.$inject=["$q","$scope","$modalInstance","BuildReportModel","Notifier","campaign"],angular.module("CampaignReportingApp").controller("CampaignAddToReportModalCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){a.all(_.map(b.selected,function(a){return d.addCampaigns({id:a.id},[f.id]).$promise})).then(function(){e.success("campaign added to "+b.selected.length+" projects"),c.close()})}function h(){c.dismiss()}b.campaign=f,b.query={},b.alreadyPresentCount=0,b.projects=[],b.ok=g,b.cancel=h,b.$watchCollection("projects",function(a){if(b.projects.length>0&&!_.get(b.projects,"checked",!1)){a=_.filter(a,function(a){if(a.sectionKeys.indexOf("Campaigns")>-1||a.sectionKeys.indexOf("CTS")>-1)return a}),b.alreadyPresentCount=0;var c=_.map(b.campaign.projects,"id");b.projects=_.filter(a,function(a){return c.indexOf(a.id)<0||(b.alreadyPresentCount++,!1)}),b.projects.checked=!0}})}a.$inject=["$q","$scope","$modalInstance","Projects","Notifier","campaign"],angular.module("CampaignReportingApp").controller("CampaignAddToProjectModalCtrl",a)}(),angular.module("app.campaign-detail").config(["$stateProvider",addCampaignDetailRoutes]),function(){"use strict";var a={bindings:{campaign:"="},template:["<div>","<h2>{{$ctrl.campaign.name}}</h2>",'<campaign-dating campaign="::$ctrl.campaign"></campaign-dating>',"</div>"].join("")};angular.module("app.campaign-detail").component("campaignHeader",a)}(),function(){var a=angular.module("CampaignReportingApp");a.directive("crAutocompleteTags",["Tags","$q",function(a,b){function c(c){var d=a.query({query:{name:c},limit:15}),e=b.defer();return d.$promise.then(function(a){e.resolve(a.results.map(function(a){return a.name}))},function(a){e.reject(a)}),e.promise}function d(a,b,d){a.autocompleteTags=c}return{restrict:"E",template:'<auto-complete source="autocompleteTags($query)"></auto-complete>',link:d}}])}(),function(){var a=angular.module("CampaignReportingApp");a.directive("crTagSelector",["$timeout","Tags",function(a,b){function c(a){return b.query({query:{name:a},limit:15}).$promise}function d(){return b.mostUsed({limit:10}).$promise}function e(b,e,f,g){function h(a){return a.name}function i(a){j(a)}function j(a){b.selection[a]===!1?(b.onUnselectTag&&b.onUnselectTag(a),l(b.selection)||n()):b.onSelectTag&&b.onSelectTag(a)}function k(a){b.selection[a]=!0,b.tagProposal.push(a),i(a),b.canCreate=!1}function l(a){var b=!1;return _.forEach(a,function(a){if(a)return b=!0,!1}),b}function m(a){b.tagProposal=[],angular.forEach(a,function(a,c){a&&b.tagProposal.push(c)})}function n(){d().then(function(a){b.query||(b.tagProposal=a.map(h))})}function o(b){l(b)?m(b):n(),a(function(){e[0].querySelector('[ng-model="query"]').focus()},100)}e.click(function(a){a.stopPropagation()}),b.query="",b.tagProposal=[],b.selection={},b.onSelectionChanged=i,b.createTag=k,g.$formatters.push(function(a){var b={};return _.forEach(a,function(a){b[a]=!0}),b}),g.$parsers.push(function(a){var b=[];return _.forEach(a,function(a,c){a&&b.push(c)}),b}),g.$render=function(){b.selection=g.$viewValue},b.$watch("query",function(a,d){return a=b.query.replace(/\s+/g,""),b.query=a,a?void(a!==d&&c(a).then(function(c){b.tagProposal=c.results.map(h),b.canCreate=!0,_.forEach(b.tagProposal,function(c){a===c&&(b.canCreate=!1)})})):void o(b.selection)}),b.$watch("selection",function(a,b){a!==b&&o(a)})}return{restrict:"E",templateUrl:"app/tags/tag-selector.html",link:e,require:"ngModel",scope:{onSelectTag:"=",onUnselectTag:"="}}}])}(),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("about",{url:"/about",templateUrl:"app/about/about.html",controller:"AboutCtrl"})}]),angular.module("CampaignReportingApp").controller("AboutCtrl",["$log",function(a){}]),angular.module("app.benches").config(["$stateProvider",addBenchesRoutes]),function(){"use strict";function a(a,b,c,d){function e(){h.query={term:b.search},g(h.query)}function f(a){g({term:a})}function g(b){var d={search:b.term};c.go(".",d,{notify:!1});var e=_.defaults({quickFilter:b.term,withCampaign:!0},{limit:20,sort:"-lastModified"});a.query(e,function(a){h.results=a.results})}var h=this;h.results=[],h.search=f,h.query={term:""},e()}a.$inject=["BenchStates","$stateParams","$state","$scope"],angular.module("app.benches").component("benchesSearch",{templateUrl:"app/benches/benches-search.component.html",controller:a})}(),function(){"use strict";function a(a,b){function c(){b("benches").$promise.then(d)}function d(b){b.length>0&&a.query({benchName:b,withCampaign:!0},function(a){a.results=_.map(a.results,function(a){return a.lastCampaign&&(void 0===a.lastCampaign.build&&(a.lastCampaign.build={buildId:"None"}),void 0===a.lastCampaign.build.buildId&&(a.lastCampaign.build.buildId="None"),void 0===a.lastCampaign.types&&(a.lastCampaign.types=[]),void 0===a.lastCampaign.domains&&(a.lastCampaign.domains=[])),a});var b=crossfilter(a.results);f.cf=b,f.mainDimension=b.dimension(function(a){return _.get(a,"bench.name")}),e("types","Type","lastCampaign.types",!0),e("domains","Domain","lastCampaign.domains",!0),e("buildId","Build","lastCampaign.build.buildId",!1),f.results=f.mainDimension.top(1/0)})}function e(a,b,c,d){var e=f.cf.dimension(function(a){return _.get(a,c)},d),g={name:a,label:b,dimension:e,selectedValue:null,items:e.group().all()};g.filter=function(a){g.selectedValue=a,e.filterExact(a),f.results=f.mainDimension.top(1/0)},f.filters.push(g)}var f=this;f.results=[],f.filters=[],c()}a.$inject=["BenchStates","favoriteItems"],angular.module("app.benches").component("benchesFavorites",{templateUrl:"app/benches/benches-favorites.component.html",controller:a})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){p=new d(k),n=b("benches")}function i(a){return e(a.lastModified).isAfter(e().subtract(60,"minutes"))}function j(a){f.unfollow(r),p.unfollow(o),angular.isUndefined(a)||null===a||(o=p.follow(a),m(a))}function k(a,b){l(a),a.lastCampaignId=b.lastCampaignId,g.get({campaignId:a.lastCampaignId}).$promise.then(function(b){a.lastCampaign=b;var c=f.follow(a.lastCampaign);r.push(c)})}function l(a){var b=_.remove(r,function(b){return b.topic==="campaigns."+a.lastCampaignId})[0];_.isEmpty(b)||f.unfollow(b)}function m(a){_.each(a,function(a){if(!angular.isUndefined(a.lastCampaign)){var b=f.follow(a.lastCampaign);_.isEmpty(b)||r.push(b)}})}var n,o,p,q=this,r=[];q.isActive=i,h(),q.isFavorite=function(a){return n.isFavorite(a.name)},q.setAsFavorite=function(a){n.toggleFavorite(a.name)},q.$onChanges=function(a){j(a.benches.currentValue)},q.$onDestroy=function(){p.unfollow(o),f.unfollow(r)}}a.$inject=["Notifier","favoriteItems","UserPreferences","BenchLive","moment","CampaignLive","Campaigns"],angular.module("app.benches").component("benchesList",{bindings:{benches:"<"},controller:a,templateUrl:"app/benches/benches-list.component.html"})}(),function(){"use strict";function a(a,b,c){function d(){e()}function e(){a.groups({},function(a){i.results=a,_.each(i.results,function(a,b){a.libs=[],a.benches=_.map(a.benches,function(b){var c=b;return c.libNames=[],c.libNames=_.reduceRight(c.engine.libs,function(a,b){return a.push(b.name),c[b.name]=b.libVersion,a},[]),a.libs=_.union(a.libs,c.libNames),0===c.libNames.length&&c.libNames.push("No lib information"),c}),void 0===a.name&&(a.name="Other"),i.engineChartConfig.series[0].data.push({name:a.name,y:a.benches.length,color:h(a.name)});var c=crossfilter(a.benches);a.cf=c,a.filters=[],a.mainDimension=c.dimension(function(a){return _.get(a,"name")}),f(a,"version","Version","engine.engineVersion",!1),f(a,"libraries","Libraries","libNames",!0),_.each(a.libs,function(b){f(a,b,b,b,!1)}),g(a),_.each(a.filters,function(a){a.items=_.sortBy(a.items,function(a){return a.value}).reverse()}),a.benches=a.mainDimension.top(1/0)}),i.results=_.sortBy(i.results,function(a){return a.name})})}function f(a,b,c,d,e){var f=a.cf.dimension(function(a){return _.get(a,d,"No version information")},e),g={name:b,label:c,dimension:f,selectedValue:null,items:f.group().all()};g.filter=function(b){g.selectedValue=b,f.filterExact(b),a.benches=a.mainDimension.top(1/0)},a.filters.push(g)}function g(a){a.chartConfig=b.donutIndicator({options:{chart:{height:400},tooltip:{enabled:!0},subtitle:{text:a.name+" Framework Distribution"}}});var c=[],d=_.find(a.filters,function(a){return"version"===a.name});_.each(d.items,function(a,b){c.push({name:a.key.toLowerCase(),y:a.value,color:j[b%j.length]})}),a.chartConfig.series=[{name:"Count",size:"80%",innerSize:"60%",data:c,dataLabels:{formatter:function(){return this.point.name}}}]}function h(a){switch(a){case"ACS":return c.darkBlue;case"IPATH":return c.orange2;default:return c.lightGray}}var i=this;i.results=[],i.engineChartConfig=b.donutIndicator({options:{chart:{height:400},tooltip:{enabled:!0},subtitle:{text:"Framework Distribution"}}}),i.engineChartConfig.series=[{name:"Count",size:"80%",innerSize:"60%",data:[],dataLabels:{formatter:function(){return this.point.name}}}];var j=_.map(c,function(a){return a});d()}a.$inject=["BenchStates","HighchartsConfig","IntelColors"],angular.module("app.benches").component("benchesEngines",{templateUrl:"app/benches/benches-engines.component.html",controller:a})}(),angular.module("app.projects",["ngStorage"]).config(["$stateProvider","$localStorageProvider",function(a,b){a.state("home.projects",{url:"/projects","abstract":!0,template:"<ui-view/>",breadcrumb:{name:"Projects",proxy:"home.projects.explore"}}).state("home.projects.explore",{url:"/explore",templateUrl:"app/projects/project-explorer.html",controller:"ProjectExplorerCtrl"}).state("home.projects.detail",{url:"/{id}/detail",templateUrl:"app/projects/project-detail-layout.html",controller:"ProjectDetailLayoutCtrl",resolve:{project:["$stateParams","Projects",function(a,b){return b.get({id:a.id}).$promise}]},breadcrumb:{name:"{{project.name}}"}}).state("home.projects.detail.report",{views:{"content@home.projects.detail":{templateUrl:"app/projects/project-detail-report.html",controller:"ProjectDetailReportCtrl"}}}).state("home.projects.detail.campaign",{views:{"content@home.projects.detail":{templateUrl:"app/projects/project-detail-campaign.html",controller:"ProjectDetailCampaignCtrl"}}}).state("home.projects.detail.cts",{views:{"content@home.projects.detail":{templateUrl:"app/projects/project-detail-cts.html",controller:"ProjectDetailCTSCtrl"}}})}]),angular.module("app.projects").controller("ProjectExplorerCtrl",["$scope","$modal","$stateParams","$state","Projects",function(a,b,c,d,e){function f(){i(),a.$watch("quickFilter",function(a,b){a!==b&&(a||g())}),a.$watch("paging.offset",function(b,c){b!==c&&a.paging.totalCount&&i()})}function g(){h(),i()}function h(){a.paging={totalCount:0,offset:0,limit:25}}function i(){var b={limit:25,offset:a.paging.offset};a.loading=!0,a.quickFilter&&(b.name=a.quickFilter),e.query(b).$promise.then(function(b){a.paging.totalCount=b.totalCount,a.results=b.results,a.loading=!1})}function j(){var a=b.open({animation:!1,templateUrl:"app/projects/project-edition-modal.html",controller:["$scope","$modalInstance","Projects","Notifier",function(a,b,c,d){a.choices=[],a.selected=[],a.selectionChange=function(){a.selected=_.map(_.filter(a.choices,function(a){return a.selected}),"key")};var e={sectionKeys:[{key:"Build Reports",name:"Build Reports"},{key:"Campaigns",name:"Campaigns"},{key:"CTS",name:"CTS"}]};a.project=angular.copy(e),_.each(a.project.sectionKeys,function(b){b.key&&(b.selected=!1,a.project.sectionKeys&&a.project.sectionKeys.indexOf(b.key)!==-1&&(sectionKeys.selected=!0,a.selected.push(sectionKeys.key)),a.choices.push(b))}),a.cancel=function(){b.dismiss()},a.create=function(){c.create({name:a.name,description:a.description,sectionKeys:a.selected}).$promise.then(function(){d.success("Success!"),b.close()},function(){d.error('Project with name "'+a.name+'" already exists',"Failed to create Project")})}}]});a.result.then(function(){i()})}a.submitSearch=g,a.createProject=j,a.loading=!1,a.results=[],a.paging={totalCount:0,offset:0,limit:25},f()}]),function(){function a(a,b,c,d,e,f,g,h,i,j){function k(a){var b=j.defer();return c.addSharePeople({id:d.id},{sharePeople:a}).$promise.then(function(c){var e=d._security.sharePeople;e=e?e:[],d._security.sharePeople=e.concat(a),b.resolve(),g.success("Share with people successful")},function(a){b.reject(a),g.error("Error while sharing to people")}),b.promise}function l(a){var b=j.defer();return c.updateSecurity({id:d.id},{privacy:a},function(){d._security.privacy=a,b.resolve()},function(a){b.reject(a),g.error("Error while updating privacy")}),b.promise}function m(c){a.currentType=c,b.go(c.state)}function n(){c.getActivities({id:a.project.id}).$promise.then(function(b){a.activities=_.filter(b,function(a){var b=["PROJECT_CREATE","PROJECT_ADD_REPORT","PROJECT_DELETE_REPORT","PROJECT_ADD_CAMPAIGN","PROJECT_DELETE_CAMPAIGN"];if(b.indexOf(a.action)>=0)return!0})})}a.project=d,a.changeType=m,a.addSharePeople=k,a.privacy=f.privacy,a.selectPrivacy=l,a.canSee=e.havePermissionToViewEntity(d),n();var o={report:{state:"home.projects.detail.report",title:"Build Reports"},campaign:{state:"home.projects.detail.campaign",title:"Campaigns"},cts:{state:"home.projects.detail.cts",title:"CTS"}};a.types=_.map(o,"title"),a.types=_.intersection(a.types,a.project.sectionKeys),a.type=a.types[0],a.$watch("type",function(){var c=_.filter(o,{title:a.type});b.go(c[0].state)})}a.$inject=["$scope","$state","Projects","project","SecurityUtils","SecurityConstant","Notifier","WidgetModals","Subject","$q"],angular.module("app.projects").controller("ProjectDetailLayoutCtrl",a)}(),function(){function a(a,b,c,d,e,f,g,h,i,j){function k(){n(),a.$watch("paging.offset",function(a,b){a!==b&&n()}),a.$watch("domain",function(b,c){if(b!==c){var d=a.domain;a.baseQuery.domain=d?d:void 0,o()}})}function l(){var b=_.map(a.selection,"report");f.openDiffReports(b,a.baseQuery,"domain")}function m(){var b=_.map(_.filter(a.buildReports,"selected",!0),"id");h.removeReports({id:c.id},b).$promise.then(function(){i.success(b.length+" Build Reports removed","Success"),n()})}function n(){var b={offset:a.paging.offset,limit:a.paging.limit,projectId:a.project.id,sort:"-creation"};return d.query(b).$promise.then(function(b){a.buildReports=b.results,a.paging.totalCount=b.totalCount,o(),p()})}function o(){var c=[],d=[];_.forEachRight(a.buildReports,function(b){var f={name:b.name,report:b};c.push(f),d.push(e.executionStats(_.extend(angular.copy(a.baseQuery),{reportId:b.id}),function(a){f.passed=a.passed,f.failed=a.failed,f.blocked=a.blocked}).$promise)}),b.all(d).then(function(){a.data=c})}function p(){a.domains=[];var b="domain",c=_.map(a.buildReports,"id");if(0!==c.length){var d=_.extend(angular.copy(a.baseQuery),{"with":b,group:b,reportId:c});_.unset(d,b),g.verdictRepartition(d).$promise.then(function(b){b.series[0].data.forEach(function(b){a.domains.push(b.name)})})}}a.openCompare=l,a.removeReport=m,a.project=c,a.selection=[],a.domains=[],a.domain=null,a.canEdit=j.isOwner(c)||j.isMaintainer(c),a.paging={totalCount:0,offset:0,limit:50},a.baseQuery={type:"FUNCTIONAL",phase:"CORE",isInReport:!0,depth:0,"with":["domain"]},k()}a.$inject=["$scope","$q","project","BuildReports","Tests","WidgetModals","Builds","Projects","Notifier","SecurityUtils"],angular.module("app.projects").controller("ProjectDetailReportCtrl",a)}(),function(){function a(a,b,c,d,e,f,g,h){function i(){j().then(function(b){p=b,a.campaigns=p}).then(function(){k()})}function j(){return d.search(_.extend({projectId:b.id,sort:"-creation",without:["cts"]},{offset:o.offset,limit:o.limit})).$promise.then(function(a){return o.totalCount=a.totalCount,a.results})}function k(){e.all(_.map(p,function(a){return f.executionStats(_.extend(angular.copy(n),{campaignId:a.id})).$promise.then(function(b){return{campaign:a,name:a.name,passed:b.passed,failed:b.failed,blocked:b.blocked}})})).then(function(b){b.reverse(),a.data=b})}function l(){var a=_.map(_.filter(p,"selected",!0),"id");c.removeCampaigns({id:b.id},a).$promise.then(function(){h.success(a.length+" campaigns removed","Success"),i()})}function m(){var b=_.map(a.selection,"campaign");g.openDiffCampaigns(b)}a.selection=[],a.openCompare=m,a.removeCampaign=l;var n={phase:"CORE",depth:0},o={totalCount:0,offset:0,limit:50};a.paging=o;var p=[];i(),a.$watch("paging.offset",function(a,b){a!==b&&i()})}a.$inject=["$scope","project","Projects","Campaigns","$q","Tests","WidgetModals","Notifier"],angular.module("app.projects").controller("ProjectDetailCampaignCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){a.$watch("paging.offset",function(a,b){a!==b&&h()}),a.$watch("abi",function(a,b){a!==b&&l()}),a.$watch("module",function(a,b){a!==b&&l()}),h()}function h(){k().then(function(b){a.campaigns=b,i()}).then(function(){l()})}function i(){a.campaigns.forEach(function(b){b.cts.modules.forEach(function(b){a.modules.indexOf(b.name)<0&&a.modules.push(b.name),a.abis.indexOf(b.abi)<0&&a.abis.push(b.abi)})}),a.modules.sort()}function j(){var d=_.map(_.filter(a.campaigns,"selected",!0),"id");c.removeCampaigns({id:b.id},d).$promise.then(function(){f.success(d.length+" campaigns removed","Success"),h()})}function k(){return d.search(_.extend({projectId:b.id,sort:"-creation","with":["cts"]},{offset:m.offset,limit:m.limit})).$promise.then(function(a){return m.totalCount=a.totalCount,a.results})}function l(){var b=_.map(a.campaigns,function(b){var c=0,d=0,e=0;return b.cts&&b.cts.modules&&b.cts.modules.forEach(function(b){a.module&&b.name!==a.module||a.abi&&b.abi!==a.abi||(c+=b.pass,d+=b.failed,e+=b.notExecuted)}),{campaign:b,name:b.name,passed:c,failed:d,blocked:e}});a.data=b}a.selection=[];var m={totalCount:0,offset:0,limit:50};a.paging=m;a.modules=[],a.abis=[],a.module=null,a.abi=null,a.moduleFilter=null,a.removeCts=j,g()}a.$inject=["$scope","project","Projects","Campaigns","Tests","Notifier"],angular.module("app.projects").controller("ProjectDetailCTSCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){a.all(_.map(b.selected,function(a){var c=_.map([b.report],"id");return f.addReports({id:a.id},c).$promise})).then(function(){d.success(b.selected.length+" projects added to Report"),c.close()})}function h(){c.dismiss()}void 0===e.projects&&(e.projects=[]),b.report=e,b.query={},b.alreadyPresentCount=0,b.projects=[],b.ok=g,b.cancel=h,b.$watchCollection("projects",function(a){if(void 0!==b.report.projects&&b.projects.length>0&&!_.get(b.projects,"checked",!1)){a=_.filter(a,function(a){if(a.sectionKeys.indexOf("Build Reports")>-1)return a}),b.alreadyPresentCount=0;var c=_.map(b.report.projects,"id");b.projects=_.filter(a,function(a){return c.indexOf(a.id)<0||(b.alreadyPresentCount++,!1)}),b.projects.checked=!0}})}a.$inject=["$q","$scope","$modalInstance","Notifier","report","Projects"],angular.module("CampaignReportingApp").controller("ReportAddToProjectModalCtrl",a)}(),angular.module("app.projects").directive("historyTrendChart",historyTrendChart),angular.module("app.projects").directive("projectDataPanel",projectDataPanel),angular.module("app.kpi",["ngStorage"]).config(["$stateProvider","$localStorageProvider",function(a,b){a.state("home.kpi-dashboard",{url:"/pi/dashboards","abstract":!0,template:"<ui-view/>",breadcrumb:{name:"PI dashboards",proxy:"home.kpi-dashboard.explore.published"}}).state("home.kpi-dashboard.explore",{url:"/explore",templateUrl:"app/kpi/dashboard-explorer.html"}).state("home.kpi-dashboard.explore.published",{breadcrumb:{name:"Published"},url:"/published",templateUrl:"app/kpi/dashboard-list.html",controller:"DashboardListCtrl as vm",data:{title:"Published dashboards"},resolve:{dashboardsByProject:["DashboardListModel",function(a){return a["public"]()}]}}).state("home.kpi-dashboard.explore.my",{breadcrumb:{name:"My Dashboards"},url:"/my",templateUrl:"app/kpi/dashboard-list.html",controller:"DashboardListCtrl as vm",data:{title:"My dashboards"},resolve:{dashboardsByProject:["DashboardListModel",function(a){return a.ownedByMe()}]}}).state("home.kpi-dashboard.explore.sharedWithMe",{breadcrumb:{name:"Shared with me"},url:"/sharedWithMe",templateUrl:"app/kpi/dashboard-list.html",controller:"DashboardListCtrl as vm",data:{title:"Shared with me"},resolve:{dashboardsByProject:["DashboardListModel",function(a){return a.sharedWithMe()}]}}).state("home.kpi-dashboard.new",{breadcrumb:{name:"Create new"},url:"/new",templateUrl:"app/kpi/dashboard-new.html",controller:"DashboardNewCtrl as vm"}).state("home.kpi-dashboard.detail",{breadcrumb:{name:"{{dashboard.name}}"},url:"/:id",templateUrl:"app/kpi/dashboard.html",controller:"DashboardCtrl as vm",resolve:{dashboardId:["$stateParams",function(a){return a.id}]}}).state("home.kpi-dashboard.detail.history",{breadcrumb:{name:"History"},url:"/history",views:{dataheaderpane:{templateUrl:"app/kpi/dashboard-history-header.html",controller:"DashboardHistoryHeaderCtrl"},pilistpane:{templateUrl:"app/kpi/dashboard-pi-list.html",controller:"DashboardPiListCtrl"},datapane:{templateUrl:"app/kpi/dashboard-data.html",controller:"DashboardDataCtrl"}}}).state("home.kpi-dashboard.detail.compare",{breadcrumb:{name:"Compare"},url:"/compare?ref&with",views:{dataheaderpane:{templateUrl:"app/kpi/dashboard-compare-header.html",controller:"DashboardCompareHeaderCtrl"},pilistpane:{templateUrl:"app/kpi/dashboard-pi-list.html",controller:"DashboardPiListCtrl"},datapane:{templateUrl:"app/kpi/dashboard-compare.html",controller:"DashboardCompareCtrl"}}}).state("home.kpi-dashboard.detail.settings",{url:"/settings",onEnter:["DashboardModals",function(a){a.openSettings()}]}).state("home.pi",{"abstract":!0,template:"<ui-view/>",url:"/pi"}).state("home.pi.reports",{url:"/reports","abstract":!0,templateUrl:"app/layout/left-column-layout.html",breadcrumb:{name:"PI reports",proxy:"home.pi.reports.explore"}}).state("home.pi.reports.explore",{url:"/explore?branch&targetProduct&releaseTag&releaseType&type&fromDate&quickFilter",views:{content:{templateUrl:"app/kpi/report-explorer.html",controller:"ReportListCtrl"},column:{templateUrl:"app/kpi/report-filters.html",controller:"ReportFiltersCtrl"},"results@home.pi.reports.explore":{templateProvider:["TemplatePreference",function(a){return a.provide("piReportExplorer",{tile:"app/kpi/report-explorer-tile-view.html",other:"app/kpi/report-explorer-list-view.html"})}]}}}).state("home.pi.reports.detail",{url:"/:id",resolve:{report:["$stateParams","PiReports",function(a,b){return b.get({id:a.id}).$promise}]},views:{content:{templateUrl:"app/kpi/report.html",controller:"ReportCtrl"},column:{templateUrl:"app/kpi/report-siblings.html",controller:"ReportSiblingsCtrl"}},breadcrumb:{name:"{{report.name}}"}})}]),angular.module("app.kpi").constant("DashboardConstant",{event:{PI_TARGET_CHANGED:"piTargetChanged"}}),angular.module("app.kpi").controller("DashboardCtrl",["$scope","dashboardId","PiDashboards","SecurityUtils","SecurityConstant","HighchartsConfig","DashboardModel","IntelColors","DashboardModals","$state","modalConfirmHelper","$log","TestConstant","PiConstant","Notifier","DashboardConstant","dataExportService","restApiConfig","$window",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){
function t(){console.log("DashboardCtrl"),u(),g.loadDashboard(b)}function u(){a.$watch(g.getDashboard,function(b,c){b&&(v(b),a.canSee=d.havePermissionToViewEntity(b))})}function v(a){M.dashboard=a,N.canEdit=g.canEdit()}function w(a){return M.thumbChart[a.testCase][a.name]}function x(){L=angular.copy(M.dashboard),M.isEdition=!0}function y(){M.dashboard=L,M.isEdition=!1}function z(){k.confirm["delete"](function(a){c["delete"]({id:a.id},null,function(){j.go("home.kpi-dashboard.explore.published")})})("this dashboard",M.dashboard)}function A(){i.openCopy(M.dashboard).then(function(a){c.copy({id:M.dashboard.id,newName:a.newName},function(a){o.success("Copied from dashboard "+M.dashboard.name,"Copy succeed"),j.go("home.kpi-dashboard.detail.history",{id:a.id})},function(a){o.error("Internal server error","Copy failed")})})}function B(){q["export"](M.dashboard.name,r.URL+"/piDashboards/"+M.dashboard.id+"/data/csv")}function C(){q["export"](M.dashboard.name,r.URL+"/piDashboards/"+M.dashboard.id+"/data/aggregated/csv")}function D(a){return g.saveDashboard(M.dashboard).then(function(a){M.dashboard=a,o.success("Dashboard saved")})}function E(a){g.addSharePeople(a).then(function(a){o.success("Share with people successful")},function(a){o.error("Error while sharing to people")})}function F(){i.openSettings()}function G(){i.openEditPi(null)}function H(){i.openPiAutoThreshold()}function I(a){c.updateSecurity({id:M.dashboard.id},{privacy:a},function(){M.dashboard._security.privacy=a},function(a){o.error("Error while updating privacy")})}function J(){if(!(M.compareCount()<2)){var a=g.getCompareSettings(),b={ref:a.reference,"with":a.compared};j.go("home.kpi-dashboard.detail.compare",b)}}function K(){var a=0,b=g.getCompareSettings();return b.reference&&a++,b.compared&&a++,a}var L,M=this,N={};M.dashboard={filters:{}},M.thumbChart={},M.saveDashboard=D,M.cancelEdition=y,M.removeDashboard=z,M.addSharePeople=E,M.openSettings=F,M.openAddPi=G,M.openAutoPiThreshold=H,M.selectPrivacy=I,M.edit=x,M.copy=A,M.exportData=B,M.exportAggregatedData=C,M.isEdition=!1,M.getThumbChart=w,M.targetType=n.target.type,M.security=N,M.privacy=e.privacy,M.compareCount=K,M.compare=J,t()}]),angular.module("app.kpi").controller("DashboardNewCtrl",["$scope","PiDashboards","$state",function(a,b,c){function d(){b.save({},e.dashboard,function(a){var b=a.id;console.log(b),c.go("home.kpi-dashboard.detail",{id:a.id})})}var e=this;e.dashboard={},e.saveDashboard=d}]),angular.module("app.kpi").controller("DashboardListCtrl",["$state","dashboardsByProject",function(a,b){var c=this;c.title=a.current.data.title,c.dashboardsByProject=b}]),angular.module("app.kpi").controller("DashboardPiListCtrl",DashboardPiListCtrl),angular.module("app.kpi").controller("DashboardDataCtrl",DashboardDataCtrl),angular.module("app.kpi").controller("DashboardHistoryHeaderCtrl",DashboardHistoryHeaderCtrl),angular.module("app.kpi").service("DashboardListModel",["PiDashboards",function(a){function b(a){var b,c,d={},e=[];return _.forEach(a.results,function(a){var f=a.filters.branch?a.filters.branch:"All",g=a.filters.targetProduct?a.filters.targetProduct:"All";b=f+"#"+g,d[b]||(c={branch:f,targetProduct:g,dashboards:[]},d[b]=c,e.push(c)),d[b].dashboards.push(a)}),e}this["public"]=function(){return a.findPublic({}).$promise.then(b)},this.ownedByMe=function(){return a.findMine({}).$promise.then(b)},this.sharedWithMe=function(){return a.findSharedWithMe({}).$promise.then(b)}}]),angular.module("app.kpi").factory("DashboardModel",["$q","TestConstant","$log","SecurityUtils","SecurityConstant","TestBusiness","PiDashboards","PiBusiness","PiConstant","Math",function(a,b,c,d,e,f,g,h,i,j){function k(a){return S={},g.get({id:a}).$promise.then(function(a){return S=v(a),m(S.id),n(S.id),S},function(a){c.error("Cannot load dashboard")})}function l(a){return void 0===a&&(a=S),g.update({id:S.id},a,function(a){S=v(a),c.info("Dashboard saved")},function(a){c.error("Cannot save the dashboard")}).$promise}function m(a){return a||(a=S.id),Q=[],F(),g.getData({id:a},function(a){Q=a.data,R=o(a.data)},function(a){c.error("Cannot load dashbaord data")}).$promise}function n(a){return g.findBuildPis({id:a},function(a){V={},_.forEach(a.results,u)},function(a){c.error("Cannot load build pis information")}).$promise}function o(a){var b=[];return _.forOwn(a,function(a,c){b.push({buildId:a.buildId,tag:a.tag,date:a.date})}),b=_.orderBy(b,["date"],["desc"])}function p(){return S}function q(){return R}function r(b){return S.id?g.getBuilds({id:S.id,buildId:b.buildId}).$promise:a.when(null)}function s(a,b){return V[P({buildId:a.buildId,piIndex:b._index})]}function t(a){var b=angular.copy(a);return b.id=S.id,g.saveBuildPi(b,function(a){n(S.id)}).$promise}function u(a){var b=P(a);V[b]=a}function v(a){return a.pis||(a.pis=[]),a.filters||(a.filters={}),a.pis=_.sortBy(a.pis,"order"),a}function w(a){var b=[],c=null;return _.forEach(R,function(d){if(c=x(d,a)){var e=h.aggregatedValue(a,c);c.reportedTestCount>0&&b.push(e)}}),b.reverse()}function x(a,b){if(Q[a.buildId]){var c=_.find(Q[a.buildId].metricReports,{piIndex:b._index});if(void 0===c)return;return c.statistics}}function y(a){return g.addSharePeople({id:S.id},{sharePeople:a},function(b){_.forEach(a,function(a){S._security.sharePeople.push(a)}),c.info("Share with people successful")},function(a){c.error("Error while sharing to people")}).$promise}function z(a,b){var d=_.indexOf(S.pis,a);return d>-1?S.pis[d]=b:c.error("Pi not found in the dashboard",a),l(S).then(function(){m()})}function A(a){return S.pis.push(a),l(S).then(function(){m()})}function B(a){T.reference=a}function C(){return T.reference}function D(a){T.compared=a}function E(){return T}function F(){T={reference:null,compared:null}}function G(a){return g.saveComparison({id:S.id,referenceId:T.reference,comparedId:T.compared,name:a.name}).$promise}function H(a){return T.reference&&T.reference===a.id}function I(){if(S.id)return g.compare({id:S.id,ref:T.reference,"with":T.compared}).$promise.then(function(a){return a.comparisons=_.sortBy(a.comparisons,"pi.order"),U=a,a});var b=a.defer();return b.reject(),b.promise}function J(){return U}function K(a){return a.testCase+"#"+a.name+"#"+a.aggregationFn}function L(a){if(a.unit&&a.testCase&&a.name&&a.aggregationFn)return g.piStats({id:S.id,testCase:a.testCase,metricName:a.name,unit:a.unit,aggregation:a.aggregationFn}).$promise}function M(){return g.allPiStats({id:S.id}).$promise}function N(a,b){if(a._index){var d=_.find(S.pis,{_index:a._index});d?(d.regressionThreshold=b,d.regressionThresholdType=i.thresholdType.RELATIVE):c.warn("found no PI with index "+a._index+" in the dashboard. Skip it")}}function O(){return d.hasPermission(S,e.perms.EDIT)}function P(a){return a.buildId+"-"+a.piIndex}var Q=null,R=null,S=null,T={reference:null,compared:null},U=null,V={},W={loadDashboard:k,saveDashboard:l,getDashboard:p,loadHistory:m,getHistory:q,getBuildSignatures:r,getMetricHistoryValues:w,getMetricSummary:x,addSharePeople:y,replacePi:z,addPi:A,metricTracker:K,getPiStatistics:L,getAllPiStatistics:M,setRelativePiThreshold:N,getBuildPi:s,saveBuildPi:t,setCompareReference:B,getCompareReference:C,isCompareReference:H,setCompared:D,getCompareSettings:E,saveComparison:G,compare:I,getCompareResult:J,canEdit:O};return W}]),angular.module("app.kpi").controller("AddResultModalCtrl",["$scope","$modalInstance","metric","build","PiDashboards","DashboardModel","Notifier",function(a,b,c,d,e,f,g){function h(){var b=f.getDashboard(),e={};e.testCase=c.testCase,e.piUnit=c.unit,e.piName=c.name,e.value=c.latest,e.build=d,a.form=e,a.context=k(b),i(b),j()}function i(b){var c=_.get(b,"filters.benchNames");c&&(a.benchNames=c,c.length>0&&(a.form.benchName=c[0]))}function j(){d?f.getBuildSignatures(d).then(function(b){1===b.length?(a.editBuild=!1,a.form.build=b[0]):(a.builds=b,a.editBuild=!0)}):(a.editBuild=!0,a.builds=null)}function k(a){var b={};return a.filters.branch&&(b.branch=a.filters.branch),a.filters.targetProduct&&(b.targetProduct=a.filters.targetProduct),a.filters.targetDevice&&(b.targetProduct=a.filters.targetDevice),a.filters.buildTypes&&(b.type=a.filters.buildTypes),b}function l(){var d={name:c.name,value:a.form.value,unit:c.unit,testCase:c.testCase,build:a.form.build,bench:{name:a.form.benchName}};n(d,function(a){b.close(a)})}function m(){b.dismiss("cancel")}function n(a,b){var c=f.getDashboard();e.createPiResult({id:c.id},a,function(a){f.loadHistory(),g.success("New test result created"),b(a)},function(a){g.error("Error "+a.code,"Failed to create new test result"),b()})}function o(){return!a.addResultForm.$invalid&&a.form.benchName}a.ok=l,a.cancel=m,a.isFormValid=o,h()}]),angular.module("app.kpi").service("DashboardModals",["$modal","$log","DashboardModel","DashboardSettingsModel","PiModel","Notifier","BuildPiModel","WidgetModals",function(a,b,c,d,e,f,g,h){this.openAddResult=function(b,c){var d=a.open({animation:!1,templateUrl:"app/kpi/add-result-modal.html",controller:"AddResultModalCtrl",size:"lg",resolve:{metric:function(){return b},build:function(){return c}}});return d.result},this.openBuildPi=function(b,d,e){g.setBuild(d),g.setPi(b),g.setSummary(e),g.setBuildPi(c.getBuildPi(d,b));var f=a.open({animation:!1,templateUrl:"app/kpi/build-pi-modal.html",controller:"BuildPiModalCtrl",resolve:{metric:function(){return b},build:function(){return d},summary:function(){return e}}});return f.result},this.openCopy=function(b){var c=a.open({animation:!1,templateUrl:"app/kpi/copy-dashboard-modal.html",controller:"CopyDashboardModalCtrl",resolve:{dashboard:function(){return b}}});return c.result},this.addSharePeople=function(){return h.openPeopleRetrival()},this.openBuildComparePicker=function(){var b=a.open({animation:!1,templateUrl:"app/kpi/build-compare-picker-modal.html",controller:"BuildComparePickerModalCtrl"});return b.result},this.openSettings=function(){d.loadSettings();var c=a.open({animation:!1,size:"lg",templateUrl:"app/widgets/modal/step-modal.html",controller:"StepModalCtrl",resolve:{options:function(){return{title:{text:"Dashboard settings",icon:"glyphicon glyphicon-cog"},tabs:[{title:"General",templateUrl:"app/kpi/dashboard-settings-general.html",controller:"DashboardSettingsGeneralCtrl"},{title:"Filters",templateUrl:"app/kpi/dashboard-settings-filters.html",controller:"DashboardSettingsFiltersCtrl"}],actions:{ok:function(){d.apply()},cancel:function(){b.debug("dashboard settings edition cancelled")}}}}}});return c.result},this.openEditPi=function(d,f){e.setPi(angular.copy(d));var g=d?"Edit performance indicator":"Add performance indicator",h=a.open({animation:!1,size:"lg",templateUrl:"app/widgets/modal/step-modal.html",controller:"StepModalCtrl",resolve:{options:function(){return{title:{text:g,icon:"intelicon-opportunity-target-goal"},tabs:[{title:"General",templateUrl:"app/kpi/edit-pi.html",controller:"EditPiCtrl",active:"general"===f},{title:"Target",templateUrl:"app/kpi/edit-pi-target.html",controller:"EditPiTargetCtrl",active:"target"===f}],actions:{ok:function(){d?c.replacePi(d,e.getPi()):c.addPi(e.getPi())},cancel:function(){b.debug("PI edition cancelled")}}}}}});return h.result},this.openSaveReport=function(b){var c=a.open({animation:!1,templateUrl:"app/kpi/save-report-modal.html",controller:"SaveReportModalCtrl",resolve:{compareResult:function(){return b}}});return c.result},this.openComparisonLegend=function(b){a.open({animation:!1,templateUrl:"app/kpi/build-compare-legend.html"})},this.openPiAutoThreshold=function(){var b=a.open({animation:!1,size:"lg",templateUrl:"app/kpi/pi-auto-threshold-modal.html",controller:"PiAutoThresholdModalCtrl"});return b.result},this.openBuildSignatures=function(b){var c=a.open({animation:!1,templateUrl:"app/widgets/modal/build-signatures-modal.html",controller:"BuildSignaturesModalCtrl",size:"lg",resolve:{signatures:function(){return b.signatures}}});return c.result}}]),angular.module("app.kpi").controller("EditPiCtrl",EditPiController),EditPiController.$inject=["$scope","PiConstant","DashboardModel","Notifier","PiModel"],angular.module("app.kpi").controller("EditPiTargetCtrl",EditPiTargetController),EditPiTargetController.$inject=["$scope","PiModel","PiConstant"],angular.module("app.kpi").directive("piValue",["PiBusiness",function(a){return{restrict:"E",scope:{value:"=",target:"="},template:"<span ng-class=\"{'text-danger':isSucceed === false, 'text-success':isSucceed===true}\">{{value|number:2}}</span>",link:function(b,c,d){function e(c,d){void 0!==d&&void 0!==c&&(a.isInTarget(c,d)?b.isSucceed=!0:b.isSucceed=!1)}b.$watch("value",function(a){e(b.target,a)}),b.$watch("target",function(a){e(a,b.value)})}}}]),angular.module("app.widgets").directive("targetValue",["PiConstant",function(a){function b(b){b.targetType=a.target.type}return{restrict:"E",scope:{target:"="},templateUrl:"app/kpi/target-value.html",link:b}}]),angular.module("app.kpi").factory("BuildMetricComponent",["DashboardModals","DashboardModel","PiBusiness","PiConstant","numberFilter",function(a,b,c,d,e){function f(a,b,c,d,e){e=e||!1;var f=angular.element("<span></span>");return a?f.append(g(b,c,a,d,e)):f.append(h(b,c,e)),f}function g(c,d,e,f,g){var h=b.getBuildPi(d,c),m=j(e,f),n=i(e),o=angular.element("<div>"),p=angular.element("<div>"),q=angular.element("<span>");q.text(" ("+e.reportedTestCount+"/"+e.totalTestCount+")");var r;return g?(r=angular.element('<a href=""></a>'),r.click(function(){var b=k(p,d,c);return a.openBuildPi(c,d,e).then(b),!1})):r=angular.element("<span></span>"),r.append(angular.element('<strong class="'+n+'">'+m+"</strong>")),o.append(r),o.append(q),o.append(p),h&&p.html(l(h)),o}function h(b,c,d){var e;return d?(e=angular.element('<a href="" class="text-muted" title="Add a result manually"></a>'),e.click(function(){return a.openAddResult(b,c),!1})):e=angular.element('<span class="text-muted"></span>'),e.text("Not run"),e}function i(a){var b="";switch(a.status){case d.piStatus.BLOCKED:b="text-muted";break;case d.piStatus.FAILED:b="text-danger";break;case d.piStatus.WARNING:b="text-warning";break;case d.piStatus.PASSED:b="text-success"}return b}function j(a,b){return a.status===d.piStatus.BLOCKED?d.piStatus.BLOCKED:e(b,2)}function k(a,c,d){return a.scope().$watch(function(){return b.getBuildPi(c,d)},function(b,c){b!==c&&a.html(l(b))})}function l(a){var b=angular.element("<div>");return a.evolutionFlag===d.evolution.REGRESSION&&b.append(m("danger")),a.evolutionFlag===d.evolution.PROGRESSION&&b.append(m("success")),b}function m(a){return angular.element('<span class="text-'+a+' glyphicon glyphicon-flag"></span>')}return{cellContent:f}}]),angular.module("app.kpi").directive("buildMetricHistory",["BuildMetricComponent","DashboardModel","PiBusiness","PiConstant",function(a,b,c,d){function e(d,e,f){function g(){d.$watch(b.getHistory,function(a,b){a!==b&&h(a)}),d.$watch("metric",function(a,c){h(b.getHistory())})}function h(f){e.html(""),_.forEach(f,function(f){var g=(b.isCompareReference(f),angular.element('<td class="cr-pi-build-column"></td>')),h=b.getMetricSummary(f,d.metric),i=null;h&&(i=c.aggregatedValue(d.metric,h)),g.append(a.cellContent(h,d.metric,f,i,!0)),e.append(g)})}g()}return{restrict:"A",link:e,scope:{metric:"="}}}]),angular.module("app.kpi").directive("buildMetricCompare",["BuildMetricComponent","DashboardModel","PiBusiness","numberFilter",function(a,b,c,d){function e(b,e,f,g,h){function i(){h(function(a){s=a}),j()}function j(){b.$watch("comparison",function(){k()})}function k(){e.html(s),e.append(l(b.reference,b.comparison)).append(m(b.compared,b.comparison))}function l(a,b){var c=angular.element('<td class="cr-pi-build-column-reference"></td>');return b&&c.append(n(a,b.pi,b.reference)),c}function m(a,b){var c=angular.element("<div></div>");return b&&(b.available&&c.append(o(b)),c.append(n(a,b.pi,b.compared))),angular.element('<td class="cr-pi-build-column-compared"></td>').append(c)}function n(d,e,f){var g=null;return f&&(g=c.aggregatedValue(e,f)),a.cellContent(f,e,d,g,b.enableLinks)}function o(a){var b,c=angular.element('<div class="cr-pi-compare-trend"></div>'),e=angular.element('<div class="pull-right"></div>');b=a.delta>=0?"+":"";var f=d(100*Math.abs(a.progressRatio),1)+"%",g=b+d(a.delta,1);return e.append('<div class="cr-pi-compare-trend-value"><strong>'+g+"</strong> ("+f+")</div>"),c.append(e),a.stopper&&c.append(p()),a.stable||c.append(q(a)),c.attr("title",r(a)),c}function p(){return angular.element('<span class="text-danger pull-left glyphicon glyphicon-ban-circle" title="This result is a stopper"></span>')}function q(a){var b;b=a.progressRatio>0?"up":"down";var c="";a.progression?c="text-success":a.regression&&(c="text-danger");var d="";return d=a.significative?"arrow-"+b+"2":"arrow-"+b+"-right2",angular.element('<span class="icomoon icon-'+d+" "+c+'"></span>')}function r(a){var b="Value trend";return a.stable?b="The value is considered stable":(a.progression||a.regression)&&(b="There is a"+(a.significative?" major":"")+(a.progression?" progression":"")+(a.regression?" regression":"")),b}var s;i()}return{restrict:"A",link:e,transclude:!0,scope:{comparison:"=",compared:"=",reference:"=",enableLinks:"="}}}]),angular.module("app.kpi").controller("CopyDashboardModalCtrl",["$scope","$modalInstance","dashboard","Notifier",function(a,b,c,d){function e(){var b={};b.newName=c.name+" - Copy",a.form=b}function f(){b.close(a.form)}function g(){b.dismiss("cancel")}a.ok=f,a.cancel=g,e()}]),angular.module("app.kpi").controller("DashboardCompareCtrl",["$scope","dashboardId","DashboardModel","DashboardConstant","DashboardModals","PiConstant","IntelColors","HighchartsConfig","$stateParams","$state",function(a,b,c,d,e,f,g,h,i,j){function k(){l()}function l(){a.$watch(c.getDashboard,function(b){a.dashboard=b,c.setCompareReference(i.ref),c.setCompared(i["with"]),p()})}function m(){e.openBuildComparePicker().then(function(a){j.go(j.current,{ref:a.compareRef.buildId,"with":a.compareWith.buildId},{reload:!0})})}function n(){e.openSaveReport(a.compareResult)}function o(){var a=c.getCompareSettings(),b={ref:a.compared,"with":a.reference};j.go("home.kpi-dashboard.detail.compare",b)}function p(){c.compare().then(function(b){a.compareResult=b})}function q(){e.openComparisonLegend()}a.pickBuildToCompare=m,a.metricTracker=c.metricTracker,a.saveReport=n,a.inverseComparison=o,a.openLegend=q,k()}]),angular.module("app.kpi").controller("DashboardCompareHeaderCtrl",DashboardCompareHeaderCtrl),angular.module("app.kpi").controller("DashboardSettingsGeneralCtrl",DashboardSettingsGeneralController),DashboardSettingsGeneralController.$inject=["$scope","DashboardModel","DashboardSettingsModel"],angular.module("app.kpi").controller("DashboardSettingsFiltersCtrl",DashboardSettingsFiltersController),DashboardSettingsFiltersController.$inject=["$scope","TestFiltersModel","DashboardSettingsModel","$log"],angular.module("app.kpi").service("DashboardSettingsModel",["DashboardModel","Notifier",function(a,b){function c(){var b=a.getDashboard();g.name=b.name,h=angular.copy(b.filters)}function d(){return g}function e(){return h}function f(){var c=a.getDashboard();c.filters=h,c.name=g.name,a.saveDashboard(c).then(function(){b.success("Dashboard settings saved"),a.loadHistory()})}var g={},h={},i={loadSettings:c,getGeneral:d,getFilters:e,apply:f};return i}]),angular.module("app.kpi").controller("BuildComparePickerModalCtrl",["$scope","$modalInstance","DashboardModel","Notifier",function(a,b,c,d){function e(){a.$watch(c.getHistory,function(b){a.builds=b}),a.$watch(c.getCompare,function(b){a.compareRef=b.ref,a.compareWith=b["with"]})}function f(){b.close({compareRef:a.compareRef,compareWith:a.compareWith})}function g(){b.dismiss("cancel")}function h(b){a.compareRef=b}function i(b){a.compareWith=b}function j(){return a.compareRef&&a.compareWith}a.ok=f,a.cancel=g,a.compareRef=null,a.compareWith=null,a.isSelectionValid=j,a.setCompareRef=h,a.setCompareWith=i,e()}]),angular.module("app.kpi").controller("SaveReportModalCtrl",["$scope","$modalInstance","DashboardModel","Notifier","compareResult","$state",function(a,b,c,d,e,f){function g(){}function h(){c.saveComparison(a.form).then(function(a){d.success("Go to report","Report generated",{onTap:function(){f.go("home.pi.reports.detail",{id:a.id})},closeButton:!0}),b.close(a)})}function i(){b.dismiss("cancel")}function j(){return e.compared.buildId+(e.compared.tag?" "+e.compared.tag.name:"")}a.ok=h,a.cancel=i,a.form={name:j()},a.compareResult=e,g()}]),angular.module("app.kpi").controller("ReportListCtrl",ReportListCtrl),angular.module("app.kpi").controller("ReportFiltersCtrl",ReportFiltersCtrl),angular.module("app.kpi").controller("ReportCtrl",ReportCtrl),angular.module("app.kpi").directive("reportTile",reportTileDirective),angular.module("app.kpi").controller("ReportSiblingsCtrl",ReportSiblingsCtrl),angular.module("app.kpi").directive("buildStatusChart",BuildStatusChartDirective),angular.module("app.kpi").factory("PiModel",["DashboardModel","PiConstant",function(a,b){function c(a){n=a?a:f()}function d(){return n}function e(){return angular.copy(l)}function f(){return angular.copy(m)}function g(){return n.target}function h(){n.target=null}function i(a){n.target||(n.target=e()),n.target.type=a}function j(a){n.regressionThreshold=Math.ceil(1e3*a)/1e3,n.regressionThresholdType=b.thresholdType.ABSOLUTE}function k(a){n.regressionThreshold=Math.ceil(100*a)/100,n.regressionThresholdType=b.thresholdType.RELATIVE}var l={min:0,max:0,waiver:0,target:0,type:b.target.type.LOWER_IS_BETTER},m={displayName:"",aggregationFn:b.defaults.AGGREGATION_FUNCTION,regressionThreshold:b.defaults.REGRESSION_THRESHOLD,minimumRuns:b.defaults.minimumRuns.MED},n=f();return{setPi:c,getPi:d,setTargetType:i,removeTarget:h,getTarget:g,setAbsoluteThreshold:j,setRelativeThreshold:k}}]),angular.module("app.kpi").directive("piSelect",["Tests","Kpis",function(a,b){function c(c,d,e,f){function g(){n()}function h(b){return a.testCases({q:b}).$promise.then(function(a){return a.results})}function i(a){c.unit=a.unit,c.metricName=a.name,m()}function j(a){c.kpis=[],c.metricName=null,m()}function k(a){l(a),c.metricName=null,m()}function l(a){return b.query({testCase:a}).$promise.then(function(a){c.kpis=a.results})}function m(){f.$setViewValue({testCase:c.testCase,metricName:c.metricName,unit:c.unit})}function n(){f.$formatters.push(function(a){return{testCase:a.testCase,metricName:a.name,unit:a.unit}}),f.$render=function(){c.testCase=f.$viewValue.testCase,c.unit=f.$viewValue.unit,c.metricName=f.$viewValue.metricName,c.testCase&&l(c.testCase)},f.$parsers.push(function(a){return{testCase:a.testCase,name:a.metricName,unit:a.unit}}),f.$validators.completeInput=function(a,b){var c=b.metricName,d=b.testCase;return!!d&&!!c}}c.kpis=[],c.testCaseChanged=j,c.selectTestCase=k,c.selectMetric=i,c.getTestCases=h,c.testCase="",c.selectedPi={},c.unit="",g()}return{restrict:"E",require:"ngModel",scope:{},templateUrl:"app/kpi/pi-select.html",link:c}}]),angular.module("app.kpi").directive("piTrendSparkline",["HighchartsConfig","DashboardModel","IntelColors",function(a,b,c){function d(d){var e=b.getMetricHistoryValues(d);return a.sparkline({options:{chart:{height:45},colors:[c.lightBlue]},series:[{name:"PI",data:e}]})}return{restrict:"E",scope:{metric:"="},templateUrl:"app/kpi/pi-trend-sparkline.html",link:function(a,c){function e(c){c&&(a.sparklineOptions=d(c),a.sparklineId=b.metricTracker(c))}a.$watch(b.getHistory,function(b,c){e(a.metric)}),a.$watch("metric",function(a,b){e(a)})}}}]),angular.module("app.kpi").controller("PiAutoThresholdModalCtrl",["$scope","$modalInstance","DashboardModel","Notifier",function(a,b,c,d){function e(){a.loading=!0,c.getAllPiStatistics().then(function(b){b=_.orderBy(b,["pi.order"]),_.forEach(b,function(a){a.values=_.map(a.values,function(a){return _.round(a,2)})}),a.allPiStats=b,a.historyLength=_.max(_.map(b,"count")),a.loading=!1,f()})}function f(){_.forEach(a.allPiStats,function(a){a.apply=a.count>0})}function g(){_.forEach(a.allPiStats,function(a){a.apply=!1})}function h(){a.allPiStats.filter(function(a){return a.apply}).forEach(function(a){c.setRelativePiThreshold(a.pi,a.autoRegressionThreshold)}),c.saveDashboard().then(function(){d.success("Regression thresholds have been updated")},function(){d.error("An error occured while saving regression thresholds")}),b.close()}function i(){b.dismiss("cancel")}a.ok=h,a.cancel=i,a.selectAll=f,a.unselectAll=g,e()}]),angular.module("app.kpi").factory("BuildPiModel",BuildPiModel),angular.module("app.kpi").controller("BuildPiModalCtrl",["$scope","$modalInstance","$state","Notifier","BuildPiModel",function(a,b,c,d,e){function f(){a.summary=e.getSummary(),a.build=e.getBuild(),a.pi=e.getPi()}function g(){b.close()}a.close=g,f()}]),angular.module("app.kpi").controller("BuildPiRunsCtrl",BuildPiRunsCtrl),angular.module("app.kpi").controller("BuildPiAnalyzeCtrl",BuildPiAnalyzeCtrl),angular.module("app.kpi").directive("evolutionFlag",["PiConstant",function(a){function b(b,d){d===a.evolution.PROGRESSION?b.html(c("text-success")):d===a.evolution.REGRESSION?b.html(c("text-danger")):b.html("")}function c(a){return angular.element('<span class="'+a+' glyphicon glyphicon-flag"></span>')}return{restrict:"E",scope:{flag:"="},link:function(a,c){b(c,a.flag),a.$watch("flag",function(a,d){a!==d&&b(c,a)})}}}]),angular.module("app.auth").config(["OAuth2Provider","authConfig","restApiConfig","crashtoolConfig","$httpProvider",function(a,b,c,d,e){function f(){e.interceptors.push("BasicAuthInterceptor")}function g(){var f=b.oauth;a.configure({callbackState:"oauth2Callback",defaultRedirectState:"home.welcome",clientId:f.CLIENT_ID,redirectUri:f.REDIRECT_URI,authzServerUri:f.AUTHZ_SERVER_URI,scopes:f.SCOPE,resourceUrls:[c.URL,d.BASE_URL]}),e.interceptors.push("OAuth2Interceptor")}b.ENABLED!==!1&&("dev"===b.TYPE&&f(),"oauth"===b.TYPE&&g())}]),angular.module("app.auth").run(["OAuth2","BasicAuth","Subject","$rootScope","authConfig","$log","$state","AudienceTracker","AppEventConstant","Notifier",function(a,b,c,d,e,f,g,h,i,j){function k(){if(c.isAuthenticated()){var a=c.getInfo();h.setIdentity(a.name+" "+a.lastname)}}function l(){b.setCredentials(e.dev.USER,e.dev.PASSWORD)}function m(){function b(c){var d=j.info("Process login ...","Login",{timeOut:6e4});a.authorize().then(function(){j.clear(d),j.success("Login sucessfully.","Success"),c&&c()})["catch"](function(a){j.clear(d);var e="Login failed,click <strong>here</strong> to login again";j.error(e,"Login failed",{onTap:function(){b(c)},allowHtml:!0,tapToDismiss:!0,autoDismiss:!1})})}d.$on("$stateChangeStart",function(c,d,e,g,h){return"oauth2Callback"===d.name?void f.debug("Access to access token callback url"):void(a.isAuthenticated()||(f.debug("State changed and needs authentication, but user is not"),c.preventDefault(),a.saveRedirectState(d,e),b(function(){a.redirectToSavedState()})))}),d.$on(i.session.EXPIRED,function(){return f.debug(i.session.EXPIRED+" received, Re-login"),a.saveRedirectState(g.current,g.params),b()})}var n=e.oauth,o=window.location.protocol+"//"+window.location.host;return o!==n.REDIRECT_URI?void(window.location.href=window.location.href.replace(o,n.REDIRECT_URI)):void(e.enabled!==!1&&("dev"===e.TYPE&&(f.debug("Authentication: dev mode"),l()),"oauth"===e.TYPE&&(f.debug("Authentication: OAuth2 mode"),m()),k()))}]),angular.module("app.auth").config(["$stateProvider","authConfig",function(a,b){b.ENABLED!==!1&&"oauth"===b.TYPE&&a.state("oauth2Callback",{url:"/access_token=:urlParams",template:"<ui-view></ui-view>",controller:"Oauth2CallbackCtrl"})}]),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("home.testsimport",{url:"/testsimport",templateUrl:"app/tests/import/testsimport.html",controller:"TestsImportCtrl",breadcrumb:{name:"Test import"}})}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestsImportCtrl",["$rootScope","$scope","$timeout","$q","$document","modalConfirmHelper","OAuth2","TestConstant","Campaigns","Tests","Bugtracker","$http","restApiConfig",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){c(function(){e.find("#campaignName").select()}),t()}function o(a){return Math.floor(100*a)/100}function p(a){b.alerts.splice(a,1)}function q(){return b.successfulImportCount+b.failedImportCount>0&&b.successfulImportCount+b.failedImportCount<=b.tests.length}function r(){b.alerts=[];var a=h.verdict.PASSED;b.tests.forEach(function(b){b.verdict!==h.verdict.BLOCKED&&b.verdict!==h.verdict.FAILED||(a=h.verdict.FAILED)}),b.campaign.verdict=a,b.campaign.status=h.status.COMPLETED;var c=angular.copy(b.build);c.targetProduct=c.targetProduct,c.targetDevice=c.targetDevice,v(b.campaign,c)}function s(){f.confirm["delete"](function(){angular.isDefined(b.importedCampaign.id)&&(b.alerts=[],i["delete"]({campaignId:b.importedCampaign.id}).$promise.then(function(a){b.importedCampaign={},b.successfulImportCount=0,b.failedImportCount=0,b.alerts.push({type:"success",msg:"Import canceled successfully."}),t()},function(a){b.alerts.push({type:"danger",msg:"Failed to cancel import: "+u(a.data)}),t()}))})("imported campaign '"+b.importedCampaign.name+"' and its test results")}function t(){b.progressValue=0,b.campaign={},b.tests=[],b.statuses=[],b.verdicts=void 0,b.build.buildId=null,b.inXlsFileDate=null,b.manualTestsInFile=null,b.successfulImportCount=0,b.failedImportCount=0}function u(a){return a.message?a.message:a.stackTrace?a.stackTrace:a}function v(c,d){a.preventNavigation("Excel file import is not finished. \nDo you want to stop test import?"),c.build=d,null!=b.inXlsFileDate&&(c.startTime=b.inXlsFileDate);var e=g.getSubject();null!==e&&(c.importedBy=e.name+" "+e.lastname),i.save(c).$promise.then(function(c){b.importedCampaign=c,b.alerts.push({type:"success",msg:"Campaign created successfully: ",link:{url:"#/campaigns/"+c.id+"/detail",label:"Open "+c.name}}),b.successfulImportCount++,w(c,d);var e={displayName:G[0].name,retention:"SHORT",file:G[0]},f=new FormData;angular.forEach(e,function(a,b){f.append(b,a)}),l.post(m.URL+"/campaigns/"+c.id+"/attachments",f,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(){},function(c){b.alerts.push({type:"danger",msg:"Failed to create attachment for campaign: "+u(c.data)}),a.allowNavigation()})},function(c){b.alerts.push({type:"danger",msg:"Failed to create campaign: "+u(c.data)}),a.allowNavigation()})}function w(c,d){function e(){var c=b.tests[g];delete c.errorMsg;var h=angular.copy(c);h.issues&&delete h.issues,h.comments&&delete h.comments,delete h.importFailed,h.campaignId=f,h.build=d,angular.isDefined(b.campaign.domain)&&(h.domain=b.campaign.domain),angular.isDefined(b.campaign.type)&&(h.type=b.campaign.type),angular.isDefined(h.feature)&&""===h.feature.trim()&&delete h.feature,j.save(h).$promise.then(function(d){b.successfulImportCount++,c.importFailed=!1,b.successfulImportCount+b.failedImportCount===b.tests.length+1&&(b.failedImportCount>0?b.alerts.push({type:"warning",msg:"Import completed but some test results creation failed."}):(b.alerts.push({type:"success",msg:"All test results created successfully.",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}}),t()),a.allowNavigation()),b.progressValue=100*(b.successfulImportCount+b.failedImportCount)/b.manualTestsInFile,g++,c.issues&&x(d.id,c.issues),c.comments&&j.createComment({testId:d.id},{text:c.comments}),g<b.tests.length&&e()},function(a){b.alerts.push({type:"danger",msg:"Failed to create test '"+h.testCase+"' (see details below).",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}}),c.importFailed=!0,c.errorMsg=u(a.data),b.failedImportCount++,g++,g<b.tests.length&&e()})}var f=c.id,g=0;e()}function x(a,b){b=b.split(","),b.forEach(function(b){var c={number:b};k.issues(c).$promise.then(function(b){if(null!==b&&angular.isDefined(b.id)){var c=b.id;j.refIssue({testId:a,id:c},{})}})})}function y(a){var b={};return a.SheetNames.forEach(function(c){var d=XLSX.utils.sheet_to_row_object_array(a.Sheets[c]);d.length>0&&(b[c]=d)}),b}function z(a){c(function(){
b.tests=[],b.importedCampaign={},b.successfulImportCount=0,b.failedImportCount=0,b.alerts=[]}),b.manualTestsInFile=0,G=a.target.files;var d=G[0],e=new FileReader;e.onload=function(a){var b,c=a.target.result;try{if(angular.isDefined(e.readAsBinaryString))b=XLSX.read(c,{type:"binary"});else{var f=A(c);b=XLSX.read(btoa(f),{type:"base64"})}var g=y(b);B(g,d.name)}catch(h){console.log(h.message)}},angular.isDefined(e.readAsBinaryString)?e.readAsBinaryString(d):e.readAsArrayBuffer(d)}function A(a){for(var b="",c=0,d=10240;c<a.byteLength/d;++c)b+=String.fromCharCode.apply(null,new Uint8Array(a.slice(c*d,c*d+d)));return b+=String.fromCharCode.apply(null,new Uint8Array(a.slice(c*d)))}function B(a,d){b.campaign.name=d.replace(/\.[^\/.]+$/,"");var e=Object.keys(a)[0],f=a[e],g=[];b.build.buildId=null,b.inXlsFileDate=null,f.forEach(function(a){var c=a["Report sent:"];if(angular.isDefined(c)&&"Manual"===c)g.push(a);else if(angular.isDefined(a.Date))if("Build ID"===a.Date){if(angular.isDefined(a["Duration (men.hours)"])){var d=a["Duration (men.hours)"];b.build.buildId=d.replace(/(\r\n|\n|\r)/gm,"").trim()}}else{var e=Date.parse(a.Date);isFinite(e)&&(b.inXlsFileDate=e)}});var h=[];g.forEach(function(a){C(a,h)}),c(function(){b.manualTestsInFile=h.length,b.tests=h})}function C(a,c){var d={importFailed:!1};angular.isDefined(a["Duration (men.hours)"])&&(d.testCase=a["Duration (men.hours)"]),angular.isDefined(a.Date)&&(d.description=a.Date,D(d)),angular.isDefined(a.Planned)&&F(a,d),angular.isDefined(a.Failed)&&(d.comments=a.Failed,E(d)),null!=b.inXlsFileDate&&(d.startTime=b.inXlsFileDate),c.push(d)}function D(a){var b="Unknown",c=/FT [|-]((.*)_.*|.*)/g,d=c.exec(a.description);angular.isDefined(d)&&null!==d&&(b=angular.isDefined(d[d.length-1])?d[d.length-1]:d[d.length-2]),a.feature=b}function E(a){for(var b,c=[],d=/[A-Z]+[-][0-9]+/g;null!==(b=d.exec(a.comments));){b.index===d.lastIndex&&d.lastIndex++;var e=b[0];null!=e&&c.push(e)}c.length>0&&(a.issues=c.join(","))}function F(a,b){var c=a.Planned,d={P:"PASSED",NA:"NA",B:"BLOCKED",F:"FAILED"};if(angular.isDefined(d[c])){c=d[c];var e="";"PASSED"===c||"BLOCKED"===c||"FAILED"===c?(e=c,c="COMPLETED"):"NA"===c&&(e=c,c="PENDING"),b.verdict=e}b.status=c}b.alerts=[],b.build={},b.campaign={},b.importedCampaign={},b.round=o,b.closeAlert=p,b.isImportInProgress=q,b.doImport=r,b.cancelImport=s,b.handleFile=z,b.checkedTests=[];var G;n()}])}(),angular.module("CampaignReportingApp").config(["$stateProvider",function(a){a.state("home.testsimport-new",{url:"/testsimport-new",templateUrl:"app/tests/import-new/testsimport-new.html",controller:"TestsImportNewCtrl",breadcrumb:{name:"Test import new"}})}]),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("TestsImportNewCtrl",["$rootScope","$scope","$timeout","$q","$document","modalConfirmHelper","OAuth2","TestConstant","Campaigns","Tests","Bugtracker","$http","restApiConfig",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){c(function(){e.find("#campaignName").select()}),t()}function o(a){return Math.floor(100*a)/100}function p(a){b.alerts.splice(a,1)}function q(){return b.successfulImportCount+b.failedImportCount>0&&b.successfulImportCount+b.failedImportCount<=b.checkedTests.length}function r(){b.alerts=[];var a=b.checkedTests.every(function(a){return a.verdict!==h.verdict.BLOCKED&&a.verdict!==h.verdict.FAILED}),c=a?h.verdict.PASSED:h.verdict.FAILED;b.campaign.verdict=c,b.campaign.status=h.status.COMPLETED;var d=angular.copy(b.build);d.targetDevice=d.targetDevice,d.targetProduct=d.targetProduct,v(b.campaign,d)}function s(){f.confirm["delete"](function(){angular.isDefined(b.importedCampaign.id)&&(b.alerts=[],i["delete"]({campaignId:b.importedCampaign.id}).$promise.then(function(a){b.importedCampaign={},b.successfulImportCount=0,b.failedImportCount=0,b.alerts.push({type:"success",msg:"Import canceled successfully."}),t()},function(a){b.alerts.push({type:"danger",msg:"Failed to cancel import: "+u(a.data)}),t()}))})("imported campaign '"+b.importedCampaign.name+"' and its test results")}function t(){b.progressValue=0,b.campaign={},b.tests=[],b.checkedTests=[],b.statuses=[],b.verdicts=void 0,b.build.buildId=null,b.manualTestsInFile=null,b.successfulImportCount=0,b.failedImportCount=0}function u(a){return a.message?a.message:a.stackTrace?a.stackTrace:a}function v(c,d){a.preventNavigation("Excel file import is not finished. \nDo you want to stop test import?"),c.build=d;var e=g.getSubject();null!==e&&(c.importedBy=e.name+" "+e.lastname),i.save(c).$promise.then(function(a){b.importedCampaign=a,b.alerts.push({type:"success",msg:"Campaign created successfully: ",link:{url:"#/campaigns/"+a.id+"/detail",label:"Open "+a.name}}),b.successfulImportCount++,w(a,d);var c={displayName:D[0].name,retention:"SHORT",file:D[0]},e=new FormData;angular.forEach(c,function(a,b){e.append(b,a)}),l.post(m.URL+"/campaigns/"+a.id+"/attachments",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})},function(c){b.alerts.push({type:"danger",msg:"Failed to create campaign: "+u(c.data)}),a.allowNavigation()})}function w(c,d){function e(){var c=b.checkedTests[g];delete c.errorMsg;var h=angular.copy(c);h.issues&&delete h.issues,h.comments&&delete h.comments,delete h.importFailed,h.campaignId=f,h.build=d,angular.isDefined(b.campaign.domain)&&(h.domain=b.campaign.domain),angular.isDefined(b.campaign.type)&&(h.type=b.campaign.type),angular.isDefined(h.feature)&&""===h.feature.trim()&&delete h.feature,j.save(h).$promise.then(function(d){b.successfulImportCount++,c.importFailed=!1,b.successfulImportCount+b.failedImportCount===b.checkedTests.length+1&&(b.failedImportCount>0?b.alerts.push({type:"warning",msg:"Import completed but some test results creation failed."}):(b.alerts.push({type:"success",msg:"All test results created successfully.",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}}),t()),a.allowNavigation()),b.progressValue=100*(b.successfulImportCount+b.failedImportCount)/b.manualTestsInFile,g++,c.issues&&x(d.id,c.issues),c.comments&&j.createComment({testId:d.id},{text:c.comments}),g<b.checkedTests.length&&e()},function(a){b.alerts.push({type:"danger",msg:"Failed to create test '"+h.testCase+"' (see details below).",button:{doIt:b.cancelImport,label:"Cancel the import / Delete the campaign",glyph:"glyphicon-remove"}}),c.importFailed=!0,c.errorMsg=u(a.data),b.failedImportCount++,g++,g<b.checkedTests.length&&e()})}var f=c.id,g=0;e()}function x(a,b){b=b.split(","),b.forEach(function(b){var c={number:b};k.issues(c).$promise.then(function(b){if(null!==b&&angular.isDefined(b.id)){var c=b.id;j.refIssue({testId:a,id:c},{})}})})}function y(a){var b={};return a.SheetNames.forEach(function(c){var d=XLSX.utils.sheet_to_row_object_array(a.Sheets[c]);d.length>0&&(b[c]=d)}),b}function z(a){c(function(){b.tests=[],b.importedCampaign={},b.successfulImportCount=0,b.failedImportCount=0,b.alerts=[]}),b.manualTestsInFile=0,D=a.target.files;var d=D[0],e=new FileReader;e.onload=function(a){var b,c=a.target.result;try{if(angular.isDefined(e.readAsBinaryString))b=XLSX.read(c,{type:"binary",cellDates:"d"});else{var f=A(c);b=XLSX.read(btoa(f),{type:"base64",cellDates:"d"})}var g=y(b);B(g,d.name)}catch(h){console.log(h.message)}},angular.isDefined(e.readAsBinaryString)?e.readAsBinaryString(d):e.readAsArrayBuffer(d)}function A(a){for(var b="",c=0,d=10240;c<a.byteLength/d;++c)b+=String.fromCharCode.apply(null,new Uint8Array(a.slice(c*d,c*d+d)));return b+=String.fromCharCode.apply(null,new Uint8Array(a.slice(c*d)))}function B(a,d){b.campaign.name=d.replace(/\.[^\/.]+$/,"");var e=Object.keys(a)[0],f=a[e],g=[];f.forEach(function(a){C(a,g)}),c(function(){b.manualTestsInFile=g.length,b.tests=g})}function C(a,c){var d={importFailed:!1};for(var e in b.schema)if(b.schema.hasOwnProperty(e)){var f=b.schema[e];if(e in a){var g=a[e];try{switch(f.convert){case"uppercase":g=g.toUpperCase()}switch(f.type){case"int":g=parseInt(g);break;case"enum":g in f.values||(d.importFailed=!0,d.errorMsg=g+" in field:"+e+" is invalid");break;case"list":g=g.split(f.separator);break;case"string":}}catch(h){d.importFailed=!0,d.errorMsg=h.message}d[e]=g}else f.required===!0&&(d.importFailed=!0,d.errorMsg='required field: "'+e+'" not found'),"default"in f&&(d[e]=f["default"])}c.push(d)}b.alerts=[],b.importedCampaign={},b.round=o,b.closeAlert=p,b.isImportInProgress=q,b.doImport=r,b.cancelImport=s,b.handleFile=z,b.build={},b.campaign={},b.checkedTests=[],b.schema={testCase:{required:!0,type:"string"},verdict:{required:!0,type:"enum",values:h.verdict,convert:"uppercase"},status:{type:"enum",values:h.status,"default":h.status.COMPLETED},description:{type:"string"},duration:{type:"int"},type:{type:"string"},phase:{type:"enum",values:h.phase},feature:{type:"string"},comments:{type:"string"},issues:{type:"string"},team:{type:"string"}};var D;n()}])}(),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("CommentsCtrl",["$scope","Comments","Notifier","Subject","AppEventConstant","modalConfirmHelper",function(a,b,c,d,e,f){a.service=b,a.newComment="",a.addComment=function(){a.service.createNewComment(a.newComment).then(function(b){a.newComment=""},function(a){c.error(a.statusText,"Unable to add comment")})},a.deleteComment=function(b){f.confirm["delete"](function(){var d=a.service.comments.indexOf(b);a.service.deleteComment(b).then(function(b){a.service.comments.splice(d,1),a.service.count--},function(a){c.error(a.statusText,"Unable to delete comment")})})("the comment")},a.canEdit=function(a){return d.isSameUser(a.author)},a.editComment=function(b){var c=a.service.comments.indexOf(b);b.edit=!0,b.previous=b.text,a.service.comments[c]=b},a.updateComment=function(b){var d=a.service.comments.indexOf(b),e=b.previous;delete b.edit,delete b.previous,a.service.updateComment(b).then(function(b){a.service.comments[d]=b},function(b){a.service.comments[d].text=e,c.error(b.statusText,"Unable to edit comment")})},a.cancelEditComment=function(a){delete a.edit,a.text=a.previous,delete a.previous}}])}(),function(){angular.module("CampaignReportingApp").service("Comments",[function(){var a={resourceId:void 0,comments:[],count:0,createNewComment:function(a){},updateComment:function(a){},deleteComment:function(a){}};return a}])}(),angular.module("CampaignReportingApp").controller("SeLinuxCtrl",["$scope","$modal",function(a,b){function c(c){a.seError=c,b.open({animation:!1,templateUrl:"app/seLinux/seLinux.raws.modal.html",scope:a,size:"lg"})}a.showRaws=c,a.seError={},console.log(a.currentCampaign)}]),function(){"use strict";var a=angular.module("app.charts");a.controller("ChartsCtrl",["$scope","Charts",function(a,b){a.service=b}])}(),function(){angular.module("app.charts").service("Charts",["ChartData",function(a){function b(a){e.charts=a,e.charts.forEach(function(a){a.options.options=angular.copy(a.options)}),c()}function c(){var b=e.charts;b.forEach(function(a){a.options.loading=!0}),b.forEach(function(b){a.data({chartId:b.id}).$promise.then(function(a){d(b,a)},function(){b.options.loading=!1})})}function d(a,b){if(a.options.loading=!1,b&&b.totalCount>0){var c=b.results[0].series;c.forEach(function(b){var c=_.find(a.options.series,function(a){return a.name===b.name});angular.isDefined(c)&&(c.data=b.data)})}}var e={charts:[],count:0,setCharts:b};return e}])}(),function(){"use strict";var a=angular.module("app.issues");a.controller("IssuesCtrl",["$scope","$modal","modalConfirmHelper","Issues","$state",function(a,b,c,d,e){function f(){}function g(){b.open({animation:!1,templateUrl:"app/issues/issue-ref-modal.html",controller:"issueRefModalCtrl",size:"lg"}).result.then(function(){h()})}function h(){e.go(".",{},{reload:!0})}a.service=d,a.openRefIssuePopup=g,f(),a.deleteIssue=c.confirm["delete"](function(b){a.service.unrefIssue(a.service.resourceIds[0],b.id),h()})}])}(),function(){angular.module("app.issues").service("Issues",[function(){return{resourceType:void 0,resourceIds:[],issues:[],count:0,userLoadIssues:function(){},userRefIssue:function(a,b){},userUnrefIssue:function(a,b){},init:function(a,b,c,d,e){this.issues=[],this.resourceType=b,c&&(this.userLoadIssues=c),d&&(this.userRefIssue=d),e&&(this.userUnrefIssue=e),this.count=0,this.resourceIds=[];var f=this;if(a.forEach(function(a){f.resourceIds.push(a.id)}),angular.isDefined(a)&&1===a.length){var g=a[0];angular.isDefined(g.issues)&&null!==g.issues&&angular.isDefined(g.issues.length)&&this.doCount(g.issues)}},loadIssues:function(a){var b=this;if(a||!a&&this.count>0){var c=this.userLoadIssues();angular.isDefined(c)&&c.$promise.then(function(a){b.updateInternal(a.results)})}},refIssue:function(a,b,c,d){return this.userRefIssue(a,b,c,d).$promise.then(function(a){return a.issues})},unrefIssue:function(a,b){var c=this;this.userUnrefIssue(a,b).$promise.then(function(a){c.loadIssues(!0)})},updateInternal:function(a){this.issues=a,this.doCount(this.issues)},doCount:function(a){var b=this;this.count=0,angular.isDefined(a)&&a.forEach(function(a){angular.isDefined(a.id)&&null!==a.id&&b.count++})}}}])}(),angular.module("app.issues").controller("issueRefModalCtrl",["$scope","$filter","$modalInstance","Bugtracker","Issues","modalConfirmHelper","Notifier","Tests","$q",function(a,b,c,d,e,f,g,h,i){function j(){l(),q()}function k(){l(),a.newIssueReference.issueNumber=b("uppercase")(a.newIssueReference.issueNumber),a.newIssueReference.issueNumber=a.newIssueReference.issueNumber.replace(new RegExp("[^A-Z0-9-;]","g"),"").replace(/\s+/g,"-")}function l(){a.newIssueReference.verified=void 0,a.newIssueReference.issueObject=void 0,a.newIssueReference.createComment=!1,a.newIssueReference.issueComment=null}function m(b){for(var c=0;c<a.newIssueReference.issueNumber.split(";").length;c++){var e={number:a.newIssueReference.issueNumber.split(";")[c]};a.newIssueReference.id=void 0,a.searchInProgress=!0,a.newIssueReference.verified=void 0,a.newIssueReference.issueObject=void 0,a.newIssueReference.message=!1,d.issues(e).$promise.then(function(c){a.searchInProgress=!1,null!==c&&angular.isDefined(c.id)&&(a.newIssueReference.id=c.id,a.newIssueReference.issueObject=c,a.newIssueReference.verified=!0,a.newIssueReferences.push(c)),angular.isDefined(b)&&b()},function(b){a.searchInProgress=!1,a.newIssueReference.verified=!1,a.newIssueReference.issueObject=void 0,a.newIssueReference.message=b.data.message})}}function n(){return angular.isDefined(a.newIssueReference.verified)?a.newIssueReference.verified?"has-success":"has-error":""}function o(){a.historyIssues=[],_.each(a.service.resourceIds,function(b){h.historyIssues({testId:b}).$promise.then(function(b){b.totalCount>0&&_.each(b.results,function(b){var c={key:b.key};_.some(a.historyIssues,c)||_.some(e.issues,c)||a.historyIssues.push(b)})})})}function p(b){a.newIssueReference.issueNumber!==b.key&&(a.newIssueReference.issueNumber=b.key,m())}function q(){a.$watch("service.resourceIds",function(b,c){void 0!==b&&(a.newIssueReference.id=void 0,a.newIssueReference.message=!1,o())})}function r(){a.newIssueReference.verified?s():m(function(){a.newIssueReference.verified&&s()})}function s(){a.service.resourceIds.length>0&&f.confirm.confirmAction(function(){var a=t();c.close(a)})("link the issue "+a.newIssueReference.issueNumber+" to "+a.service.resourceIds.length+" selected tests")}function t(){for(var b=[],c=0;c<a.service.resourceIds.length;c++)for(var d=a.service.resourceIds[c],e=0;e<a.newIssueReferences.length;e++){var f=a.newIssueReferences[e].id;b.push(a.service.refIssue(d,f,a.newIssueReference.createComment,a.newIssueReference.issueComment))}return i.all(b).then(function(a){return g.success("Issue added"),a})}function u(){c.dismiss("cancel")}a.service=e,a.newIssueReference={},a.newIssueReference.id=void 0,a.newIssueReference.verified=void 0,a.newIssueReference.message=!1,a.historyIssues=[],a.newIssueReferences=[],a.checkIssue=m,a.addIssue=r,a.cancel=u,a.getIssueClass=n,a.onIssueNumberChange=k,a.historyIssueSelected=p,j()}]),angular.module("app.widgets").directive("issue",["modalConfirmHelper","$filter","uncamelFilter",function(a,b,c){function d(a){angular.isDefined(a.canDelete)||(a.canDelete=!1);var d=angular.copy(a.issue);d.details&&(d.summary=d.details.summary,delete d.details.id,delete d.details.mapper,delete d.details.tracker,delete d.details.summary),a.issuesForDisplay=d,a.formatIssueFieldLabel=function(a){return c(a+"")},a.formatIssueFieldValue=function(a){var c=new Date(a);return null!=c?b("crdate")(a):a}}return{restrict:"E",scope:{issue:"=",deleteIssue:"="},templateUrl:"app/issues/issue.html",link:d}}]),function(){"use strict";var a=angular.module("app.activities");a.controller("ActivitiesCtrl",["$scope","Activities",function(a,b){function c(){}a.service=b,c()}])}(),function(){angular.module("app.activities").service("Activities",["$rootScope","AppEventConstant",function(a,b){return{activities:[],count:0,retry:function(){},userLoadActivities:function(){},init:function(a,b){this.activities=[],b&&(this.retry=b),a&&(this.userLoadActivities=a),this.loadActivities(b),this.count=0},loadActivities:function(a){if(0===this.count){var b=this,c=this.userLoadActivities();angular.isDefined(c)&&c.$promise.then(function(c){b.updateInternal(c,a)})}},addActivity:function(a){var b=_.findIndex(this.activities,["id",a.id]);b===-1?(this.activities.push(a),this.count++):this.activities[b]=a},updateInternal:function(a,b){this.retry=b,this.activities=a,this.count=a.length}}}])}(),angular.module("app.widgets").directive("activities",["$filter","crashtoolConfig",function(a,b){function c(a){a.crashtoolConfig=b}return{restrict:"E",scope:{activities:"=",retry:"="},templateUrl:"app/activities/activities.html",link:c}}]),function(){"use strict";var a=angular.module("app.cts");a.controller("CTSResultCtrl",["$filter","$scope","CampaignModel",function(a,b,c){b.campaign=c.getCampaign(),b.cts=b.campaign.cts,b.onlyFailed=!0,b.modules=[],b.cts&&b.$watch("onlyFailed",function(a){a?b.modules=_.filter(b.cts.modules,function(a){if(a.failed>0||a.notExecuted>0)return!0}):b.modules=b.cts.modules})}])}(),angular.module("app.cts").directive("ctsComparisonSection",["$modal","WidgetModals","CTS","AppEventConstant",function(a,b,c,d){function e(e){function f(){var a={multi:!1,constrain:{cts:{exists:!0},_id:{"!=":e.campaign.id}},equals:{"build.branch":e.campaign.build.branch,"build.targetProduct":e.campaign.build.targetProduct}};b.openCampaignSelector(a).result.then(function(a){g(e.campaign,a)})}function g(b,d){var f=e;a.open({templateUrl:"app/cts/cts-comparison-create.modal.html",size:"lg",controller:["$scope","$modalInstance",function(a,e){a.reference=b,a.compared=d,a.name="",a.cancel=function(){e.dismiss()},a.save=function(){var g={name:a.name,referenceId:b.id,comparedId:d.id};c.compare(g).$promise.then(function(a){f.selected=a,h()}),e.close()}}]})}function h(){c.getCompare({referenceId:e.campaign.id}).$promise.then(function(a){if(e.reports=a.results,null!==e.selected){var b=e.selected.id;e.selected=null,_.each(e.reports,function(a){a.id===b&&(a.selected=!0,e.selected=a)})}})}function i(a){e.selected&&(e.selected.selected=!1),a.selected=!0,e.selected=a,h()}e.reports=[],e.selected=null,e.create=f,e.selectReport=i,h(),e.$on(d.cts.REFRESH_REPORT,function(){h()})}return{restrict:"E",scope:{campaign:"="},templateUrl:"app/cts/cts-comparison-section.html",link:e}}]),angular.module("app.cts").directive("ctsComparisonReport",["$modal","CTS","modalConfirmHelper","ProgressLive","AppEventConstant",function(a,b,c,d,e){function f(f){function g(c,d){d.reportId=f.report.id,b.getTests(d).$promise.then(function(b){var d=b;a.open({template:'<div class="modal-header"><h3 class="modal-title">{{title}} <small>{{list.length}} found</small></h3></div><cts-test-list list="list"></cts-test-list><div class="modal-footer"><button class="btn btn-primary" ng-click="close()">Close</button></div>',size:"lg",controller:["$scope","$modalInstance",function(a,b){a.title=c,a.list=d,a.close=function(){b.dismiss()}}]})})}function h(){c.confirm.confirmAction(function(){var a={name:f.report.name,referenceId:f.report.reference.id,comparedId:f.report.compared.id};b.compare(a).$promise.then(function(){j()})})("rebuild this report")}function i(){c.confirm["delete"](function(){b.deleteReport({reportId:f.report.id}).$promise.then(function(){j()})})("report: "+f.report.name)}function j(){f.$emit(e.cts.REFRESH_REPORT)}f.openTests=g,f.refreshReport=h,f.deleteReport=i,f.progress={id:f.report.id};var k=null;f.$watch("report",function(){f.report.done===!1&&(f.progress={id:f.report.id},null===k&&(k=d.follow(f.progress,function(a){a.done===!0&&k&&(d.unfollow(k),k=null),j()})))})}return{restrict:"E",scope:{report:"="},templateUrl:"app/cts/cts-comparison-report.html",link:f}}]),angular.module("app.kpi").directive("ctsComparisonStatChart",ctsComparisonStatChart),angular.module("app.cts").directive("ctsTestList",function(){function a(a){a.$watch("list",function(b){a.groupByModule=_.groupBy(b,"module"),a.countByModule=_.countBy(b,"module")})}return{restrict:"E",scope:{list:"="},templateUrl:"app/cts/cts-test-list.html",link:a}}),angular.module("app.cts").directive("ctsTableCell",function(){function a(a,b,c){var d=_.get(c,"type"),e={improvement:"text-success",regression:"text-danger","new":"text-info",remove:"text-warning"};a.$watch("count",function(b){a["class"]=b?_.get(e,d):"text-muted"})}return{restrict:"C",scope:{count:"=",click:"&"},template:'<a href="" ng-click="click()"><strong class="{{class}}">{{count}}</strong></a>',link:a}}),function(){var a=angular.module("app.filters");a.filter("cts",function(){return function(a,b){if(!b||a.length<b)return a;for(var c=a.split("."),d=[],e=c.length-1;e>0;e--)if(d.unshift(c[e]),d.join(".").length>b){d.shift();break}return"... "+d.join(".")}})}(),angular.module("app.domains").config(["$stateProvider",function(a){a.state("domains",{"abstract":!0,templateUrl:"app/domains/domains.html"}).state("domains.list",{url:"/domains",templateUrl:"app/widgets/item-list.html",controller:"ItemsListCtrl",resolve:{dataService:["Domains",function(a){return a}],itemName:function(){return"domain"}}})}]),angular.module("CampaignReportingApp").controller("AttachmentsRootCauseLiveStatusCtrl",AttachmentsRootCauseLiveStatusCtrl),angular.module("CampaignReportingApp").controller("AttachmentsRootCauseCtrl",AttachmentsRootCauseCtrl),angular.module("CampaignReportingApp").controller("AttachmentsUploadMultipleCtrl",["$scope","$modalInstance","Notifier","FileUploader","restApiConfig","$stateParams",function(a,b,c,d,e,f){function g(){b.close(i)}var h;f.campaignId?h=e.URL+"/campaigns/"+f.campaignId:f.testId&&(h=e.URL+"/tests/"+f.testId),a.ok=g;var i={},j=a.uploader=new d({url:h+"/attachments"});j.filters.push({name:"syncFilter",fn:function(a,b){return console.log("syncFilter"),this.queue.length<10}}),j.filters.push({name:"asyncFilter",fn:function(a,b,c){console.log("asyncFilter"),setTimeout(c.resolve,200)}}),j.onWhenAddingFileFailed=function(a,b,c){console.info("onWhenAddingFileFailed")},j.onAfterAddingFile=function(a){console.info("onAfterAddingFile")},j.onAfterAddingAll=function(a){console.info("onAfterAddingAll")},j.onBeforeUploadItem=function(a){console.info("onBeforeUploadItem")},j.onProgressItem=function(a,b){console.info("onProgressItem")},j.onProgressAll=function(a){console.info("onProgressAll")},j.onSuccessItem=function(a,b,c,d){i[b.id]=b,console.info("onSuccessItem")},j.onErrorItem=function(a,b,c,d){console.info("onErrorItem")},j.onCancelItem=function(a,b,c,d){console.info("onCancelItem")},j.onCompleteItem=function(a,b,c,d){console.info("onCompleteItem")},j.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",j)}]),function(){var a=angular.module("CampaignReportingApp");a.directive("attachmentDetail",[function(){return{restrict:"E",scope:{attachment:"="},templateUrl:"app/attachments/attachment-detail.html"}}])}(),angular.module("CampaignReportingApp").service("AttachmentModals",AttachmentModals),function(){"use strict";var a=angular.module("CampaignReportingApp");a.controller("AttachmentsCtrl",["$scope","$state","$anchorScroll","$location","attachments","restApiConfig","Notifier","downloadAllUrl","Tests","AttachmentModals","LogFeatures","HighchartsConfig","AttachmentsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){e.$promise.then(function(b){a.attachments=r(b),angular.forEach(a.attachments,function(b){b.retention.available===!0&&(a.allUnavailable=!1)})}),a.downloadAllUrl=f.URL+h}function o(a){d.hash(a),c()}function p(b,c,d){if(!angular.isDefined(b.retention)||b.retention.available){a.selectedAttachment=b;var e=b.originalName;d&&(e=b.fullName),k.getById({id:c+"/"+e},function(b){a.logFeature=b},function(b){a.logFeature=void 0,console.log("No LogFeatures")})}}function q(){var b="Generate Root Cause report";j.openRootCauseJobCreation(a.selectedAttachment,b).then(function(a){j.openRootCauseLiveStatus(a)})}function r(a){return a.forEach(function(a){angular.isDefined(a.archiveEntries)&&a.archiveEntries.forEach(function(a){a.url=f.URL+a.url})}),_.sortBy(a.filter(function(a){return a.retention.available}),"originalName").concat(_.sortBy(a.filter(function(a){return!a.retention.available}),"originalName"))}function s(){if(!a.test)return!1;var b="FAILED"===a.test.verdict,c=!1,d=!1;if(void 0!==a.selectedAttachment){var e=a.selectedAttachment.originalName;c=e.endsWith(".log")||e.endsWith(".txt");var f=a.selectedAttachment.retention;d=void 0!==f&&f.available}return d&&b&&c}function t(b){m.extend({attachmentId:b.id},{}).$promise.then(function(c){g.success("Retention extended","Success"),a.attachments[a.attachments.indexOf(b)]=c,a.selectedAttachment=c},function(a){g.error("Error: "+a.data.code+",</br> Reason: "+a.data.message,"Failure",{allowHtml:!0})})}function u(){var a=j.openUploadMultipleAttachments();a.then(function(a){b.go(".",{},{reload:!0})})}a.selectAttachment=p,a.showRootCauseModal=q,a.isGenerateRootCauseAvailable=s,a.scrollTo=o,a.extend=t,a.attachments=[],a.logFeature=void 0,a.downloadAllUrl="",a.allUnavailable=!0,a.openModalToUpload=u,n()}])}(),function(){function a(a){function b(a,b,c){a.$watch(b.getContext,function(b){a.context=b}),a.report=c}b.$inject=["$scope","BuildReportModel","report"],a.state("home.build",{"abstract":!0,template:"<ui-view/>",url:"/builds",breadcrumb:{name:"Builds",proxy:"home.build.explore.views",enableHistory:!0}}),a.state("home.build.explore",{"abstract":!0,templateUrl:"app/layout/left-column-layout.html"}).state("home.build.explore.views",{url:"/explore?targetProduct&branch&releaseType&after&quickFilter&team&type",views:{content:{templateUrl:"app/oneandroid/explorer.html",controller:"ExplorerCtrl"},column:{templateUrl:"app/oneandroid/explorer-filters.html",controller:"ExplorerFiltersCtrl"},"feed@home.build.explore.views":{templateUrl:"app/oneandroid/explorer-feed.html",controller:"ExplorerFeedCtrl"}}}).state("home.build.explore.reports",{url:"/explore/reports?targetProduct&branch&after&quickFilter&section&reportType",breadcrumb:{name:"Build Reports",enableHistory:!0},views:{content:{templateUrl:"app/oneandroid/explorer-reports.html",controller:"ExplorerReportsCtrl"},column:{templateUrl:"app/oneandroid/explorer-reports-filters.html",controller:"ExplorerReportsFiltersCtrl"}}}),a.state("home.build.report",{url:"/:reportType/:reportId?targetProduct","abstract":!0,views:{"":{templateUrl:"app/oneandroid/build-report-layout.html"},"side@home.build.report":{templateUrl:"app/oneandroid/build-report.html",controller:"BuildReportCtrl"},"header@home.build.report":{templateUrl:"app/oneandroid/build-report-header.html",controller:"BuildReportHeaderCtrl"}},params:{reportType:"preview"},resolve:{report:["$stateParams","BuildReports",function(a,b){var c=a.reportType;return"preview"===c?b.preview({buildId:a.reportId,targetProduct:a.targetProduct}).$promise:b.get({reportIdOrKey:a.reportId,targetProduct:a.targetProduct}).$promise}]},breadcrumb:{name:"{{report.name}}"}}).state("home.build.report.campaigns",{url:"/campaigns",views:{"content@home.build.report":{templateUrl:"app/oneandroid/build-report-campaigns.html",controller:"BuildReportCampaignsCtrl"}},data:{sectionTitle:"Overview"}}).state("home.build.report.sysint",{url:"/system-integration",views:{"content@home.build.report":{templateUrl:"app/oneandroid/build-report-system-integration.html",controller:"BuildReportSystemIntegrationCtrl"}},data:{sectionTitle:"System integration"}}).state("home.build.report.ft",{url:"/functional-test",views:{"content@home.build.report":{templateUrl:"app/oneandroid/build-report-ft.html",controller:"BuildReportFtCtrl"}},data:{sectionTitle:"Functional Test"}}).state("home.build.report.mtbf",{url:"/mtbf",views:{"content@home.build.report":{templateUrl:"app/oneandroid/build-report-mtbf.html",controller:"BuildReportMTBFCtrl"}},data:{sectionTitle:"MTBF Report"}}).state("home.build.report.kpi",{url:"/kpi",views:{"content@home.build.report":{templateUrl:"app/oneandroid/build-report-kpi.html",controller:"BuildReportKPICtrl"}},data:{sectionTitle:"KPI Report"}}).state("home.build.report.bootota",{url:"/bootota",views:{"content@home.build.report":{template:'<build-report-bootota report="report" context="context"></build-report-bootota>',controller:b}},data:{sectionTitle:"Boot OTA"}})}a.$inject=["$stateProvider"],angular.module("app.oneandroid").config(a)}(),function(){"use strict";function a(a,b,c,d,e){function f(){l.campaigns&&(l.hiddenFields={bench:!0},h(l.campaigns),g(l.campaigns),j(l.campaigns))}function g(a){var b=_.sortBy(a,"name");l.runningCampaigns=i(b,c.status.RUNNING),l.completedCampaigns=a.filter(function(a){return a.status!==c.status.RUNNING})}function h(a){_.forEach(a,function(a){a._meta&&0!==a._meta.nbComments&&(a.comments=e.comments({campaignId:a.id}))})}function i(a,b){return a.filter(function(a){return a.status===b})}function j(a){d.unfollow(k),angular.isUndefined(a)||null===a||(k=d.follow(a))}var k,l=this;f(),l.$onChanges=function(a){a.campaigns&&a.campaigns.currentValue&&a.campaigns.currentValue!==a.campaigns.previousValue&&(h(a.campaigns.currentValue),g(a.campaigns.currentValue),j(a.campaigns.currentValue))},l.$onDestoy=function(){d.unfollow(k)}}a.$inject=["HighchartsConfig","$timeout","TestConstant","CampaignLive","Campaigns"],angular.module("app.oneandroid").component("campaignList",{bindings:{campaigns:"<"},templateUrl:"app/oneandroid/campaign-list.component.html",controller:a})}(),function(){function a(a,b,c,d){return{restrict:"E",scope:{campaigns:"=",showAverage:"=?",showDevice:"=?",showIndex:"=?",hideCount:"=?"},templateUrl:"app/oneandroid/campaign-table.html",link:function(a){function b(){a.$watch("campaigns",function(b){if(b){a.maxEffectiveTestCount=_.max(_.map(b,"_meta.rates.effectives"));var c=b.length;a.average={},a.average.passRate=_.sum(_.map(b,"_meta.rates.passRate"))/c,a.average.effectives=_.sum(_.map(b,"_meta.rates.effectives"))/c,a.average.duration=_.sum(_.map(b,"duration"))/c,a.average.executionRate=_.sum(_.map(b,"_meta.rates.executionRate"))/c}})}function d(a){c.open({animation:!1,templateUrl:"app/widgets/modal/comment-popup-modal.html",controller:"CommentPopupModalCtrl",resolve:{campaign:function(){return a}},size:"lg"})}a.showComments=d,b()}}}a.$inject=["HighchartsConfig","$timeout","$modal","TestConstant"],angular.module("app.oneandroid").directive("campaignTable",a)}(),function(){function a(a,b,c){function d(){a.$watch(c.getSelection,function(){e()},!0)}function e(){b.getFacets(c.getSelection()).$promise.then(function(b){a.facets=b})}d()}a.$inject=["$scope","Campaigns","FacetSelectionModel"],angular.module("app.oneandroid").controller("ExplorerFiltersCtrl",a)}(),function(){function a(a,b,c,d,e,f,g){function h(){i(),d.reset(c,["branch","targetProduct","releaseType","after","team","type","quickFilter"]),a.quickFilter=c.quickFilter?c.quickFilter:""}function i(){a.$watch(d.getSelection,function(e){var g=c.quickFilter;delete c.quickFilter,d.updateUrl(c,b),c.quickFilter=g,a.resultPromise=f.reloadResults()},!0),a.$watch("quickFilter",function(a,b){a!==b&&(f.setQuickFilter(a),a||(l(),f.reloadResults()))}),
a.$watch(f.getResults,function(b,c){b&&(a.results=b)}),a.$watch(f.hasMore,function(b){a.hasMore=b})}function j(){a.resultPromise=f.getMore()}function k(){l(),a.resultPromise=f.reloadResults()}function l(){c.quickFilter=a.quickFilter?a.quickFilter:null,b.go(".",c,{notify:!1})}a.submitSearch=k,a.getMore=j,a.results=[],h()}a.$inject=["$scope","$state","$stateParams","FacetSelectionModel","Campaigns","ExplorerModel","ExplorerReportsModel"],angular.module("app.oneandroid").controller("ExplorerCtrl",a)}(),function(){function a(a,b,c,d){function e(){a.$watch(b.getSelection,function(a){a&&f(a)},!0),a.$watch(c.getReports,function(b){b&&(a.weeklyReports=b)}),a.$watch("paging.offset",function(b,c){b!==c&&(a.paging.offset=b,g())}),a.$watch("selectedType",function(b){a.selectedType=b,g()})}function f(b){j=b.branch?b.branch[0]:null,k=b.targetProduct?b.targetProduct[0]:null,a.branch=j,a.targetProduct=k,g()}function g(){j&&k&&(a.reportsPromise=c.loadReports(j,k,a.paging,a.selectedType))}function h(){c.openNewReport(j,k)}function i(){return j&&k}a.isDisplayed=i,a.weeklyReports=[],a.openNewReport=h,a.paging={limit:25,offset:0,totalCount:0},a.types=["DAILY","WEEKLY"],a.selectedType="WEEKLY",a.change=function(b){"string"==typeof b&&(a.selectedType=b)};var j=null,k=null;e()}a.$inject=["$scope","FacetSelectionModel","ExplorerReportsModel","BuildReportModals"],angular.module("app.oneandroid").controller("ExplorerFeedCtrl",a)}(),function(){function a(a,b,c){function d(a){p=a}function e(){return m}function f(a,d){return b.search(k(a,d),function(a){a.results.length<l.pageSize&&(l.hasMore=!1),g(a.results)},function(){c.error("Cannot load search results","Loading error")}).$promise}function g(a){_.forEach(a,function(a){a.build.targetProduct||(a.build.targetProduct="others");var b=a.build.buildId,c=b+"#"+a.build.targetProduct,d=n[b];d||(d={date:a.build.date,tag:a.build.tag,buildId:a.build.buildId,targetProducts:[]},n[b]=d,m.push(d));var e=o[c];e||(e={name:a.build.targetProduct,campaigns:[]},o[c]=e,d.targetProducts.push(e)),e.campaigns.push(a);var f=angular.copy(e.campaigns);e.campaigns=f})}function h(){return l.hasMore}function i(){return f(l.position,l.pageSize).then(function(){l.position+=l.pageSize})}function j(){return m=[],l.hasMore=!0,n={},o={},l.position=0,i()}function k(b,c){var d=angular.copy(a.getSelection());return p&&(d.quickFilter=p),d.sort=["-build.date"],d.exists="build.buildId",d.field=["name","status","types","domains","lastTest","_meta","creation","build","startTime","stopTime","bench"],d.offset=b,d.limit=c,d}var l={pageSize:50,position:0,hasMore:!0},m=[],n={},o={},p=null;return{setQuickFilter:d,getMore:i,hasMore:h,reloadResults:j,getResults:e}}a.$inject=["FacetSelectionModel","Campaigns","Notifier"],angular.module("app.oneandroid").factory("ExplorerModel",a)}(),function(){function a(a,b,c,d,e){function f(){return j}function g(b){c.save(b,function(b){var c=b;e.success("Report Created: "+c.name,"Success",{onTap:function(){a.go("home.build.report.campaigns",{reportType:c.type,reportId:c.id,targetProduct:c.targetProduct})}}),j.push(c)})}function h(a,b,d,f){var g={branch:a,targetProduct:b,type:f,limit:d.limit,offset:d.offset,sort:"-creation"};return c.query(g,function(a){j=a.results,d.totalCount=a.totalCount},function(){e.error("Cannot load reports","Loading error")}).$promise}function i(a,b){c.weeklyDraft({branch:a,targetProduct:b}).$promise.then(function(a){var b={title:"Create new report"};return d.openBuildReportEdition(a,b).result}).then(function(a){return g(a)})}var j=[];return{loadReports:h,getReports:f,createReport:g,openNewReport:i}}a.$inject=["$state","FacetSelectionModel","BuildReports","BuildReportModals","Notifier"],angular.module("app.oneandroid").factory("ExplorerReportsModel",a)}(),function(){function a(a,b,c){function d(){a.$watch(c.getSelection,function(){e()},!0)}function e(){b.getFacets(c.getSelection()).$promise.then(function(b){a.facets=_.filter(b,function(a){var b=["releaseType","team","type"];return!(b.indexOf(a.name)>=0)}),a.facets.unshift(f),a.facets.unshift(g)})}d();var f={displayName:"Report Section",multi:!0,name:"section",items:[{name:"system-integration",displayName:"System Integration",value:"system-integration"},{name:"ft",displayName:"Functional Test",value:"ft"},{name:"mtbf",displayName:"MTBF",value:"mtbf"},{name:"kpi",displayName:"KPI",value:"kpi"},{name:"bootota",displayName:"Boot OTA",value:"bootota"}]},g={displayName:"Report Type",multi:!1,name:"reportType",items:[{name:"weekly",displayName:"WEEKLY",value:"WEEKLY"},{name:"daily",displayName:"DAILY",value:"DAILY"}]}}a.$inject=["$scope","Campaigns","FacetSelectionModel"],angular.module("app.oneandroid").controller("ExplorerReportsFiltersCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){d.reset(c,["branch","targetProduct","releaseType","after","section"]),a.quickFilter=c.quickFilter?c.quickFilter:"",h()}function h(){a.$watch(d.getSelection,function(a){var e=c.quickFilter;delete c.quickFilter,d.updateUrl(c,b),c.quickFilter=e,k(),i()},!0),a.$watch("quickFilter",function(a,b){a!==b&&(a||l())}),a.$watch("paging.offset",function(b,c){b!==c&&a.paging.totalCount&&i()}),a.$watch("team",function(a,b){a!==b&&i()})}function i(){var b=angular.copy(d.getSelection());b.reportType?b.type=b.reportType:b.type=["WEEKLY","DAILY"],a.quickFilter&&(b.name=a.quickFilter);var c=_.extend({limit:100,offset:a.paging.offset,sort:"-creation"},b);a.team&&(c.team=a.team),a.loading=!0,e.query(c).$promise.then(function(b){a.paging.totalCount=b.totalCount,a.weeks=_.groupBy(b.results,function(a){return j(a.creation)}),a.keys=_.reverse(_.sortBy(Object.keys(a.weeks),function(b){return a.weeks[b][0].creation})),a.loading=!1})}function j(a){var b=Date.parse(a),c=new Date(b.valueOf()),d=new Date(c.getFullYear(),0,1),e=1900+c.getYear(),f=Math.ceil(((c-d)/864e5+d.getDay()+1)/7);return e+"-WW"+f}function k(){a.paging={totalCount:0,offset:0,limit:100}}function l(){n(),k(),i()}function m(){var a,b,c=d.getSelection();void 0!==c.branch&&(a=c.branch[0]),void 0!==c.targetProduct&&(b=c.targetProduct[0]),f.openNewReport(a,b)}function n(){c.quickFilter=a.quickFilter?a.quickFilter:null,b.go(".",c,{notify:!1})}a.submitSearch=l,a.createReport=m,a.loading=!1,a.weeks={},a.keys=[],a.paging={totalCount:0,offset:0,limit:100},g()}a.$inject=["$scope","$state","$stateParams","FacetSelectionModel","BuildReports","ExplorerReportsModel"],angular.module("app.oneandroid").controller("ExplorerReportsCtrl",a)}(),angular.module("app.oneandroid").constant("BuildReportTypes",{PREVIEW:"PREVIEW",WEEKLY:"WEEKLY"}),angular.module("app.oneandroid").constant("BuildReportActions",{ADD_TO_REPORT:"action_add_to_report",EDIT_REPORT:"action_edit_report"}),function(){function a(a,b,c,d,e,f,g,h){function i(){a.report=d,h.setReport(d),a.$watch(h.getParticipants,function(b){a.participants=b})}function j(b){return void 0===a.report.sectionKeys||a.report.sectionKeys.indexOf(b)>=0}a.sectionExists=j,a.participants=[],i()}a.$inject=["$scope","$stateParams","$state","report","BuildMeta","Campaigns","Notifier","BuildReportModel"],angular.module("app.oneandroid").controller("BuildReportCtrl",a)}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){a.stateData=b.current.data,a.$watch(e.getSignatures,function(b,c){b!==c&&(a.signatures=b)}),a.$watch(e.getTeams,function(b){a.teams=b}),a.$watch(function(){return b.current.data},function(b){a.sectionTitle=b.sectionTitle}),w(h.ADD_TO_REPORT)&&v()}function n(a){e.updateContext({team:a.length>0?a:null})}function o(){f.openBuildSignatures(e.getSignatures())}function p(){var b=a.report.name+": "+a.sectionTitle;f.mailReport(b,"content")}function q(a){function c(a){k.success("Campaigns sucessfully added to report "+a.name,"Success",{onTap:function(){b.go("home.build.report.campaigns",{reportType:a.type,reportId:a.key,targetProduct:a.targetProduct})}})}function d(a){return e.addCampaignsToReport(a.report,a.campaigns)}function f(a){return i.openAddCampaignsToReport(a).result}g.get({reportIdOrKey:a.id}).$promise.then(f).then(d,angular.noop).then(c,function(){k.error("Cannot add campaigns")})}function r(){g.get({reportIdOrKey:d.id}).$promise.then(function(a){return i.openBuildReportDeleteCampaigns(a).result}).then(function(a){var b=a.report.id,c=_.map(a.campaigns,function(a){return a.id});return g.removeCampaigns({reportId:b},c).$promise}).then(function(a){k.success("Campaigns remove from Report successfully","Success"),b.go(".",{},{reload:!0})})}function s(){l.confirm["delete"](function(){g["delete"]({reportId:d.id}).$promise.then(function(){k.success("Build Report :"+d.name+" deleted successfully","Success"),b.go("home.build.explore.views",{branch:d.branch,targetProduct:d.targetProduct})})})("build report "+d.name)}function t(){c.open({animation:!1,templateUrl:"app/projects/report-add-to-project-modal.html",controller:"ReportAddToProjectModalCtrl",size:"lg",resolve:{report:function(){return a.report}}}).result.then(function(){b.reload()})}function u(){g.get({reportIdOrKey:d.id}).$promise.then(function(a){return i.openBuildReportEdition(a).result}).then(function(a){return g.update({reportId:a.id},a).$promise}).then(function(a){b.go(".",{},{reload:!0})})}function v(){var b={branch:d.branch,targetProduct:d.targetProduct,type:["WEEKLY","DAILY"],sort:"-creation",field:["name","creation"]};g.query(b,function(b){a.reports=b.results})}function w(a){return e.isActionAllowed(a)}a.isAllowed=w,a.actions=h,a.addCampaignsToReport=q,a.editReport=u,a.deleteCampaign=r,a.deleteReport=s,a.addReport=t,a.report=d,a.onTeamSelect=n,a.openSignatures=o,a.mailReport=p,a.teams=[],a.reports=[],m()}a.$inject=["$scope","$state","$modal","report","BuildReportModel","WidgetModals","BuildReports","BuildReportActions","BuildReportModals","BuildReportTypes","Notifier","modalConfirmHelper"],angular.module("app.oneandroid").controller("BuildReportHeaderCtrl",a)}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){z=a,"others"===z.targetProduct&&(z.targetProduct=""),A=_.merge({branch:z.branch,targetProduct:z.targetProduct},z.filters),g.active(A,function(a){C=a}),x(),p()}function n(a){return A}function o(a){A=_.merge(angular.copy(A),a),p()}function p(){z.type===d.PREVIEW?a.query(A,function(a){B=a.results}):b.buildSignatures({reportId:z.id},function(a){B=a}),b.getParticipants({reportId:z.id}).$promise.then(function(a){D=a})}function q(){return B}function r(){return C}function s(a){var b=_.merge(angular.copy(A),{field:["name","status","types","domains","bench","lastTest","_meta","creation","startTime","stopTime","duration","lastModified"]});return b=_.merge(b,a),h.search(b).$promise.then(function(a){return a},function(a){i.error("Campaign loading failed")})}function t(){return b.getActivities({reportId:z.id}).$promise.then(function(a){return a},function(a){i.error("Activities loading failed")})}function u(a){var b=!1;if(z.type===d.PREVIEW)switch(a){case c.ADD_TO_REPORT:b=j.isPermitted(e.buildReport.EDIT)}else switch(a){case c.EDIT_REPORT:b=j.isPermitted(e.buildReport.EDIT)}return b}function v(a,c){var d=_.map(c,"id");return b.addCampaigns({reportId:a.id},d).$promise}function w(a,b,c){k.openReportPicker({targetProduct:z.targetProduct,branch:z.branch,section:a,exclude:z.id}).result.then(function(a){var d=angular.copy(b);_.unset(d,"reportId");var e=[z].concat(a.reports);k.openDiffReports(e,d,c)})}function x(){return D}function y(a,b){var c=(_.extend(a,{isInReport:!0}),b?b.concat(l.getDefaultFields()):l.getDefaultFields());return l.getExportCsvUrl(a,c)}var z={},A={},B=[],C=[],D=[];return{setReport:m,getContext:n,updateContext:o,load:p,getSignatures:q,getTeams:r,getCampaigns:s,getActivities:t,addCampaignsToReport:v,isActionAllowed:u,compareReport:w,getParticipants:x,getExportCsvUrl:y}}a.$inject=["Builds","BuildReports","BuildReportActions","BuildReportTypes","Permissions","BuildMeta","Teams","Campaigns","Notifier","Subject","WidgetModals","TestUtils"],angular.module("app.oneandroid").factory("BuildReportModel",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a,b){d.setSectionStatus({reportKey:j.report.key,section:j.section,context:"Go-NoGo"},{state:a,description:b},function(a){i()})}function g(a,b){k[a](b)}function h(){i(),e.follow("BuildReport",j.report.id,function(a){if(console.info(a),a.context&&a.context.section===j.section){var b=_.findIndex(j.activities,["id",a.id]);b===-1?j.activities.push(a):j.activities[b]=a}}),b.$on("$destroy",function(){e.unfollow()})}function i(){return d.getSectionActivities({reportKey:j.report.key,section:j.section}).$promise.then(function(a){j.activities=a.results})}var j=this;j.$onInit=h,j.onAction=g,j.actions={go:"Mark as GO",nogo:"Mark as NO GO"};var k={comment:function(a){d.commentSection({reportKey:j.report.key,section:j.section},{text:a},function(a){})},updateComment:function(a){d.updateCommentSection({reportKey:j.report.key,section:j.section},{id:a.id,text:a.context.text},function(a){})},go:function(a){var b=a||j.section+" is ready to go";f("SUCCESS",b)},nogo:function(a){var b=a||j.section+" hasn't passed the checks";f("FAILURE",b)}}}a.$inject=["$rootScope","$scope","AppEventConstant","BuildReports","ActivitiesLive"],angular.module("app.oneandroid").component("buildReportActivities",{transclude:!0,templateUrl:"app/oneandroid/build-report-activities.component.html",controller:a,bindings:{section:"<",report:"<"}})}(),function(){function a(a,b,c,d,e,f,g,h){function i(){a.$watch(d.getContext,function(a){a&&j()}),a.$watch("paging.offset",function(a,b){a!==b&&j()});var b=h.sections;h.sectionKeys&&(b=_.filter(h.sections,function(a){return h.sectionKeys.indexOf(a.key)!==-1})),a.checkList=_.flatMap(b,function(a){var b=_.map(a.statuses,function(b,c){return{section:a.name,label:c,description:b.description,state:b.state}});return _.filter(b,function(a){return"Go-NoGo"===a.label})})}function j(){a.loading=!0,d.getCampaigns({offset:a.paging.offset,limit:a.paging.limit}).then(function(b){a.campaigns=b.results,a.paging.totalCount=b.totalCount,a.paging.totalCount>a.paging.limit&&(a.paging.enable=!0),a.loading=!1})["catch"](function(){a.loading=!1})}function k(){d.getActivities().then(function(b){a.activities=_.filter(b,function(a){var b=["REPORT_CREATE","REPORT_ADD_CAMPAIGN","REPORT_DELETE_CAMPAIGN"];if(b.indexOf(a.action)>=0)return!0})})}a.paging={totalCount:0,offset:0,limit:30,enable:!1},i(),k()}a.$inject=["$scope","$stateParams","$state","BuildReportModel","FacetSelectionModel","Campaigns","Notifier","report"],angular.module("app.oneandroid").controller("BuildReportCampaignsCtrl",a)}(),function(){function a(a,b,c,d,e,f,g,h){function i(){a.$watch(b.getContext,function(b){b&&(a.context=b,j(b))}),a.$on(h.build.TESTS_CHANGE,function(){j(a.context)})}function j(c){o=m(c),o.type=f.types.FUNCTIONAL,o["with"]=["feature"],o.depth=0,p=m(c),p.type=f.types.STRESS,a.functional.featureOverview.context=o,a.exportCsvUrl=b.getExportCsvUrl(o,["feature"]),k(),l()}function k(){c.issues(o,function(a){q.issues=a.results}),c.verdictRepartition(_.merge({group:"feature"},o),function(a){q.featureOverview.verdictDistribution=a}),d.executionStats(o,function(a){q.featureOverview.executionStats=a})}function l(){var b=angular.copy(p);b.field=["name","status","types","domains","build","lastTest","_meta","creation","startTime","stopTime","lastModified","duration","bench.name","bench.os","issues"],e.search(b).$promise.then(function(b){a.stress.campaignCount=b.results.length,a.stress.campaignGroups=_.groupBy(_.sortBy(b.results,"name"),function(a){return 0!==a._meta.nbComments&&(a.comments=e.comments({campaignId:a.id})),a.domains&&a.domains.length>0?a.domains[0]:"Unknown domain"})})}function m(a){return _.merge(angular.copy(a),{phase:f.phase.CORE})}function n(){b.compareReport(a.reportSection,o,"feature")}var o,p,q={featureOverview:{options:{title:"Feature overview",description:"Functional tests verdict distribution by feature",noDataMessage:"No features provided for functional tests",noDataDescription:"You must set the attribute feature, a CORE phase and FUNCTIONAL type for the test to appear in this section"}},issues:[],group:"feature",stats:null},r={campaignGroups:{}};a.report=g,a.reportSection="system-integration",a.functional=q,a.stress=r,a.openCompare=n,i()}a.$inject=["$scope","BuildReportModel","Builds","Tests","Campaigns","TestConstant","report","AppEventConstant"],angular.module("app.oneandroid").controller("BuildReportSystemIntegrationCtrl",a)}(),function(){function a(a,b,c,d,e){function f(){a.$watch(b.getRacks,function(b){a.racks=b},!0),a.$watch(b.getOtherCampaigns,function(b){a.otherCampaigns=b},!0),a.$watch(d.getContext,function(a){a&&b.loadRacks(a)})}function g(){c.open({animation:!1,templateUrl:"app/oneandroid/rack-organisation-modal.html",controller:"RackOrganistationCtrl",size:"lg"})}a.openRackOrganisation=g,a.report=e,a.reportSection="mtbf",f()}a.$inject=["$scope","RackModel","$modal","BuildReportModel","report"],angular.module("app.oneandroid").controller("BuildReportMTBFCtrl",a)}(),function(){function a(a,b,c,d,e,f,g){function h(b){var c=_.merge(angular.copy(b),{field:["name","status","types","domains","build","lastTest","device","_meta","creation","startTime","stopTime","lastModified","duration","bench.name","bench.os","issues"],type:[g.types.KPI]});return e.search(c).$promise.then(function(b){var c=b.results,d=_.map(c,"id");f.aggregate({field:"duration",method:"sum",group:"campaignId",campaignId:d,phase:g.phase.CORE,nbChildren:0}).$promise.then(function(d){var e=_.keyBy(d,"id");_.each(c,function(a){a.duration=e[a.id].duration,a._meta.rates.effectives=e[a.id].count}),a.kpiCampaignGroups=_.groupBy(c,function(a){return a.name}),a.kpiCount=b.results.length})})}a.report=d,a.reportSection="kpi",h(c.getContext())}a.$inject=["$scope","$modal","BuildReportModel","report","Campaigns","Tests","TestConstant"],angular.module("app.oneandroid").controller("BuildReportKPICtrl",a)}(),function(){function a(a,b){function c(c,d){function e(){b(f)}function f(){var a=angular.element("<div></div>");d.html(a),a.highcharts(g())}function g(){var b=h(),c=_.keys(b),d=_.map(c,function(b){return a.typeColors[b]?a.typeColors[b]:a.typeColors.DEFAULT}),e=_.map(c,function(a){return b[a]}),f=15,g=c.length*f+30,i={chart:{type:"bar",backgroundColor:null,plotBackgroundColor:null,height:g},exporting:{enabled:!1},credits:{enabled:!1},title:{text:""},yAxis:{visible:!1},legend:{enabled:!1,reversed:!0},plotOptions:{bar:{dataLabels:{enabled:!0},pointWidth:f,pointPadding:0,colorByPoint:!0,colors:d}},xAxis:{categories:c},series:[{name:"Campaigns count",data:e}]};return i}function h(){return c.campaigns.map(function(a){return a.types}).reduce(function(a,b){return b.forEach(function(b){void 0===a[b]&&(a[b]=0),a[b]++}),a},{})}e()}return{restrict:"EA",scope:{campaigns:"="},link:c}}a.$inject=["TestConstant","$timeout"],angular.module("app.oneandroid").directive("campaignTypesChart",a)}(),function(){angular.module("app.oneandroid").directive("rackList",["$modal",function(a){function b(b,c,d,e){function f(b){a.open({animation:!1,templateUrl:"app/widgets/modal/comment-popup-modal.html",controller:"CommentPopupModalCtrl",resolve:{campaign:function(){return b}},size:"lg"})}function g(b){var c=a.open({animation:!1,templateUrl:"app/oneandroid/rack-setting-modal.html",controller:"RackSettingModalCtrl",resolve:{rackGroup:function(){return b}},size:"m"});return c}b.showComments=f,b.openRackSetting=g}return{restrict:"E",scope:{rackGroup:"=",label:"@"},templateUrl:"app/oneandroid/rack-list.html",link:b}}])}(),function(){function a(a,b,c,d,e,f){function g(){d.dismiss("cancel")}function h(){e.updateRacks(a.devices,a.rackDevices,f.getContext()),d.close("Racks updated")}function i(){a.$watch("newRack",function(b,c){Array.isArray(b)&&b.length>0&&(a.rackDevices.push(b),a.newRack=[])},!0),a.devices=e.getOtherDevices(),a.rackDevices=e.getRackDevices()}a.cancel=g,a.close=h,a.newRack=[],a.sortableOptions={connectWith:".cr-drop-zone",cancel:"i"},i()}a.$inject=["$scope","$stateParams","$state","$modalInstance","RackModel","BuildReportModel"],angular.module("app.oneandroid").controller("RackOrganistationCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(b){return a.getRacks(b).$promise.then(function(a){h(a)},function(a){d.error("Could not get MTBF campaigns")})}function h(a){r=a,s=[],t=[],u=[],v=[],_.each(a,function(a){j(a),i(a),a.rackNumber===-1?s=a:t[a.rackNumber]=a}),t=_.map(t,function(a,b){return void 0===a?{rackNumber:b,campaignRacks:[]}:a}),k(r),v.length<1&&(v=[[],[],[]]),v=_.map(v,function(a){return void 0===a?[]:a})}function i(b){_.each(b,function(b){_.each(b,function(b){var c=b.campaigns;c=_.map(c,function(b){return 0!==b._meta.nbComments&&(b.comments=a.comments({campaignId:b.id})),b})})})}function j(a){var b=a.campaignRacks.campaigns;_.each(b,function(a){var b=a.campaigns;b=_.map(b,function(b){return b.device.url=c.web.DEVICE_URL.replace(":deviceId",a.deviceId),b})})}function k(a){_.each(a,function(a){a.rackNumber===-1?u=a.campaignRacks:(void 0===v[a.rackNumber]&&(v[a.rackNumber]=[]),v[a.rackNumber]=v[a.rackNumber].concat(a.campaignRacks))})}function l(a,c,d){var e=[];return v=c,u=a,_.each(v,function(a,b){_.each(a,function(a){e.push(_.merge({rackNumber:b,ssn:a.ssn,deviceId:a.deviceId,benchName:a.benchName},d)),a.rackNumber=b})}),_.each(u,function(a){a.rackNumber=-1}),e.length>0?b.updateRacks(e).$promise.then(function(a){h(a)}):b.resetRacks(d).$promise.then(function(a){h(a)})}function m(a,c){var d=_.merge({rackNumber:a},c,f.getContext());return b.changeRackSetting(d).$promise.then(function(a){return h(a)})}function n(){return t}function o(){return s}function p(){return v}function q(){return u}var r=null,s=null,t=null,u=null,v=null;return{loadRacks:g,updateRacks:l,changeRackSetting:m,getRacks:n,getOtherCampaigns:o,getOtherDevices:q,getRackDevices:p}}a.$inject=["Campaigns","Racks","crashtoolConfig","Notifier","$filter","BuildReportModel"],angular.module("app.oneandroid").factory("RackModel",a)}(),function(){function a(){return{restrict:"E",templateUrl:"app/oneandroid/mtbf-racks-list.html",scope:{otherDevices:"=",racks:"=",sortableOptions:{connectWith:".cr-drop-zone"}}}}angular.module("app.oneandroid").directive("racksList",a)}(),function(){function a(a,b,c,d,e){function f(){e.changeRackSetting(c.rackNumber,a.setting).then(function(){d.success("Rack Setting Saved","Success")},function(){d.error("Fail to save Rack Setting")}),b.close()}function g(){b.dismiss()}a.ok=f,a.cancel=g,a.setting={threshold:_.merge({high:0,low:0,enable:!1},c.threshold),displayMTTF:!!c.displayMTTF&&c.displayMTTF},a.highInvalid=!1,a.lowInvalid=!1,a.message="",a.invalid=!0,a.$watch("setting",function(b){var c=_.get(b,"threshold",{});if(c.enable){if(a.highInvalid=!0,a.lowInvalid=!0,c.high<c.low)return a.message="max threshold should bigger than min threshold",void(a.invalid=!0);a.message="invalid value",c.high>=0&&(a.highInvalid=!1),c.low>=0&&(a.lowInvalid=!1),a.invalid=a.highInvalid||a.lowInvalid}else a.invalid=!1},!0)}a.$inject=["$scope","$modalInstance","rackGroup","Notifier","RackModel"],angular.module("app.oneandroid").controller("RackSettingModalCtrl",a)}(),function(){function a(a,b,c,d){function e(){a.loading=!0,d.getCampaigns({offset:a.paging.offset,limit:a.paging.limit}).then(function(b){var d=b.results,e=_.filter(d,function(a){return!_.includes(c.campaigns,a.id)});a.alreadyPresentCount=d.length-e.length,a.campaigns=e,a.paging.totalCount=b.totalCount,a.paging.totalCount>a.paging.limit&&(a.paging.enable=!0),a.loading=!1})}function f(){a.report=c,e(),a.$watch("paging.offset",function(a,b){a!==b&&e()})}function g(){b.close({report:c,campaigns:a.selected})}function h(){b.dismiss()}a.paging={totalCount:0,offset:0,limit:30,enable:!1},a.ok=g,a.cancel=h,f()}a.$inject=["$scope","$modalInstance","report","BuildReportModel"],angular.module("app.oneandroid").controller("AddCampaignsToReportModalCtrl",a)}(),function(){function a(a){this.openAddCampaignsToReport=function(b){var c=a.open({animation:!1,templateUrl:"app/oneandroid/add-campaigns-to-report-modal.html",controller:"AddCampaignsToReportModalCtrl",size:"lg",resolve:{report:function(){return b}}});return c},this.openBuildReportEdition=function(b,c){var d=a.open({animation:!1,templateUrl:"app/oneandroid/build-report-edition-modal.html",controller:"BuildReportEditionModalCtrl",size:"md",resolve:{report:function(){return b},options:function(){return c}}});return d},this.openBuildReportDeleteCampaigns=function(b,c){var d=a.open({animation:!1,templateUrl:"app/oneandroid/build-report-delete-campaigns-modal.html",controller:"BuildReportDeleteCampaignsModalCtrl",size:"lg",resolve:{report:function(){return b},options:function(){return c}}});return d}}a.$inject=["$modal"],angular.module("app.oneandroid").service("BuildReportModals",a)}(),function(){function a(a,b,c,d,e,f,g){function h(){a.title=g&&g.title||"Edit report "+f.name,a.report=angular.copy(f),_.each(a.report.sections,function(b){b.key&&(b.selected=!1,a.report.sectionKeys&&a.report.sectionKeys.indexOf(b.key)!==-1&&(b.selected=!0,a.selected.push(b.key)),a.choices.push(b))}),n(),a.report.branch?i():a.report.targetProduct&&j(),a.$watch("report.branch",function(a,b){a!==b&&a&&i()}),a.$watch("report.targetProduct",function(a,b){a!==b&&a&&j()}),a.$watch("report.team",function(b,c){b||(a.report.isPrivate=!1)})}function i(){e.getFacets({branch:a.report.branch}).$promise.then(function(b){a.buildTargetProducts=k(b,"targetProduct",p)})}function j(){e.getFacets({targetProduct:a.report.targetProduct}).$promise.then(function(b){a.buildBranches=k(b,"branch",o)})}function k(a,b,c){var d=_.filter(a,function(a){return a.name===b})[0],e=_.map(d.items,"name");return _.filter(c,function(a){return e.indexOf(a[b])!==-1})}function l(){a.report.sections=_.filter(angular.copy(f.sections),function(b){return _.indexOf(a.selected,b.key)!==-1}),a.report.sectionKeys=a.selected,a.report.branch=a.report.branch,a.report.targetProduct=a.report.targetProduct,void 0===a.report.team&&(a.report.team=""),b.close(a.report)}function m(){b.dismiss()}function n(){c.lastUsed({}).$promise.then(function(b){b.totalCount>0&&(p=_.filter(b.results,function(a){return angular.isDefined(a.targetProduct)}),a.buildTargetProducts=p)}),d.lastUsed({}).$promise.then(function(b){b.totalCount>0&&(o=b.results,a.buildBranches=o)})}a.ok=l,a.cancel=m,a.choices=[],a.selected=[],a.types=["WEEKLY","DAILY"],a.selectionChange=function(){a.selected=_.map(_.filter(a.choices,function(a){return a.selected}),"key")};var o,p;h()}a.$inject=["$scope","$modalInstance","BuildTargetProducts","BuildBranches","Campaigns","report","options"],angular.module("app.oneandroid").controller("BuildReportEditionModalCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){a.title=d&&d.title||"Remove campaigns in "+c.name,e.getCampaigns({limit:0}).then(function(b){a.campaigns=angular.copy(b.results)})}function h(){b.close({report:c,campaigns:a.selected})}function i(){b.dismiss()}a.ok=h,a.cancel=i,g()}a.$inject=["$scope","$modalInstance","report","options","BuildReportModel","Campaigns"],angular.module("app.oneandroid").controller("BuildReportDeleteCampaignsModalCtrl",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a){a.context.currentValue&&g(a.context.currentValue)}function g(d){var e=_.merge(angular.copy(d),{field:["name","status","types","domains","build","lastTest","_meta","creation","startTime","stopTime","duration","lastModified"],type:[c.types.FUNCTIONAL,c.types.STRESS,c.types.ENDURANCE],domain:[c.domains.BOOT_OTA],team:c.teams.BOOT_OTA});return b.search(e).$promise.then(function(a){var b=_.groupBy(a.results,"types");h.campaignCount=a.results.length,h.campaignGroups=b},function(b){a.error("Boot OTA campaign loading failed")})}var h=this;h.reportSection="bootota",h.$onChanges=f}a.$inject=["Notifier","Campaigns","TestConstant","Teams","BuildReports"],angular.module("app.oneandroid").component("buildReportBootota",{bindings:{context:"<",report:"<"},controller:a,templateUrl:"app/oneandroid/build-report-bootota.component.html"})}(),function(){function a(a,b,c,d,e,f,g,h,i,j){function k(){a.$watch(d.getContext,function(b){b&&(a.context=b,l(b))}),a.$on(j.build.TESTS_CHANGE,function(){l(a.context)})}function l(b){r=n(b),r.type=h.types.FUNCTIONAL,r.depth=0,r["with"]=["domain"],a.functional.domainOverview.context=r,a.exportCsvUrl=d.getExportCsvUrl(r,["domain"]),m()}function m(){e.issues(r,function(a){q.issues=a.results}),e.verdictRepartition(_.merge({group:"domain"},r),function(b){if(q.domainOverview.verdictDistribution=b,b.series.length>0){var c=_.filter(a.report.sections,function(a){return"ft"===a.key})[0];a.domains=_.map(b.series[0].data,function(a){return _.extend(_.get(c.statuses,a.name,{}),{domain:a.name})})}}),f.executionStats(r,function(a){q.domainOverview.executionStats=a})}function n(a){return _.merge(angular.copy(a),{phase:h.phase.CORE})}function o(){d.compareReport(a.reportSection,r,"domain")}function p(){var d={reportId:i.id,section:"ft",name:i.name+"-Functional Test",url:c.absUrl(),uploads:[]};_.each(a.domains,function(b){var c={title:b.domain,query:_.merge({domain:b.domain,isInReport:!0},a.functional.domainOverview.context)};d.uploads.push(c)});b.open({animation:!1,templateUrl:"app/quality-reporting/qr-upload-report-modal.html",controller:"qrUploadReportModalCtrl",size:"lg",resolve:{info:function(){return d}}}).result.then(function(){a.$emit(j.build.ACTIVITY_CHANGE)})}var q={domainOverview:{options:{title:"Domain overview",description:"Functional tests verdict distribution by domain",noDataMessage:"No domain provided for functional tests",noDataDescription:"You must set the attribute domain, a CORE phase and FUNCTIONAL type for the test to appear in this section"}},issues:[],group:"domain",stats:null},r={};a.report=i,a.reportSection="ft",a.functional=q,a.domains=[],a.openCompare=o,a.openHpalmUpload=p,k()}a.$inject=["$scope","$modal","$location","BuildReportModel","Builds","Tests","Campaigns","TestConstant","report","AppEventConstant"],angular.module("app.oneandroid").controller("BuildReportFtCtrl",a)}(),function(){function a(a){a.state("home.test-signature",{"abstract":!0,template:"<ui-view/>",url:"/test-signatures",breadcrumb:{name:"Test Signatures",proxy:"home.test-signature.explore.views",enableHistory:!0}}),a.state("home.test-signature.explore",{"abstract":!0,templateUrl:"app/layout/left-column-layout.html"}).state("home.test-signature.explore.views",{url:"/explore?targetProduct&body",views:{content:{templateUrl:"app/test-signature/test-signature-explorer.html",controller:"TestSignatureExplorerCtrl"},column:{templateUrl:"app/test-signature/test-signature-explorer-filters.html",controller:"TestSignatureExplorerFiltersCtrl"}}}),a.state("home.test-signature.detail",{"abstract":!0,templateUrl:"app/layout/left-column-layout.html"}).state("home.test-signature.detail.views",{url:"/:testSignatureId/detail",views:{content:{templateUrl:"app/test-signature/test-signature-detail.html",controller:"TestSignatureDetailCtrl"},column:{templateUrl:"app/test-signature/test-signature-detail-filters.html",controller:"TestSignatureDetailFiltersCtrl"}},breadcrumb:{name:"{{testSignature.body| truncate:20}}"},resolve:{testSignature:["$stateParams","TestSignatures",function(a,b){var c=a.testSignatureId,d=b.search({id:c}).$promise;return d.then(function(a){return a.results[0]})}]}})}a.$inject=["$stateProvider"],angular.module("app.test-signature").config(a)}(),function(){function a(a,b,c){function d(){a.$watch(c.getSelection,function(){e()},!0)}function e(){b.getFacets(c.getSelection()).$promise.then(function(b){a.facets=b})}d()}a.$inject=["$scope","TestSignatures","FacetSelectionModel"],angular.module("app.test-signature").controller("TestSignatureExplorerFiltersCtrl",a)}(),function(){function a(a,b,c,d,e){function f(){g(),e.reset(c,["targetProduct"]),a.body=c.body?c.body:""}function g(){a.$watch(e.getSelection,function(f){e.updateUrl(c,b),a.resultPromise=d.reloadResults()},!0),a.$watch("body",function(a,b){a!==b&&(d.setBody(a),j(),d.reloadResults())}),a.$watch(d.getResults,function(b,c){b&&(a.results=b)}),a.$watch(d.hasMore,function(b){
a.hasMore=b})}function h(){a.resultPromise=d.getMore()}function i(b){console.log(b),a.body=b}function j(){c.body=a.body?a.body:null,b.go(".",c,{notify:!1})}a.submitSearch=i,a.getMore=h,a.results=[],f()}a.$inject=["$scope","$state","$stateParams","TestSignatureExplorerModel","FacetSelectionModel"],angular.module("app.test-signature").controller("TestSignatureExplorerCtrl",a)}(),function(){function a(a,b,c){function d(a){o=a}function e(){return l}function f(a,d){return b.search(j(a,d),function(a){a.results.length<k.pageSize&&(k.hasMore=!1),k.position+=k.pageSize,l=_.concat(l,a.results)},function(){c.error("Cannot load search results","Loading error")}).$promise}function g(){return k.hasMore}function h(){return f(k.position,k.pageSize)}function i(){return l=[],k.hasMore=!0,m={},n={},k.position=0,h()}function j(b,c){var d=angular.copy(a.getSelection());return o&&(d.body=o),d.offset=b,d.limit=c,d.sort=["-lastModified"],d}var k={pageSize:10,position:0,hasMore:!0},l=[],m={},n={},o=null;return{setBody:d,getMore:h,hasMore:g,reloadResults:i,getResults:e}}a.$inject=["FacetSelectionModel","TestSignatures","Notifier"],angular.module("app.test-signature").factory("TestSignatureExplorerModel",a)}(),function(){function a(a,b,c,d){function e(){a.testSignature=d;var c=b.search({targetProduct:a.testSignature.targetProduct}).$promise;c.then(function(b){a.relatedSignatures=b.results})}a.testSignature=d,a.relatedSignatures=[],e()}a.$inject=["$scope","TestSignatures","$stateParams","testSignature"],angular.module("app.test-signature").controller("TestSignatureDetailFiltersCtrl",a)}(),function(){function a(a,b,c,d){function e(){var b=d.search({signatureId:c.id,offset:0,limit:50}).$promise;b.then(function(b){a.tests=b.results})}a.tests={},e()}a.$inject=["$scope","TestSignatures","testSignature","Tests"],angular.module("app.test-signature").controller("TestSignatureDetailCtrl",a)}(),angular.module("CampaignReportingApp").run(["$templateCache",function(a){"use strict";a.put("components/display/display-object-modal.html",'<div class=modal-header>\n  <button type=button ng-click=$dismiss() class=close>&times</button>\n  <h3 class=modal-title>{{title}}</h3>\n</div>\n<div class="modal-body intel-display-object-modal-body">\n  <div class=modal-view-type>\n      <div class="btn-group pull-right cr-view-type" role=group>\n        <button type=button class="btn btn-default" ng-class="{active:view===\'graphic\'}" ng-click="view=\'graphic\'" title="Graphic view">\n          <i class="lead intelicon-frame-template"></i></button>\n        <button type=button class="btn btn-default" ng-class="{active:view===\'json\'}" ng-click="view=\'json\'" title="JSON view">\n          <i class="lead intelicon-code-outlined"></i></button>\n      </div>\n  </div>\n  <div class="row modal-details">\n    <div class=col-md-12>\n      <div ng-show="view===\'graphic\'">\n        <cr-display-object options="displayOptions">\n      </div>\n      <div ng-show="view===\'json\'">\n        <pre>{{object|json}}</pre>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n    <button class="btn btn-primary" ng-click=ok()>OK</button>\n</div>'),a.put("components/display/display-object.html",'\n<script type=text/ng-template id=objectTree>\n  <h4 ng-if="property.depth > 1 && property.depth < 5">{{property.displayName}}</h4>\n  <h5 ng-if="property.depth >= 5">{{property.displayName}}</h5>\n\n  <!-- Object -->\n  <div ng-if="property.type == type.OBJECT">\n    <dl class="cr-props-simple dl-horizontal" ng-if="property.simpleProperties.length > 0">\n      <dt ng-repeat-start="simpleProp in property.simpleProperties">{{simpleProp.displayName}}</dt>\n      <dd ng-repeat-end><cr-display-property property="simpleProp" /></dd>\n    </dl>\n    <ul class="cr-props-complex" ng-if="property.complexProperties.length > 0">\n        <li ng-repeat="property in property.complexProperties" ng-include="\'objectTree\'"></li>\n    </ul>\n  </div>\n  <!-- List -->\n  <div ng-if="property.type == type.OBJECT_ARRAY || property.type == type.COLUMN_ARRAY">\n    <table class="table" ng-if="property.complexProperties.length > 0">\n      <tr><th ng-if="property.headersName !== undefined" ng-repeat="header in property.headersName">{{header}}</th></tr>\n      <tr><th ng-if="property.headersName === undefined" ng-repeat="header in property.headers">{{header}}</th></tr>\n      <tr ng-repeat="object in property.complexProperties">\n        <!--<td ng-repeat="objectProp in object.simpleProperties">{{objectProp.value}}</td>-->\n        <td ng-repeat="header in property.headers">\n          <cr-output input="object.value[header]"></cr-output>\n        </td>\n      </tr>\n    </table>\n  </div>\n  <!-- List of primitive -->\n  <div ng-if="property.type == type.PRIMITIVE_ARRAY">\n    <ul class="list-inline">\n      <li ng-repeat="primitiveProperty in property.simpleProperties">{{primitiveProperty.value}}</li>\n    </ul>\n  </div>\n</script>\n\n\n<div class="row cr-display-object">\n\t<div ng-class="{\'col-md-5\':!options.vertical}" class=cr-panel-primary>\n\t\t<dl class=dl-horizontal>\n\t\t\t<dt ng-repeat-start="property in metadata.simpleProperties">{{property.displayName}}</dt>\n\t\t\t<dd ng-repeat-end><cr-display-property property="property"></dd>\n\t\t</dl>\n\t</div>\n\t<div ng-if="metadata.complexProperties.length > 0" ng-class="{\'col-md-7\':!options.vertical}" class=cr-panel-secondary>\n\t\t<tabset>\n            \n\t\t\t<tab ng-repeat="property in metadata.complexProperties" heading={{property.displayName}}>\n                \n\t\t\t\t<div class=cr-props-tab ng-include="\'objectTree\'" ng-if=!property.def></div>\n                \n                <cr-display-property property=property ng-if="property.def">\n\t\t\t</tab>\n\t\t</tabset>\n\t</div>\n</div>'),a.put("components/display/display-results.html",'\n<script type=text/ng-template id=objectTree>\n  <h4 ng-if="property.depth > 1 && property.depth < 5">{{property.displayName}}</h4>\n  <h5 ng-if="property.depth >= 5">{{property.displayName}}</h5>\n\n  <!-- Object -->\n  <div ng-if="property.type == type.OBJECT">\n    <dl class="cr-props-simple dl-horizontal" ng-if="property.simpleProperties.length > 0">\n      <dt ng-repeat-start="simpleProp in property.simpleProperties">{{simpleProp.displayName}}</dt>\n      <dd ng-repeat-end><cr-display-property property="simpleProp" /></dd>\n    </dl>\n    <ul class="cr-props-complex" ng-if="property.complexProperties.length > 0">\n        <li ng-repeat="property in property.complexProperties" ng-include="\'objectTree\'"></li>\n    </ul>\n  </div>\n  <!-- List -->\n  <div ng-if="property.type == type.OBJECT_ARRAY || property.type == type.COLUMN_ARRAY">\n    <table class="table" ng-if="property.complexProperties.length > 0">\n      <tr><th ng-if="property.headersName !== undefined" ng-repeat="header in property.headersName">{{header}}</th></tr>\n      <tr><th ng-if="property.headersName === undefined" ng-repeat="header in property.headers">{{header}}</th></tr>\n      <tr ng-repeat="object in property.complexProperties">\n        <!--<td ng-repeat="objectProp in object.simpleProperties">{{objectProp.value}}</td>-->\n        <td ng-repeat="header in property.headers">{{object.value[header]}}</td>\n      </tr>\n    </table>\n  </div>\n  <!-- List of primitive -->\n  <div ng-if="property.type == type.PRIMITIVE_ARRAY">\n    <ul class="list-inline">\n      <li ng-repeat="primitiveProperty in property.simpleProperties" style="white-space: pre-wrap;">{{primitiveProperty.value}}</li>\n    </ul>\n  </div>\n</script>\n\n\n<div class="row cr-display-object" ng-repeat="property in metadata.complexProperties">\n  <div class=cr-props-tab ng-include="\'objectTree\'" ng-if=!property.def></div>\n  \n  <cr-display-property property=property ng-if="property.def">\n</div>'),a.put("components/modal/modal-confirm-box.html",'<div class=modal-body>\n  <div class=row>\n    <div class="col-md-3 cr-confirm-sign">\n      <span class={{sign}}></span>\n    </div>\n    <div class=col-md-9>\n      <p>\n        {{message}}\n      </p>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button ng-repeat="button in buttons" class="btn btn-{{button.type}}" ng-click=button.click($event) ng-bind=button.label></button>\n</div>'),a.put("components/modal/modal-confirm-helper.html",'<div class=modal-header>\n  <button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button>\n  <h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4>\n</div>\n<div class=modal-body>\n  <p ng-if=modal.text ng-bind=modal.text></p>\n  <div ng-if=modal.html ng-bind-html=modal.html></div>\n  <comment-editor ng-if=modal.haveComment model=modal.data.comment placeholder="Leave a comment..."></comment-editor>  \n</div>\n<div class=modal-footer>\n  <button ng-repeat="button in modal.buttons" class=btn ng-class=button.classes ng-click=button.click($event,modal.data) ng-bind=button.text></button>\n</div>\n'),a.put("components/restgrid/grid-filter-url-modal.html",'<div class=modal-header>\n    <h3 class=modal-title><strong>Link to filtered list</strong></h3>\n</div>\n\n<div class=modal-body>\n    <div class=row>\n        <form class="form-horizontal col-md-12">\n            <div class=form-group>\n                <label for=filteredListUrl class=col-md-12><span class="glyphicon glyphicon-link"></span> Copy this URL</label>\n\n                <div class=col-md-12>\n                    <input class=form-control id=filteredListUrl ng-model=url>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class=modal-footer>\n    <button class="btn btn-primary" ng-click=ok()>Close</button>\n</div>'),a.put("components/ui-grid/features/choose-columns/templates/columnChooserModal.html",'<div class=modal-header>\n\t<h3 class=modal-title>Select columns</h3>\n</div>\n<div class="modal-body intel-column-chooser-modal-body">\n\t<div class=row>\n\t\t\n\t\t<div class="form-group col-md-7">\n\t\t\t<input placeholder="Column name" ng-model=columnFilter class=form-control auto-focus>\n\t\t</div>\n\t\t\n\t\t<div class="btn-group col-md-5" role=group>\n\t\t\t<button class="btn btn-default" ng-click=selectAll()>Select all</button>\n\t\t\t<button class="btn btn-default" ng-click=unselectAll()>Unselect all</button>\n\t\t</div>\n\t</div>\n\t<div class=ui-grid-choose-columns-list>\n\t\t<ul class=list-group ui-sortable="" ng-model=columns>\n\t\t\t<li ng-repeat="col in columns|filter:columnFilter|orderBy:order" ng-click=toggleVisible(col) ng-class={active:col.visible} class=list-group-item>\n\t\t\t\t{{col.displayName}}</li>\n\t\t</ul>\n\t</div>\n</div>\n<div class=modal-footer>\n\t <button class="btn btn-primary" ng-click=ok()>OK</button>\n\t <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("components/ui-grid/features/choose-columns/templates/columnChooserModalWindowTemplate.html","<div tabindex=-1 role=dialog class=modal ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=close($event)>\n    <div class=modal-dialog ng-class=\"{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\">\n        <div class=modal-content modal-transclude></div>\n    </div>\n</div>"),a.put("components/ui-grid/features/extended-filters/js/multiSelect.html",'<form class=form-inline>\n  <span dropdown dropdown-append-to-body auto-close=outsideClick>\n  <span><a href dropdown-toggle>\n   &nbsp;&nbsp;{{selectedItems?selectedItems.join(","):defaultValue}}\n  </a></span>\n  <ul class=dropdown-menu>\n    <li role=menuitem><a href=javascript:void(0) ng-click=clearAll()><input type=checkbox ng-click=clearAll();$event.stopPropagation() ng-checked="!selectedItems||selectedItems.length==items.length">&nbsp;{{defaultValue}}</a></li>\n    <li role=menuitem ng-repeat="item in items"><a href=javascript:void(0) ng-click=selectItem(item) ng-class=styleClass(item.key)><input ng-click=selectItem(item);$event.stopPropagation() type=checkbox ng-checked="selected[item.key]">&nbsp;{{item.label}}</a></li>\n  </ul>\n  </span>\n</form>'),a.put("components/ui-grid/pagination-controls.html",'<nav class=cr-grid-pagination>\n  \n  <form class="form-inline pull-right">\n    <span ng-show="gridApi.grid.options.totalItems > gridApi.grid.options.paginationPageSize">\n    Page size <select class=form-control ng-model=gridApi.grid.options.paginationPageSize ng-options="o as o for o in gridApi.grid.options.paginationPageSizes"></select>\n    Go to <input type=number class=form-control ng-model=gridApi.grid.options.paginationCurrentPage>\n    </span>\n    Total: {{gridApi.grid.options.totalItems | number}}\n  </form>\n\n  <pagination ng-show="gridApi.grid.options.totalItems > gridApi.grid.options.paginationPageSize" max-size=size ng-model=gridApi.grid.options.paginationCurrentPage items-per-page=gridApi.grid.options.paginationPageSize total-items=gridApi.grid.options.totalItems boundary-links=true previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></pagination>\n</nav>'),a.put("external_components/it-mlaf-ui/templates/intcAppFrame.html",'<nav id=siteNav ng-class="{ hideSearch: intcAppFrame.hideSearch }" class=hidden-print>\n\t<div id=search>\n\t    <button ng-click=openSearch($event)><span class=intelicon-search></span></button>\n\t    <form class=navbar-form>\n\t        <input placeholder="{{intcAppFrame.search.placeholder || \'Search\'}}" ng-model=globalSearchQuery ng-enter=handleSearch() ng-click=searchFocus($event) class="form-control">\n\t    </form>\n\t</div>\n</nav>\n\n<div class="navbar navbar-intel navbar-fixed-top hidden-print" role=navigation>\n\t<img class=navbar-logo src=bower_components/it-mlaf-sass/images/intel-logo-white-100.png alt="">\n\n\t<div class=navbar-header>\n\t\t<button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#cr-navbar-collaspe>\n\t\t\t<span class=icon-bar></span>\n\t\t\t<span class=icon-bar></span>\n\t\t\t<span class=icon-bar></span>\n\t\t</button>\n\t\t<a class=navbar-brand href="#/">{{intcAppFrame.header.title}}</a>\n\t</div>\n\t<div class="collapse navbar-collapse" id=cr-navbar-collaspe>\n    <ul class="nav navbar-nav cr-navbar-nav-profil pull-right">\n      <li><a href=./#/user/teams><subject-identity></subject-identity></a></li>\n    </ul>\n\t\t<ul class="nav navbar-nav">\n      \n\t\t\t<li ng-repeat="item in intcAppFrame.nav.items" ng-class="{ active: item.active }" class=dropdown>\n\t\t\t\t<a href=javascript:{} ng-show="item.subItems && item.subItems.length" ng-click=toggleSubMenu($event) class=dropdown-toggle>{{item.title}}\n\t\t\t\t\t<span class=intelicon-down></span>\n\t\t\t\t</a>\n\n\t\t\t\t<ul ng-show="item.subItems && item.subItems.length" class=dropdown-menu>\n\t\t\t\t\t<li ng-repeat="subItem in item.subItems" ng-class="{ active: subItem.active }">\n\t\t\t\t\t\t<a ng-href="{{subItem.href || \'javascript:{}\'}}" target="{{subItem.target || \'\'}}" ng-click=handleClick(subItem)>{{subItem.title}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<a ng-show="!item.subItems || !item.subItems.length" ng-href="{{item.href || \'javascript:{}\'}}" ng-click=handleClick(item)>{{item.title}}</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class=kink>\n\t\t<div class=triangle></div>\n\t\t<div class=block></div>\n\t</div>\n</div>\n\n<div id=page ng-class="{ showNav: showNav }">\n\t<div ng-transclude></div>\n</div>'),a.put("external_components/it-mlaf-ui/templates/intcGrid.html",'<div class=ig-grid>\n    <div data-ng-if=intcGrid.display.header>\n        <h3 data-ng-if=intcGrid.filter.query>\n            <span data-intc-grid-compile=intcGrid.filter.searchText></span>\n            <span class=ig-search-term data-ng-bind=intcGrid.filter.queryText><span>\n        </span></span></h3>\n        <h2 data-ng-if=!intcGrid.filter.query data-intc-grid-compile=intcGrid.filter.allText></h2>\n    </div>\n    <div class=clearfix>\n        <div class=pull-left>\n            <h4>\n                <span data-ng-if=intcGrid.display.count>\n                    <span data-intc-grid-compile=intcGrid.filter.foundText></span> {{intcGrid.data.count}}\n                </span>\n                <span data-ng-if="intcGrid.display.groupCount && intcGrid.group.column" class=ig-group-count>\n                    <span data-ng-if=intcGrid.display.count> , </span>\n                    <span data-intc-grid-compile=intcGrid.group.groupText></span> {{intcGrid.data.groupCount}}\n                </span>\n            </h4>\n        </div>\n        <div class="pull-right ig-group-drop" data-ng-if="intcGrid.group.enabled && intcGrid.data.clientOnly" data-ng-class="{\'ig-mobile\':intcGrid.display.mobile}">\n            <form class="form-inline ig-mobile-hide" role=form>\n                <div class=form-group>\n                    <label for=groupBy><span class=intelicon-group></span> {{intcGrid.group.label}} </label>\n                    <select class=form-control id=groupBy data-ng-model=intcGrid.group.columnSelected data-ng-options="column.groupName for column in intcGrid.group.columns" data-ng-change=groupData(intcGrid.group.columnSelected)>\n                        <option value="">{{intcGrid.group.clear}}</option>\n                    </select>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div ng-transclude></div>\n    <table class="table table-intel" data-ng-class="{\'ig-mobile\':intcGrid.display.mobile}">\n        <thead class=ig-mobile-hide>\n            <tr data-ng-if=intcGrid.display.columnHeaders>\n                <th data-ng-repeat="column in intcGrid.columns" class={{column.cssClass}} data-ng-class={{column.headerCssExpression}}>\n                    <div data-ng-if=!column.headerTemplate data-ng-class="{\'ig-sort-header\':column.sortOn}" data-ng-click=sortTable(column)>\n                        <span data-intc-grid-compile=column.displayName></span>\n                        <span class=ig-group-indicator data-ng-class="{\'intelicon-group\':column.groupName == intcGrid.group.column.groupName}"></span>\n                        <span data-ng-if="column.sortOn && column.groupName != intcGrid.group.column.groupName" class=ig-caret data-ng-class="{\n                            \'ig-caret-up\' : !intcGrid.sort.reverse || column.field != intcGrid.sort.field,\n                            \'ig-caret-down\' : intcGrid.sort.reverse && column.field == intcGrid.sort.field,\n                            \'ig-sort-active\' : column.field == intcGrid.sort.field,\n                            \'ig-sort-inactive\' : column.field != intcGrid.sort.field\n                        }"></span>\n                    </div>\n                    <div data-ng-if=column.headerTemplate data-intc-grid-compile=column.headerTemplate></div>\n                </th>\n            </tr>\n            <tr data-ng-if=intcGrid.filter.enabled>\n                <td data-ng-repeat="column in intcGrid.columns" data-ng-class={{column.filterCssExpression}}>\n                    <div data-ng-if="column.filterOn && column.filterTemplate" data-intc-grid-compile=column.filterTemplate></div>\n                    <input data-ng-if="column.filterOn && !column.filterTemplate" placeholder={{column.filterPlaceholder}} class=ig-filter-input data-ng-model=intcGrid.columns[$index].filterValue data-ng-change="changeFilter(column)">\n                </td>\n            </tr>\n        </thead>\n        <tbody data-ng-if=intcGrid.rowTemplates.top class=ig-body data-intc-grid-compile=intcGrid.rowTemplates.top></tbody>\n        <tbody data-ng-if="intcGrid.data.loaded && !intcGrid.group.column" class=ig-body data-ng-include=intcGrid.rowTemplateCacheName></tbody>\n        <tbody class=ig-group-container data-ng-repeat="group in intcGrid.data.grouped" data-ng-include=intcGrid.rowTemplateGroupCacheName></tbody>\n        <tbody data-ng-if="intcGrid.display.waiting && !intcGrid.data.loaded">\n             <tr>\n                <td colspan={{intcGrid.columns.length}} class=ig-loading data-intc-grid-compile=intcGrid.display.waitingMessage></td>\n             </tr>\n        </tbody>\n        <tbody data-ng-if=intcGrid.rowTemplates.bottom class=ig-body data-intc-grid-compile=intcGrid.rowTemplates.bottom></tbody>\n        <tfoot data-ng-if="intcgrid.display.showFooter || intcGrid.paging.enabled">\n            <tr>\n                <td colspan={{intcGrid.columns.length}}>\n                    <div class="ig-pull-right ig-paging" data-ng-if="intcGrid.paging.enabled && intcGrid.data.displayed.length > 0">\n                        <div class="ig-page-block ig-mobile-hide form-inline" data-ng-if=intcGrid.display.pageSizes>\n                            <label for=selectPageSize>Page size:</label>\n                            <select class=form-control id=selectPageSize data-ng-model=intcGrid.paging.size data-ng-options="size as size.display for size in intcGrid.paging.sizes"></select>\n                        </div>\n\n                        <div class="ig-page-block ig-margin-left">\n                            <span class=intelicon-rewind-reverse data-ng-class="{\'ig-paging-active\':intcGrid.paging.current > 1, \'ig-paging-inactive\':intcGrid.paging.current == 1}" data-ng-click=setPage(1)></span>\n\n                            <span class=intelicon-left-previous data-ng-class="{\'ig-paging-active\':intcGrid.paging.current > 1, \'ig-paging-inactive\':intcGrid.paging.current == 1}" data-ng-click=incrementPage(-1)></span>\n\n                            <span class="form-inline ig-page-number">\n                                <label for=selectPageNumber>Page:</label>\n                                <input type=number id=selectPageNumber class=form-control data-ng-model=intcGrid.paging.current data-ng-change=setPage() min=1 max="{{intcGrid.paging.max}}"> of {{intcGrid.paging.max}}\n                            </span>\n\n                            <span class=intelicon-right-next data-ng-class="{\'ig-paging-active\':intcGrid.paging.current < intcGrid.paging.max, \'ig-paging-inactive\':intcGrid.paging.current == intcGrid.paging.max}" data-ng-click=incrementPage(1)></span>\n\n                            <span class=intelicon-fast-forward data-ng-class="{\'ig-paging-active\':intcGrid.paging.current < intcGrid.paging.max, \'ig-paging-inactive\':intcGrid.paging.current == intcGrid.paging.max}" data-ng-click=setPage(intcGrid.paging.max)></span>\n                        </div>\n                    </div>\n                    <div class="ig-pull-left ig-refresh" data-ng-if=intcGrid.data.enableRefresh>\n                        <label>Last Refresh:</label> {{intcGrid.data.timestamp}}\n                        <input type=button class="btn btn-primary ig-margin-left" value=Refresh data-ng-click="refreshData()">\n                    </div>\n                </td>\n            </tr>\n        </tfoot>\n    </table>\n</div>'),a.put("external_components/it-mlaf-ui/templates/intcUserPicker.html",'<div class=intcUserPicker>\n    <input class=form-control data-ng-change=updateUser() data-ng-model=intcUserPickerModel data-ng-keydown=userKeydown($event) data-ng-blur=closeUserInput() placeholder={{userPickerConfig.display.inputPlaceholder}} data-ng-disabled=userPickerConfig.display.disabled>\n    <div class=iu-pop-container>\n        <ul class=list-group data-ng-show=userPickerState.popUp>\n            <li class="list-group-item iu-item" data-ng-if=userPickerConfig.display.searchFor>Search for "{{intcUserPickerModel[userPickerConfig.modelField]}}"</li>\n            <li class="list-group-item iu-item" data-ng-show=userPickerState.noUsers>No results</li>\n            <li class="list-group-item iu-item" data-ng-class="{\'iu-selected\': $index == userPickerState.users.selected}" data-ng-repeat="user in userPickerState.users.data" data-ng-click=userClick(user)>\n\n                <img data-ng-if=userPickerConfig.userProperties.photo height=40 width=40 class=iu-img intc-photo-error ng-src=http://photos.intel.com/images/{{user[userPickerConfig.fields.wwid]}}.jpg alt="{{user[userPickerConfig.fields.name]}} badge photo">\n\n                <div data-ng-class="{\'iu-text\': userPickerConfig.userProperties.photo}">\n                    <span class=iu-name data-ng-class="{\'iu-multiline\':userPickerConfig.display.multiline}">\n                        {{user[userPickerConfig.fields.name]}} <span data-ng-show="!userPickerConfig.display.multiline && userPickerState.fieldList.length > 0"> - </span>\n                    </span>\n                    <span data-ng-repeat="field in userPickerState.fieldList">\n                        {{user[field]}} <span data-ng-show=!$last> - </span>\n                    </span>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n</div>'),a.put("app/about/about.html",'<div class="jumbotron cr-page-header">\n  <div class=container>\n    <div class=row>\n      <h1>About us</h1>\n      <p class=lead>The <a href=http://wiki.ith.intel.com/display/DRD/Tools>team</a> behind the project.\n      <h2>Contact us</h2>\n      <ul>\n        <li><a href=mailto:dev_tcr@intel.com>Support list: DEV_TCR</a></li>\n        <li><a href=mailto:jean-christophe.baey@intel.com>Jean-Christophe Baey</a></li>\n        <li><a href=mailto:mathieu.auret@intel.com>Mathieu Auret</a></li>\n        <li><a href=mailto:benoit.boiteux@intel.com>Benoit Boiteux</a></li>\n        <li><a href=mailto:sylvain.brouillat@intel.com>Sylvain Brouillat</a></li>\n        <li><a href=mailto:gregory.livon@intel.com>Gr&eacute;gory Livon</a></li>\n        <li><a href=mailto:aymericx.duchein@intel.com>AymericX Duchein</a></li>\n        <li><a href=mailto:yann.chauvin@intel.com>Yann Chauvin</a></li>\n      </ul>\n      <h2>Wiki</h2>\n      <ul>\n        <li><a href=https://wiki.ith.intel.com/x/ARmrGw>https://wiki.ith.intel.com/display/DRD/TCR%3A+Test+Campaign+Reporting</a></li>\n      </ul>\n      </p>\n    </div>\n  </div>\n</div>'),a.put("app/activities/activities.html",'<div class=cr-comments>\n  <div ng-if="activities.length === 0">\n    No activity\n  </div>\n  <ul class=media-list ng-if=activities.length>\n    <li ng-repeat="activity in activities" class=media>\n      <div class=pull-left>\n        <a href=#><user-photo size="\'xs\'" wwid="activity.context.author.wwid || activity.user.wwid || activity.context.user.wwid "></user-photo></a>\n      </div>\n      <div class=media-body>\n        <h5>\n        <strong class=media-heading>\n          {{activity.context.author.firstname || activity.user.firstname || activity.context.user.firstname }}\n          {{activity.context.author.lastname || activity.user.lastname || activity.context.user.lastname}}\n        </strong>\n        - <small class=text-muted am-time-ago=activity.date></small>\n        </h5>\n\n        <span ng-if="activity.action === \'QUALITY_REPORT\'"> Reporting upload status:\n          {{activity.context.Error || activity.context.Success || activity.context.Warning}}\n          <a ng-href={{activity.context.link}} ng-if=activity.context.link> Test link </a>\n          <button type=button class="btn btn-primary btn-xs" ng-click=retry() ng-if="activity.context.retry && $last"><span> Retry upload</span></button>\n        </span>\n        <span ng-if="activity.action === \'SHOW_REPORT\'">made this campaign <b>visible</b> in reports</span>\n        <span ng-if="activity.action === \'HIDE_REPORT\'">made this campaign <b>hidden</b> in reports</span>\n\n        <span ng-if="activity.action === \'VERDICT_CHANGE\' && activity.object.type === \'Test\'">\n          changed the verdict from <cr-verdict input=activity.context.oldVerdict></cr-verdict> to <cr-verdict input=activity.context.newVerdict></cr-verdict>\n          <p ng-if=activity.context.text><span class=text-muted>Reason: </span>\n            <span class=pre-text><markdown markdown-model=activity.context.text></markdown></span>\n          </p>\n        </span>\n        <span ng-if="activity.action === \'VERDICT_CHANGE\' && activity.object.type === \'Campaign\'">\n          Verdict changed to <cr-verdict input=activity.context.verdict></cr-verdict>\n        </span>\n\n        <span ng-if="activity.action === \'CERTIFY\'">Certified: set to ReadOnly</span>\n        <span ng-if="activity.action === \'DECERTIFY\'">Decertified: unset ReadOnly</span>\n\n        <span ng-if="activity.action === \'REF\'"><b>Link</b> {{activity.context.bugTracker}} issue: <b>{{activity.context.details.id}}</b></span>\n        <span ng-if="activity.action === \'UNREF\'"><b>Unlink</b> {{activity.context.bugTracker}} issue: <b>{{activity.context.details.id}}</b></span>\n\n        <span ng-if="activity.action === \'COMMENT\'">Added a comment:</span>\n        <p ng-if="activity.action === \'COMMENT\'" class=pre-text><markdown markdown-model=activity.context.text></markdown></p>\n\n        <span ng-if="activity.action === \'UNCOMMENT\'">Delete a comment:</span>\n        <p ng-if="activity.action === \'UNCOMMENT\'" class=pre-text><markdown markdown-model=activity.context.text></markdown></p>\n\n        <span ng-if="activity.action === \'CRASH_EVENT\'">\n          {{activity.context.type}} <strong>Crash Event</strong>\n          <a ng-href="{{crashtoolConfig.web.EVENT_URL.replace(\':eventId\', activity.context.eventId)}}" target=_blank>{{activity.context.eventId}}</a>\n        </span>\n\n        <span ng-if="activity.action === \'REPORT_ADD_CAMPAIGN\'">\n          <strong class=text-success>Add</strong> this Campaign to Build Report:\n          <a ui-sref="home.build.report.campaigns({reportType:activity.context.report.type, reportId:activity.context.report.id})" target=_blank>{{activity.context.report.name}}</a>\n        </span>\n        <span ng-if="activity.action === \'REPORT_DELETE_CAMPAIGN\'">\n          <strong class=text-danger>Remove</strong> this Campaign from Build Report:\n          <a ui-sref="home.build.report.campaigns({reportType:activity.context.report.type, reportId:activity.context.report.id})" target=_blank>{{activity.context.report.name}}</a>\n        </span>\n        <span ng-if="activity.action === \'VALUE_CHANGE\'">\n          <p>\n            changed the campaign name from <span style="text-decoration-line: line-through;color: red">{{activity.context.oldName}}</span>\n            to <span style="color: blue">{{activity.context.newName}}</span>\n          </p>\n        </span>\n      </div>\n    </li>\n  </ul>\n</div>'),a.put("app/activities/activities.view.html","<activities activities=service.activities retry=service.retry></activities>"),a.put("app/attachments/attachment-detail.html",'<dl class=dl-horizontal>\n    <dt ng-if=attachment.creation>Upload date</dt>\n    <dd ng-if=attachment.creation>{{attachment.creation | crdate}}</dd>\n\n    <dt ng-if=attachment.originalName>Original Name</dt>\n    <dd ng-if=attachment.originalName>{{attachment.originalName}}</dd>\n\n    <dt ng-if=attachment.displayLength>Length</dt>\n    <dd ng-if=attachment.displayLength>{{attachment.displayLength}}</dd>\n\n    <dt ng-if=attachment.retention>Retention</dt>\n    <dd ng-if=attachment.retention>{{attachment.retention.policy}} ({{attachment.retention.duration}} days)</dd>\n\n    <dt ng-if=attachment.retention.available>Planned deletion</dt>\n    <dd ng-if=attachment.retention.available>{{attachment.retention.deletionDate | crdate}} (will be deleted in {{attachment.retention.daysBeforeDeletion}} days)</dd>\n\n    <dt ng-if="attachment.retention && !attachment.retention.available">Deleted on</dt>\n    <dd ng-if="attachment.retention && !attachment.retention.available">{{attachment.retention.deletionDate | crdate}}</dd>\n  </dl>'),a.put("app/attachments/attachments.view.html",'<div class=col-md-3>\n  \n  <a class="btn btn-link" ng-disabled="allUnavailable === true" ng-href={{downloadAllUrl}} download=archive.zip>\n    <span class="glyphicon glyphicon-download"></span>\n    Download All\n  </a>\n  <a class="btn btn-link" style=float:right ng-click=openModalToUpload()>\n    <span class="glyphicon glyphicon-upload"></span>\n        Upload\n  </a>\n  \n  <div class=panel-group ng-repeat="attachment in attachments">\n    <div class="panel cr-panel panel-default">\n      <div class=panel-heading ng-class="{\'active\': attachment === selectedAttachment, disabled: !attachment.retention.available}" ng-click="selectAttachment(attachment, attachment.id)" popover-template="\'filedetailsTemplate.html\'" popover-placement=right popover-append-to-body=true popover-trigger=mouseenter popover-title="{{attachment.displayName || attachment.originalName}}" popover-popup-delay=500 data-toggle=collapse href=#{{attachment.id}}>\n        <h4 class=panel-title>\n          <span class="badge pull-right">{{attachment.displayLength}}</span>\n          <span ng-class="{\'text-muted\':!attachment.retention.available}">\n            <span class="glyphicon glyphicon-book" ng-show=attachment.archiveEntries> </span>\n            <span class="glyphicon glyphicon-file" ng-show=!attachment.archiveEntries> </span>\n            {{(attachment.displayName || attachment.originalName) | truncate : 25}}\n          </span>\n        </h4>\n      </div>\n      <div class="panel collapse" ng-if=attachment.archiveEntries id={{attachment.id}}>\n        <ul class=list-group>\n          <li class=list-group-item ng-class="{ \'active\': archiveEntry === selectedAttachment}" ng-repeat="archiveEntry in attachment.archiveEntries" ng-click="selectAttachment(archiveEntry, attachment.id, attachment)" popover-template="\'archiveEntryDetailsTemplate.html\'" popover-placement=right popover-append-to-body=true popover-trigger=mouseenter popover-title={{archiveEntry.originalName}} popover-popup-delay=500>\n            <span>\n              {{archiveEntry.originalName}}<span class="badge pull-right">{{archiveEntry.displayLength}}</span>\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div class=panel-footer ng-if="!attachment.retention.available || (attachment.retention.available && attachment.retention.daysBeforeDeletion < 7)">\n        <small>\n          <span ng-if=!attachment.retention.available class="label label-warning">DELETED</span>\n          <span ng-if="attachment.retention.available && attachment.retention.daysBeforeDeletion < 7" class="label label-warning">\n            {{ \'Deletion in \' + attachment.retention.daysBeforeDeletion + \' days\'}}\n          </span>\n\n        </small>\n        <div class=pull-right>\n        <a ng-if="attachment.retention.available && attachment.retention.daysBeforeDeletion < 7 && attachment.retention.policy !== \'EXTRALONG\'" ng-click=extend(attachment) style=cursor:pointer>\n            {{\' Extend policy\'}}\n          </a>\n          </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div class=col-md-9>\n  <div ng-if=selectedAttachment id=topDiv>\n    \n    <div class=row>\n      <div class=col-md-12>\n        \n        <a class="btn btn-link pull-right" ng-if="!selectedAttachment.retention || selectedAttachment.retention.available" ng-href={{selectedAttachment.url}}>\n          <span class="glyphicon glyphicon-download"></span>\n          Download file\n        </a>\n        \n        <a class="btn btn-link pull-right" ng-if=isGenerateRootCauseAvailable() href ng-click=showRootCauseModal()>\n          <span class="glyphicon glyphicon-upload"></span>\n          Generate Root Cause\n        </a>\n        \n        <div class=page-header>\n          <h3><strong>{{selectedAttachment.originalName}}</strong></h3>\n          <small ng-if="selectedAttachment.retention || selectedAttachment.retention.available" class=muted> Will be deleted in {{selectedAttachment.retention.daysBeforeDeletion}} days <a ng-click=extend(selectedAttachment) target=_self style=cursor:pointer> (extend retention)</a></small>\n        </div>\n      </div>\n    </div>\n\n    \n    <div class="btn-group cr-toolbar">\n      <button type=button class="btn btn-default" ng-click="scrollTo(\'file-preview\')"><span class="glyphicon glyphicon-chevron-down"></span> File preview</button>\n      <button type=button class="btn btn-default" ng-click="scrollTo(\'file-properties\')"><span class="glyphicon glyphicon-chevron-down"></span> File properties</button>\n    </div>\n\n    <div ng-if=logFeature>\n      <log-feature-chart data=logFeature id=file-stats></log-feature-chart>\n    </div>\n\n    \n    <div ng-if=selectedAttachment.url>\n      <div class=cr-toolbar>\n        <a href="" ng-click="scrollTo(\'topDiv\')"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a>\n      </div>\n\n      <div class="panel panel-default panel-dark" id=file-preview>\n        <div class=panel-heading>\n          <h4 class=panel-title>File preview</h4>\n        </div>\n        <file-viewer id=previewDiv file=selectedAttachment></file-viewer>\n      </div>\n\n      <div class="panel panel-default panel-dark" id=file-properties>\n        <div class=panel-heading>\n          <h4 class=panel-title>File properties</h4>\n        </div>\n        <div class=panel-body>\n          <attachment-detail attachment=selectedAttachment></attachment-detail>\n        </div>\n      </div>\n    </div>\n    <div class=cr-toolbar>\n      <a href="" ng-click="scrollTo(\'topDiv\')"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a>\n    </div>\n  </div>\n\n  <div ng-if=!selectedAttachment>\n    <div class=cr-block-empty>File preview</div>\n  </div>\n</div>\n\n\n<script type=text/ng-template id=filedetailsTemplate.html>\n  <attachment-detail attachment="attachment"></attachment-detail>\n</script>\n<script type=text/ng-template id=archiveEntryDetailsTemplate.html>\n  <attachment-detail attachment="archiveEntry"></attachment-detail>\n</script>'),
a.put("app/attachments/modal/attachments-root-cause-live-status.html",'<div class=modal-header>\n  <h3 class=modal-title>Root Cause Live status {{taskGraph.taskId}}</h3>\n</div>\n\n<div class=modal-input-group-set>\n  \n  <task-list tasks=tasks></task-list>\n</div>\n\n<div class="modal-footer cr-picker-modal-footer">\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/attachments/modal/attachments-root-cause.html",'<div class=modal-header>\n  <h3 class=modal-title>\n    {{title}}\n    <span class="glyphicon glyphicon-info-sign pull-right" tooltip={{job_info}} tooltip-placement=bottom></span>\n  </h3>\n</div>\n<div class="modal-header cr-catch-primary">\n  <p>\n    Generate a html attachment highlighting test failed root cause.<br>\n    From the current attachment. Allow the user to search for older similar attachments (same campaign name, same test case) but from a PASSED test verdict.\n  </p>\n</div>\n<div class=modal-body>\n  <form name=form novalidate class=css-form>\n    \n    <div ng-show=form.$invalid class=has-error>\n      <div ng-show=form.name.$error.required class=help-block>Name is required</div>\n      <div ng-show=form.limit.$error.required class=help-block>Limit is required</div>\n      <div ng-show="form.limit.$error.min || form.limit.$error.max" class=help-block>\n        Limit value must be in range 1 to 20!\n      </div>\n    </div>\n    \n    <div class=form-group>\n      <label for=valueInput class=control-label>Name:</label>\n      <input class=form-control ng-model=name name=name placeholder="Log Name Regex" auto-focus required>\n      <div class=help-block>regexp name to match the older attachments</div>\n    </div>\n    \n    <div class=form-group>\n      <label for=valueInput class=control-label>Limit:</label>\n      <input type=number id=limit class=form-control ng-model=limit name=limit placeholder="Test scope Limit" min=1 max=20 required>\n      <div class=help-block>Maximum attachments to use</div>\n    </div>\n\n    \n    <div class=row>\n      <div class="col-md-12 modal-input-group">\n        <label class=control-label>List of matching attachments : {{attachments.length}}</label>\n        <div ng-repeat="attachment in attachments">\n          <a ng-if=attachment.testId target=_blank ui-sref="test.detail.attachments({testId: attachment.testId})">{{attachment.originalName}}</a>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n<div class="modal-footer cr-picker-modal-footer">\n  <button class="btn btn-info" ng-click=check() ng-disabled=!isCheckable()>Check Attachment Scope</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=!isJobStartable()>Start Job</button>\n</div>'),a.put("app/attachments/modal/attachments-upload-multiple.html",'<style>\n  .my-drop-zone {\n    border: dotted 3px lightgray;\n  }\n\n  .nv-file-over {\n    border: dotted 3px red;\n  }\n\n  /* Default class applied to drop zones on over */\n\n  .another-file-over-class {\n    border: dotted 3px green;\n  }\n</style>\n<div class=modal-header>\n  <h3 class=modal-title>\n    Upload Attachments\n  </h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-3>\n\n      <h3>Select files</h3>\n      \n      <div ng-show=uploader.isHTML5>\n        <div nv-file-drop="" uploader=uploader>\n          <div nv-file-over="" uploader=uploader over-class=another-file-over-class class="well my-drop-zone">\n            drop file/s here\n          </div>\n        </div>\n\n      </div>\n      Multiple\n      <input type=file nv-file-select="" uploader=uploader multiple>\n    </div>\n\n    <div class=col-md-9 style="margin-bottom: 40px">\n\n      <h3>Upload queue</h3>\n      <p>Queue length: {{ uploader.queue.length }}</p>\n\n      <table class=table>\n        <thead>\n          <tr>\n            <th width=50%>Name</th>\n            <th ng-show=uploader.isHTML5>Size</th>\n            <th ng-show=uploader.isHTML5>Progress</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="item in uploader.queue">\n            <td><strong>{{ item.file.name }}</strong></td>\n            <td ng-show=uploader.isHTML5 nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>\n            <td ng-show=uploader.isHTML5>\n              <div class=progress style="margin-bottom: 0">\n                <div class=progress-bar role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div>\n              </div>\n            </td>\n            <td class=text-center>\n              <span ng-show=item.isSuccess><i class="glyphicon glyphicon-ok"></i></span>\n              <span ng-show=item.isCancel><i class="glyphicon glyphicon-ban-circle"></i></span>\n              <span ng-show=item.isError><i class="glyphicon glyphicon-remove"></i></span>\n            </td>\n            <td nowrap>\n              <button type=button class="btn btn-danger btn-xs" ng-click=item.remove() ng-disabled="item.isReady || item.isUploading || item.isSuccess">\n                <span class="glyphicon glyphicon-trash"></span> Remove\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div>\n        <div>\n          Queue progress:\n          <div class=progress>\n            <div class=progress-bar role=progressbar ng-style="{ \'width\': uploader.progress + \'%\' }"></div>\n          </div>\n        </div>\n        <button type=button class="btn btn-success btn-s" ng-click=uploader.uploadAll() ng-disabled=!uploader.getNotUploadedItems().length>\n          <span class="glyphicon glyphicon-upload"></span> Upload all\n        </button>\n      </div>\n\n    </div>\n\n  </div>\n</div>\n\n<div class="modal-footer cr-picker-modal-footer">\n  <button class="btn btn-warning" ng-click=ok() ng-disabled=uploader.isUploading>{{uploader.isUploading?\'Uploading\':\'Close\'}}</button>\n</div>'),a.put("app/benches/benches-engines.component.html",'<div class=row>\n  <div class=col-md-12>\n    <div class="panel panel-default">\n      <highchart config=$ctrl.engineChartConfig></highchart>\n    </div>\n  </div>\n</div>\n\n<div class=row ng-repeat="group in $ctrl.results">\n  <div class=col-md-12>\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <h4>{{group.name}}</h4>\n      </div>\n      <div class=row>\n        <div class=col-md-8>\n          <highchart ng-if="group.name !== \'Other\'" config=group.chartConfig></highchart>\n\n          <div class=list-group>\n            <div class=list-group-item>\n              <div class="row no-gutter">\n                <div class=col-md-2>\n                  Bench Name\n                </div>\n                <div class=col-md-4>\n                  Engine Version\n                </div>\n                <div class=col-md-6>\n                  Librairies\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=list-group>\n            <div class=list-group-item ng-repeat="bench in group.benches">\n              <div class="row no-gutter">\n                <div class=col-md-2>\n                  {{bench.name}}\n                </div>\n                <div class=col-md-4>\n                  {{bench.engine.engineVersion}}\n                </div>\n                <div class=col-md-6>\n                  <p ng-repeat="lib in bench.engine.libs"><span ng-if="lib.name === \'adb\'" class="icomoon icon-android"></span> {{lib.name}} - {{lib.libVersion}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=col-md-4>\n          <div class=cr-facetnav>\n            <ul class=cr-facetnav-group>\n              <li ng-repeat="filter in group.filters">\n                <span class=cr-facetnav-group-title>{{filter.label}} <a href="" ng-click=filter.filter(null) ng-if=filter.selectedValue>(reset)</a></span>\n                <ul class=cr-facetnav-group>\n                  <li ng-class="{active: filter.selectedValue === item.key}" ng-repeat="item in filter.items" ng-if="item.value > 0"><a class=cr-facetnav-item href="" ng-click=filter.filter(item.key)>{{item.key}} ({{item.value}} / {{(item.value / group.benches.length*100).toFixed(1)}} %)</a></li>\n                </ul>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/benches/benches-favorites.component.html",'<div class=row>\n\n  <div class="col-lg-8 col-md-12 cr-section">\n    <div ng-if="$ctrl.results.length > 0">\n      <span>{{$ctrl.results.length}} favorites</span>\n      <benches-list benches=$ctrl.results></benches-list>\n    </div>\n    <div ng-if="$ctrl.results.length == 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>You don\'t have bench favorites</h3>\n      <p>Go to the <a ui-sref=home.benches.search>search page</a> then add some bench to your favorites.</p>\n    </div>\n  </div>\n\n  <div class=col-lg-2>\n    <div class=cr-facetnav>\n      <ul class=cr-facetnav-group>\n        <li ng-repeat="filter in $ctrl.filters">\n          <span class=cr-facetnav-group-title>{{filter.label}} <a href="" ng-click=filter.filter(null) ng-if=filter.selectedValue>(reset)</a></span>\n          \n          <ul class=cr-facetnav-group>\n            <li ng-class="{active: filter.selectedValue === item.key}" ng-repeat="item in filter.items"><a class=cr-facetnav-item href="" ng-click=filter.filter(item.key)>{{item.key}} ({{item.value}})</a></li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>'),a.put("app/benches/benches-layout.html",'<div class=cr-page-aside>\n  <div class="page-header page-header-block">\n    <h2><span class="glyphicon glyphicon-hdd"></span> Benches</h2>\n  </div>\n  <ul class="nav nav-pills nav-stacked">\n    <li ui-sref-active=active><a ui-sref=home.benches.search><span class="glyphicon glyphicon-search"></span> Search</a></li>\n    <li ui-sref-active=active><a ui-sref=home.benches.favorites><span class="glyphicon glyphicon-star"></span> Favorites</a></li>\n    <li ui-sref-active=active><a ui-sref=home.benches.engines><span class="glyphicon glyphicon-hdd"></span> Test Engines</a></li>\n  </ul>\n</div>\n<div class="cr-page-content container-fluid">\n  <div ui-view=content></div>\n</div>'),a.put("app/benches/benches-list.component.html",'<div class=cr-benches-list>\n  <div class="row cr-benches-list-item" ng-repeat="item in $ctrl.benches" ng-class="{active: $ctrl.isActive(item)}">\n    <div class="col-md-3 cr-benches-list-item-head">\n      <bench-tile bench=item.bench active-time-ago=item.lastCampaign.lastModified favorite=$ctrl.isFavorite(item.bench) on-favorite=$ctrl.setAsFavorite(bench)></bench-tile>\n    </div>\n    <div class="col-md-6 cr-benches-list-item-state">\n\n      <div class=cr-benches-list-item-running-campaign>\n        <strong>Execution of <a ui-sref=campaign.detail({campaignId:item.lastCampaignId})>{{item.lastCampaign.name}}</a></strong>\n        <cr-status input=item.lastCampaign.status></cr-status>\n      </div>\n      <div class=cr-benches-list-item-running-test>\n        <small ng-if=item.lastCampaign.lastTest class=text-muted>Running {{item.lastCampaign.lastTest.testCase}}...</small>\n      </div>\n\n      <div class="row cr-toolbar">\n        <div class=col-md-6>\n          <execution-rate-bar tooltip="Campaign execution rate" value=item.lastCampaign._meta.rates.executionRate></execution-rate-bar>\n        </div>\n        <div class=col-md-6>\n          <pass-rate-bar tooltip="Campaign pass rate" value=item.lastCampaign._meta.rates.passRate></pass-rate-bar>\n        </div>\n      </div>\n\n      <div>\n        <ul class=cr-summary-stats>\n          <li>\n            <a href="" ui-sref="campaign.detail.events({campaignId: item.lastCampaignId})">\n              <span class=num>\n                <span class="glyphicon glyphicon-flash"></span> {{item.lastCampaign._meta.nbCriticalCrashes}} / {{item.lastCampaign._meta.nbCrashes}}\n              </span>\n              Critical/Total crashes\n            </a>\n          </li>\n          <li>\n            <a href="" ui-sref="campaign.detail.comments({campaignId: item.lastCampaignId})">\n              <span class=num>\n                <span class="glyphicon glyphicon-comment"></span> {{item.lastCampaign._meta.nbComments}}\n              </span>\n              Comments\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="col-md-3 cr-benches-list-item-tail cr-divider-horizontal-left">\n      <div class=text-right>\n        <test-type-label ng-repeat="type in item.lastCampaign.types" type=type></test-type-label>\n        <span class="label label-default" ng-repeat="domain in item.lastCampaign.domains">{{domain}}</span>\n      </div>\n      <div class=cr-section>\n        <build-tile build=item.build></build-tile>\n      </div>\n      <div class=cr-section>\n        <device-tile device=item.lastCampaign.device></device-tile>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/benches/benches-search.component.html",'<div class=row>\n  <div class="col-md-12 col-lg-9 cr-section">\n    <search-field on-submit=$ctrl.search(search) placeholder="Bench name, Build Name, Target Product" term=$ctrl.query.term></search-field>\n    <benches-list ng-if="$ctrl.results.length > 0" benches=$ctrl.results></benches-list>\n    <div ng-if="$ctrl.results.length == 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>No bench to show</h3>\n      <p>Try a new search query using above search field and options.</p>\n    </div>\n  </div>\n</div>'),a.put("app/build/build-new-modal.html",'<div class=modal-header>\n    <h3 class=modal-title>Create a build</h3>\n</div>\n\n<div class=modal-input-group-set>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Build Id:</label>\n            <input class=form-control ng-model=vm.build.buildId placeholder="Build Id" auto-focus>\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Name:</label>\n            <input class=form-control ng-model=vm.build.name placeholder=Name>\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Branch:</label>\n            <ui-select ng-model=vm.build.branch>\n                <ui-select-match allow-clear=true placeholder="Select branch">\n                    {{$select.selected}}\n                </ui-select-match>\n                <ui-select-choices repeat="branch in vm.branches | filter: $select.search track by $index">\n                    <div ng-bind-html="branch | highlight: $select.search"></div>\n                </ui-select-choices>\n            </ui-select>\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Target product:</label>\n            <ui-select ng-model=vm.build.targetProduct>\n                <ui-select-match allow-clear=true placeholder="Select target product">\n                    {{$select.selected}}\n                </ui-select-match>\n                <ui-select-choices repeat="targetProduct in vm.targetProducts | filter: $select.search track by $index">\n                    <div ng-bind-html="targetProduct | highlight: $select.search"></div>\n                </ui-select-choices>\n            </ui-select>\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Build User Hostname:</label>\n            <input class=form-control ng-model=vm.build.buildUserHostname placeholder="Build User Hostname">\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Finger Print:</label>\n            <input class=form-control ng-model=vm.build.fingerPrint placeholder="Finger Print">\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Kernel Version:</label>\n            <input class=form-control ng-model=vm.build.kernelVersion placeholder="Kernel Version">\n        </div>\n    </div>\n    <div class=row>\n        <div class="col-md-12 modal-input-group">\n            <label>Os:</label>\n            <input class=form-control ng-model=vm.build.os placeholder=Os>\n        </div>\n    </div>\n</div>\n\n<div class="modal-footer cr-picker-modal-footer">\n    <button class="btn btn-primary" ng-click=save() ng-disabled="vm.build.buildId === undefined || vm.build.buildId.trim() === \'\'">Create\n    </button>\n    <button class="btn btn-default" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/build/build-picker-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Select a build</h3>\n</div>\n<div class="modal-body cr-picker-modal-body">\n  <cr-build-picker ng-model=selection external-filters=externalFilters options=options></cr-build-picker>\n</div>\n<div class="modal-footer cr-picker-modal-footer">\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=isSelectionEmpty()>Select build<span ng-show=options.multiselect>s</span></button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/build/build-picker.html",'<div class="row cr-picker">\n  <div class=col-md-9>\n    <div class=row>\n      <div class="col-md-12 cr-picker-section cr-picker-searchbox">\n        <build-select on-select=toggleSelection ng-model=selectedBuild></build-select>\n      </div>\n    </div>\n    <div class=row>\n      <div class="col-md-5 cr-picker-filters cr-picker-section">\n        <h6>FILTERS</h6>\n        <div class="row form-group">\n          <div class=col-xs-1>\n            <span class="lead glyphicon glyphicon-hdd"></span>\n          </div>\n          <div class=col-xs-10>\n            <ui-select multiple ng-model=filters.bench>\n              <ui-select-match placeholder="Filter by benches">\n                {{$item}}\n              </ui-select-match>\n              <ui-select-choices repeat="bench in benches | filter: $select.search">\n                <div ng-bind-html="bench | highlight: $select.search"></div>\n              </ui-select-choices>\n            </ui-select>\n          </div>\n        </div>\n        <div class="row form-group">\n          <div class=col-xs-1>\n            <span class="lead glyphicon glyphicon-phone"></span>\n          </div>\n          <div class=col-xs-10>\n            <ui-select multiple ng-model=filters.device>\n              <ui-select-match placeholder="Filter by devices">\n                {{$item}}\n              </ui-select-match>\n              <ui-select-choices repeat="device in devices | filter: $select.search">\n                <div ng-bind-html="device | highlight: $select.search"></div>\n              </ui-select-choices>\n            </ui-select>\n          </div>\n        </div>\n        <div class="row form-group" ng-show=buildIdFiltering>\n          <div class=col-xs-1>\n            <span class="lead glyphicon glyphicon-gift"></span>\n          </div>\n          <div class=col-xs-10>\n            <input class=form-control placeholder="Build id" ng-model=filters.buildId>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-7 cr-picker-selection cr-picker-section">\n        <h6>BUILDS ({{filters.type}}: {{items.length}})</h6>\n        <ul class="nav nav-pills">\n          <li ng-repeat="(type, name) in buildTypes" role=presentation ng-click="filters.type=name"><a href=#>{{name}}</a></li>\n        </ul>\n        <div class=list-group>\n          <a href="" ng-repeat="item in items" ng-click=toggleSelection(item) class=list-group-item ng-class={active:!!selection[item.id]} popover-template="\'buildPopoverTemplate.html\'" popover-placement=left popover-append-to-body=true popover-trigger=mouseenter popover-title="{{item.buildId + \' (\' + item.name + \') \' + \' / \' + item.branch + \' / \' + item.targetProduct}}" ng-mouseenter=getAdditionalBuildInfos(item)>\n            <script type=text/ng-template id=buildPopoverTemplate.html>\n              <dl class="dl-horizontal">\n                <dt ng-if="item.buildUserHostname">Build User Hostname</dt>\n                <dd>{{item.buildUserHostname}}</dd>\n\n                <dt ng-if="item.fingerPrint">Finger Print</dt>\n                <dd>{{item.fingerPrint}}</dd>\n\n                <dt ng-if="item.kernelVersion">Kernel Version</dt>\n                <dd>{{item.kernelVersion}}</dd>\n\n                <dt ng-if="item.ingredientsJson">Ingredients</dt>\n                <dd><pre>{{item.ingredientsJson}}</pre></dd>\n              </dl>\n            </script>\n            <span class="glyphicon glyphicon-ok"></span>\n            {{item.buildId}} <span class="label label-info" ng-if="item.name && item.name !== item.buildId">{{item.name}}</span>\n            <div class=text-muted>\n              <span ng-if=item.branch> {{item.branch}}</span>\n              <span ng-if=item.targetProduct> / {{item.targetProduct}}</span>\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-3 cr-picker-selected cr-picker-section">\n    <h6>SELECTED ({{selectionCount()}})</h6>\n    <ul class=list-unstyled>\n      <li ng-repeat="(itemId, item) in selection">\n        <a class=cr-picker-item ng-click=toggleSelection(item)>\n          {{item.buildId}} <span class="label label-info" ng-if="item.name && item.name !== item.buildId">{{item.name}}</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>'),a.put("app/campaign-detail/campaign-detail-layout.html","<div class=cr-page-aside>\n  <div ui-view=column></div>\n</div>\n<div class=cr-page-content>\n  <div ui-view=header class=container-fluid></div>\n  <div ui-view=content class=container-fluid></div>\n</div>"),a.put("app/campaigns/campaign-add-to-project-modal.html","<div class=modal-header>\n  <h3 class=modal-title>Add campaign to pojects</h3>\n  <div class=text-muted>\n    The campaign {{campaign.name}}\n    <ng-pluralize count=campaign.projects.length when=\"{'0': ' has no projects yet',\n              '1': ' already contains 1 project',\n              'other': ' already contains {} projects'}\">\n    </ng-pluralize>\n    and {{alreadyPresentCount}} are coming from this page\n  </div>\n</div>\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No project selected',\n              '1': '{} project to be added',\n              'other': '{} project to be added'}\">\n    </ng-pluralize>\n  </p>\n</div>\n<div class=\"modal-body cr-modal-body-overflow\">\n  <project-picker selection=selected query=query projects=projects></project-picker>\n</div>\n<div class=modal-footer>\n"+'  <button class="btn btn-primary" ng-click=ok() ng-disabled="selected.length === 0">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/campaigns/campaign-add-to-report-modal.html","<div class=modal-header>\n  <h3 class=modal-title>Add Build Report to Campaign</h3>\n  <div class=text-muted>\n    The campaign {{campaign.name}} \n    <ng-pluralize count=campaign.reports.length when=\"{'0': ' has no report yet',\n              '1': ' already contains 1 report',\n              'other': ' already contains {} reports'}\">\n    </ng-pluralize>\n    and {{alreadyPresentCount}} are coming from this page\n  </div>\n</div>\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No report selected',\n              '1': '{} report to be added',\n              'other': '{} reports to be added'}\">\n    </ng-pluralize>\n  </p>\n</div>\n<div class=\"modal-body cr-modal-body-overflow\">\n  <report-picker selection=selected query=query reports=reports></report-picker>\n</div>\n<div class=modal-footer>\n"+'  <button class="btn btn-primary" ng-click=ok() ng-disabled="selected.length === 0">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/campaigns/campaign-reports.view.html",'<div ng-if=!campaignMeta>\n    No report\n</div>\n<div class=row ng-if=campaignMeta>\n    <div class=col-md-6>\n        <h3>Result distribution</h3>\n        <highchart id=testsuite-chart-verdict config=getVerdictChart()></highchart>\n\n        <table class="table table-bordered">\n            <thead>\n            <tr>\n            <th colspan=11 class=text-center>EFFECTIVE TESTS ({{effectives}}) <a href="" tooltip="{{effectives}} tests with no children (iterations) with phase!=SETUP"><span class="glyphicon glyphicon-question-sign"></span></a></th>\n            </tr><tr>\n            </tr><tr>\n                <th class=text-center>PENDING</th>\n                <th class=text-center>RUNNING</th>\n                <th class=text-center>CANCELLED</th>\n                <th class=text-center>TIMEOUT</th>\n                <th colspan=7 class=text-center>COMPLETED : Execution rate: {{executionRate * 100 | number : 2}} % ({{completed}} tests) </th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td>NA</td>\n                <td>PASSED</td>\n                <td>VALID</td>\n                <td>INCONCLUSIVE</td>\n\n                <td>BLOCKED</td>\n                <td>FAILED</td>\n                <td>INVALID</td>\n\n\n            </tr>\n            <tr class=text-right>\n                <td>{{pending}}</td>\n                <td>{{running}}</td>\n                <td>{{cancelled}}</td>\n                <td>{{timeout}}</td>\n\n                <td>{{na}}</td>\n                <td>{{passed}}</td>\n                <td>{{valid}}</td>\n                <td>{{inconclusive}}</td>\n                <td>{{blocked}}</td>\n                <td>{{failed}}</td>\n                <td>{{invalid}}</td>\n            </tr>\n            <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td colspan=3 class=text-center><strong>Pass rate : {{passRate * 100 | number : 2}} % ({{totalPassed}} tests)</strong></td>\n                <td colspan=3 class=text-center><strong>Fail rate : {{failRate * 100 | number : 2}} % ({{totalFailed}} tests)</strong></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=col-md-6 ng-show="getFeatureChart() && getFeatureChart().series.length">\n        <h2>Features distribution</h2>\n        <highchart id=testsuite-chart-features config=getFeatureChart()></highchart>\n    </div>\n</div>'),a.put("app/campaigns/campaign-results.html",'<cr-display-results options="displayCampaignResultsOptions">'),a.put("app/campaigns/campaign-tasks.html","<div class=row>\n  <div class=col-md-6>\n    <h3>Background tasks</h3>\n    <task-list tasks=tasks></task-list>\n  </div>\n</div>"),a.put("app/campaigns/campaign.changename.html",'<input ng-model="campaign.name">\n<input type=button class="btn btn-default" ng-click=changeName() value="save">\n<input type=button class="btn btn-default" ng-click=cancelChangeName() value="cancel">\n<div>\n<alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>{{alert.msg}}</alert>\n</div>'),a.put("app/campaigns/campaign.difftests.html",'<div ui-grid=gridOptions ui-grid-selection ui-grid-edit ui-grid-edit-row ui-grid-auto-resize ui-grid-pagination auto-fit-rows ui-grid-move-columns ui-grid-resize-columns ui-grid-persist-state ui-grid-choose-columns ui-grid-filters-ext class=ui-grid-intel external-scopes=cellScope></div>\n<div class=depth-toggle><input type=checkbox ng-model=depthToggled ng-change="toggleDepth()"><span ng-click="depthToggled = !depthToggled; toggleDepth()"> Hide iterations</span></div>\n<pagination-controls api=gridApi size=5></pagination-controls>\n'),a.put("app/campaigns/campaign.html",'<div class="container-fluid cr-page" id=cr-page-campaign>\n  \n  <div class=col-md-12>\n    <div ui-view=properties></div>\n  </div>\n  <div class=col-md-12>\n    <tabset>\n      \n      <tab ng-show=true active=activeTab.tests ui-sref=campaign.detail.tests>\n        <tab-heading>\n          <a target=_blank ng-click=getTestsCsvUrl() title="Export tests as csv" class="pull-right cr-download-button-campaign"><span class="glyphicon glyphicon-download-alt"></span></a>\n          Tests\n        </tab-heading>\n        <div ui-view=tests></div>\n      </tab>\n      <tab select=loadTestCases() ng-show=true active=activeTab.crossfiltertests ui-sref=campaign.detail.crossfiltertests>\n        <tab-heading>\n          <a target=_blank ng-click=getTestCasesCsvUrl() title="Export testcases as csv" class="pull-right cr-download-button-campaign"><span class="glyphicon glyphicon-download-alt"></span></a>\n          TestCases\n        </tab-heading>\n        <div ui-view=crossfilter-tests></div>\n      </tab>\n      <tab heading="PNP Results" ng-show=hasPnpResults select=openPnpResults() active=activeTab.pnpresults ui-sref=campaign.detail.pnpresults>\n        <div ui-view=pnp-results></div>\n      </tab>\n      <tab heading=CTS ng-show=cts select="" active=activeTab.cts ui-sref=campaign.detail.cts>\n        <div ui-view=cts></div>\n      </tab>\n      <tab heading=Results ng-show=true active=activeTab.results ui-sref=campaign.detail.results>\n        <div ui-view=results></div>\n      </tab>\n      <tab heading="Attachments ({{attachmentsCount}})" active=activeTab.attachments ui-sref=campaign.detail.attachments>\n        <div ui-view=attachments></div>\n      </tab>\n      <tab heading="Events ({{eventsService.count}})" ng-show="eventsService.count > 0" select="loadEvents(\'true\')" active=activeTab.events ui-sref=campaign.detail.events>\n        <div ui-view=events></div>\n      </tab>\n      <tab heading="Comments ({{commentService.count}})" ng-show=true select=loadComments() active=activeTab.comments ui-sref=campaign.detail.comments>\n        <div ui-view=comments></div>\n      </tab>\n      <tab heading="SE Linux" ng-show="selinux.length > 0" select=loadSeLinux() active=activeTab.seLinux ui-sref=campaign.detail.seLinux>\n        <div ui-view=seLinux></div>\n      </tab>\n      <tab heading="Activities ({{activitiesService.count}})" ng-if=true active=activeTab.activities ui-sref=campaign.detail.activities>\n        <div ui-view=activities></div>\n      </tab>\n      <tab heading=Reports ng-show=true select=displayReports() active=activeTab.reports ui-sref=campaign.detail.reports>\n        <div ui-view=reports></div>\n      </tab>\n      <tab heading=Tasks ng-show=true active=activeTab.tasks ui-sref=campaign.detail.tasks>\n        <div ui-view=tasks></div>\n      </tab>\n      <tab heading="Charts ({{chartService.count}})" ng-show="chartService.count > 0" select=loadCharts() active=activeTab.charts ui-sref=campaign.detail.charts>\n        <div ui-view=charts></div>\n      </tab>\n      <tab heading="Test cases diff verdict" ng-show=true active=activeTab.diffTests ui-sref=campaign.detail.diffTests>\n        <div ui-view=diffTests></div>\n      </tab>\n    </tabset>\n  </div>\n</div>'),a.put("app/campaigns/campaign.properties.html",'<div class="page-header row">\n    <div class="col-md-12 alert alert-warning" role=alert ng-if=campaign._validation.toBeDeleted>\n        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden=true></span>\n        <strong>Campaign will be deleted soon.</strong> {{campaign._validation.msg}}\n    </div>\n    <div class=col-md-8>\n      <div class=pull-left>\n        \n        <h1>{{campaign.engine}} Campaign\n          <small popover-is-open=campaignNamePopover.isOpen popover-template=campaignNamePopover.templateUrl popover-placement=bottom popover-title={{campaignNamePopover.title}} class="btn btn-default">\n            {{campaign.name}}</small></h1>\n        <p>\n          <test-type-label ng-repeat="type in campaign.types" type=type></test-type-label>\n          <span class="label label-default" ng-repeat="domain in campaign.domains">{{domain}}</span>\n          <private-icon ng-if="campaign.isPrivate">\n        </p>\n\n        <campaign-progress campaign=::campaign bench=true last-test=false></campaign-progress>\n\n        <div>\n          <div class=cr-progress-thin ng-if="campaign.status !== \'COMPLETED\'">\n            <a href="" tooltip="{{progress.completed}} tests with no children (iterations) in COMPLETED, CANCELLED or TIMEOUT status among {{progress.total}} tests with no children." tooltip-placement=bottom>\n              <progressbar ng-if=progress.total class="active cr-campaign-progressbar" max=progress.total value=progress.completed ng-class="{\'progress-striped\':progress.total > progress.completed}" type=info></progressbar>\n            </a>\n          </div>\n        </div>\n      </div>\n       <div class=pull-left ng-if=campaign._meta.rates>\n         <pass-rate-donut-chart rates=campaign._meta.rates></pass-rate-donut-chart>\n         <div class="text-muted text-center">Pass rate</div>\n       </div>\n       <div class=pull-left ng-if=campaign._meta.rates>\n         <execution-rate-donut-chart rates=campaign._meta.rates></execution-rate-donut-chart>\n         <div class="text-muted text-center">Execution rate</div>\n       </div>\n       <div class=pull-left>\n          <indicator name="\'Tests\'" tooltip="{{campaign._meta.rates.total}} tests : {{campaign._meta.rates.total - campaign._meta.rates.leafs}} parents + {{campaign._meta.rates.leafs - campaign._meta.rates.effectives}} setup + {{campaign._meta.rates.effectives}} effective" tooltip-placement=bottom value=campaign._meta.rates.total icon-class="glyphicon glyphicon-file" ng-class="{\'pull-left\': true}"></indicator>\n\n          <indicator name="\'Critical/Total crashes\'" tooltip="{{campaign._meta.nbCriticalCrashes}} critical crashes over a total of {{campaign._meta.nbCrashes}} crashes" tooltip-placement=bottom value="campaign._meta.nbCriticalCrashes + \'/\' + campaign._meta.nbCrashes" icon-class="glyphicon glyphicon-flash" ng-class="{\'pull-left\': true}"></indicator>\n       </div>\n    </div>\n    <div class="col-md-4 text-right">\n      <div class="btn-group cr-toolbar">\n          <button class="dropdown-toggle btn btn-default" data-toggle=dropdown>Actions <span class=caret></span></button>\n          <ul class="dropdown-menu pull-right">\n\n            <li><a href="" ng-if="campaign.build.buildId && campaign.build.branch && campaign.build.targetProduct && campaign.rtffData && campaign.device.deviceId && !campaign._certification" ng-click=openCertifyPopUp()><span class=intelicon-protection-checked-verified-solid></span> Certify </a>\n            </li>\n            <li><a href="" ng-if="campaign.build.buildId && campaign.build.branch && campaign.build.targetProduct && campaign.rtffData && campaign.device.deviceId && campaign._certification" ng-click=openDecertifyPopUp() ng-click=openCertifyPopUp()><span class=intelicon-protection-checked-verified-solid></span> Decertify  </a>\n            </li>\n            <li><a href="" ng-click=openHPQCModal()><span class="glyphicon glyphicon-export"></span> Upload to HP-ALM</a></li>\n\n            <li role=separator class=divider></li>\n            <li><a href="" ng-click=openAddToReportModal()><span class="glyphicon glyphicon-log-in"></span> Add to Report</a></li>\n            <li><a href="" ng-if="campaign.isInReport || campaign.isInReport === undefined" ng-click=removeInReport()><span class="glyphicon glyphicon-eye-open"></span> Hide in report</a></li>\n            <li><a href="" ng-if="campaign.isInReport === false" ng-click=showInReport()><span class="glyphicon glyphicon-eye-open"></span> Show in report</a></li>\n\n            <li role=separator class=divider></li>\n            <li><a href="" ng-click=openAddToProjectModal()><span class="glyphicon glyphicon-log-in"></span> Add to Project</a></li>\n\n            <li role=separator class=divider></li>\n            <li><a href="" ng-click=deleteCampaign()><span class="glyphicon glyphicon-remove"></span> Delete Campaign</a></li>\n          </ul>\n      </div>\n      <div>\n        <ul class=list-inline>\n          <li ng-if="canEdit === false"><span class="label label-danger">Read Only</span></li>\n          <li ng-if=campaign._certification><span class="label label-success">{{campaign.type}} Certified</span></li>\n          <li ng-if=campaign.build.branch><span class="label label-primary">{{campaign.build.branch }} / {{campaign.build.targetProduct}}</span></li>\n          <li ng-if=campaign.build.buildId>\n            <span class="label label-success">\n              <a ng-if=campaign.build.targetProduct target=_blank title="Go to build page" ui-sref="home.build.report.campaigns({reportId: campaign.build.buildId,targetProduct: campaign.build.targetProduct})">{{campaign.build.buildId}}</a>\n              <span ng-if=!campaign.build.targetProduct>{{campaign.build.buildId}}</span>\n            </span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n\n<cr-display-object options="displayCampaignOptions">'),
a.put("app/campaigns/campaign.testcases.html",'<table class="table table-hover">\n  <thead>\n    <tr>\n      <th>Index</th>\n      <th>Test Case</th>\n      <th>\n        Status\n      </th>\n      <th>\n        Verdict\n      </th>\n      <th>Duration</th>\n      <th>Pass rate</th>\n      <th>Number of crashes</th>\n    </tr>\n  </thead>\n      <tbody style=border-top:0px ng-repeat="testGroup in testGroups.results track by $index">\n        <tr>\n          <td></td>\n          <td ng-click=switchShowTestGroup(testGroup)>\n            <span class="glyphicon glyphicon-plus-sign" ng-show=!testGroup.show></span>\n            <span class="glyphicon glyphicon-minus-sign" ng-show=testGroup.show></span>\n            {{testGroup.testCase}} ({{testGroup.count}})\n          </td>\n          <td><cr-passrate input=testGroup.executionRate*100></cr-passrate></td>\n          <td>&nbsp;</td>\n          <td>{{testGroup.duration | duration}}</td>\n          <td><cr-passrate input=testGroup.passRate*100></cr-passrate></td>\n          <td>{{testGroup.crashes || 0}}</td>\n        </tr>\n        <tr ng-repeat="testCase in testGroup.tests track by $index" ng-if=testGroup.show>\n          <td class="ng-binding ng-scope">{{testGroup.fromIndex+$index+testGroup.paging.offset}}</td>\n          <td class="cr-test-case ng-scope"><a class="cr-test-case-link ng-binding" ui-sref="test.detail({testId: testCase.id})">{{testCase.testCase}}</a></td>\n          <td><cr-status input=testCase.status></cr-status></td>\n          <td><cr-verdict input=testCase.verdict></cr-verdict></td>\n          <td>{{testCase.duration | duration}}</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr ng-if=testGroup.show><td colspan=7><pagination-bar ng-if=testGroup.paging.enable class=pull-right limit=testGroup.paging.limit total=testGroup.paging.totalCount ng-model=testGroup.paging.offset ng-change=testGroup.changePage></pagination-bar>\n          </td></tr>\n      </tbody>\n</table>\n<pagination-bar ng-if=paging.enable class=pull-right limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>'),a.put("app/campaigns/campaign.tests.html",'<div>\n  <button type=button class="btn btn-primary btn-xs pull-right intel-btn-reset-filter" ng-click=openAddTestModal()><span class="glyphicon glyphicon-edit"></span>Add test\n  </button>\n  <button type=button class="btn btn-danger btn-xs pull-right intel-btn-reset-filter" ng-disabled=!testSet.selection.length ng-click=deleteTestCases()><span class="glyphicon glyphicon-remove"></span>Delete test cases\n  </button>\n  <button class="btn btn-default btn-xs pull-right" ng-disabled=!getDifferenceWithMemen().length ng-click=saveEdit()>\n    <span class="glyphicon glyphicon-save"></span>\n    Save Change\n  </button>\n  <button ng-show=isActiveFilter type=button class="btn btn-danger btn-xs pull-right intel-btn-reset-filter" ng-click=resetFilters()><span class="glyphicon glyphicon-filter"></span>Reset filters</button>\n  <div class=clearfix></div>\n</div>\n<div ui-grid=gridOptions ui-grid-selection ui-grid-edit ui-grid-edit-row ui-grid-auto-resize ui-grid-pagination auto-fit-rows ui-grid-move-columns ui-grid-resize-columns ui-grid-persist-state ui-grid-choose-columns ui-grid-filters-ext class=ui-grid-intel external-scopes=cellScope></div>\n<div class=depth-toggle><input type=checkbox ng-model=depthToggled ng-change="toggleDepth()"><span ng-click="depthToggled = !depthToggled; toggleDepth()"> Hide iterations</span></div>\n<pagination-controls api=gridApi size=5></pagination-controls>\n'),a.put("app/campaigns/campaigns.html",'<div class="container-fluid cr-page">\n  <div class=page-header>\n    <div class=pull-right>\n      <team-filter team=team namespace=campaigns></team-filter>\n    </div>\n    <h1>Campaign results</h1>\n  </div>\n  <section class=row>\n    <div class=col-md-12 ng-controller=CampaignsGridCtrl>\n      <span title="Choose at least 2 Campaigns to compare">\n        <button class="btn btn-primary btn-xs" ng-disabled="selection.length < 2" ng-click=openCompare()>\n         <span class="glyphicon glyphicon-duplicate"></span> Compare\n        </button>\n      </span>\n      <a type=button class="btn btn-primary btn-xs pull-right intel-btn-reset-filter" ng-click="exportData(\'campaigns\')" ng-href={{exportCsvUrl}}><span class="glyphicon glyphicon-download-alt"></span> Export as CSV\n      </a>\n      <button ng-show=isActiveFilter type=button class="btn btn-primary btn-xs pull-right intel-btn-reset-filter" ng-click=shareGridUrl()><span class="glyphicon glyphicon-share"></span> Share filters\n      </button>\n      <button ng-show=isActiveFilter type=button class="btn btn-danger btn-xs pull-right intel-btn-reset-filter" ng-click=resetFilters()><span class="glyphicon glyphicon-filter"></span>Reset filters\n      </button>\n      <button href="" class="btn btn-default btn-xs pull-right" ng-click=loadGridPage()>\n        <span class="glyphicon glyphicon-refresh"></span> \n        Reload <small ng-if=newResultCount>(+{{newResultCount}} new)</small>\n      </button>\n      <div class=clearfix></div>\n      <div ui-grid=gridOptions ui-grid-pagination class=ui-grid-intel ui-grid-move-columns ui-grid-resize-columns auto-fit-rows=500 ui-grid-selection ui-grid-choose-columns ui-grid-filters-ext external-scopes=cellScope ui-grid-persist-state ui-grid-data-export></div>\n      <pagination-controls api=gridApi size=5></pagination-controls>\n    </div>\n  </section>\n</div>'),a.put("app/campaigns/mtbf-new-modal.html",'<div class=modal-header>\n  <h3 ng-if=!certify class=modal-title>Remove the campaign certification</h3>\n  <h3 ng-if=certify class=modal-title>Certify the campaign</h3>\n</div>\n<div class="modal-header cr-catch-primary" ng-if="canCertify && certify">\n  <div class=row>\n    <div class=col-md-offset-4>\n      <indicator name="\'Certified by\'" value="subject.name + \' \' + subject.lastname" icon-class="glyphicon glyphicon-certificate"></indicator>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <div ng-if="canCertify && certify">\n    <p>\n      <strong>\n      Once you confirm this message this campaign will be certified.<br>\n      This action will prevent any further modification.\n      </strong>\n    </p>\n    <p>\n      For security purpose your User Name will be saved.\n    </p>\n  </div>\n  <div ng-if="canDecertify && !certify">\n    <p>\n      <strong>\n      Once you confirm this message this campaign will be decertified. <br>\n      For security purpose your User Name will be saved.\n      </strong>\n    </p>\n  </div>\n  <div ng-if="!canCertify && certify">\n    <p>\n      In order to certify a Campaign you must have the correct rights.\n      Please <a href={{accessRequestUrls.mtbfReviewer}} target=_blank>request for these rights</a>.\n    </p>\n  </div>\n  <div ng-if="!canDecertify && !certify">\n    <p>\n      In order to decertify a Campaign you must have the correct rights.\n      Please <a href={{accessRequestUrls.mtbfReviewer}} target=_blank>request for these rights</a>.\n    </p>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=confirm() ng-if="canCertify && certify">Certify</button>\n  <button class="btn btn-primary" ng-click=confirm() ng-if="canDecertify && !certify">Decertify</button>\n\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/campaigns/pnp-results.html",'<table class=table>\n  <tr>\n    <th rowspan=2>#</th>\n    <th rowspan=2 colspan=2>Test case</th>\n    <th rowspan=2>Verdict</th>\n    <th rowspan=2>Average</th>\n    <th rowspan=2>Failure</th>\n    <th colspan=4>Residency</th>\n  </tr>\n  <tr>\n    <th>Mode</th>\n    <th>Residency</th>\n    <th>Target (Distance)</th>\n    <th>Failure</th>\n  </tr>\n\n  <tr ng-repeat="t in tests.data | orderBy:\'index\'">\n    <td>{{t.index}}</td>\n    <td><a title="Open test detail" href=#/tests/{{t.id}}/detail>{{t.testCase}}</a></td>\n    <td class=cr-table-button-cell><cr-display-object-modal object=t options="testModalOptions"></td>\n    <td><cr-status input="t.result.pnp.verdict"></td>\n    <td>{{t.result.pnp.PwrRail.data[t.result.pnp.verdict_rail].average}} {{t.result.pnp.PwrRail.unit}}</td>\n    <td><span ng-if=t.result.pnp.PwrRail.data[t.result.pnp.verdict_rail].failure>{{t.result.pnp.PwrRail.data[t.result.pnp.verdict_rail].failure}} {{t.result.pnp.PwrRail.unit}}</span></td>\n    <td>{{t.result.pnp.residency_mode}}</td>\n    <td><span ng-if=t.result.pnp.residency_mode>{{t.result.pnp.residencies.data[t.result.pnp.residency_mode].residency}} {{t.result.pnp.residencies.unit.residency}}</span></td>\n    <td><span ng-if=t.result.pnp.residencies.data[t.result.pnp.residency_mode].target>{{t.result.pnp.residencies.data[t.result.pnp.residency_mode].target}} {{t.result.pnp.residencies.unit.residency}}</span></td>\n    <td><span ng-if=t.result.pnp.residencies.data[t.result.pnp.residency_mode].failure>{{t.result.pnp.residencies.data[t.result.pnp.residency_mode].failure}} {{t.result.pnp.residencies.unit.residency}}</span></td>\n  </tr>\n</table>'),a.put("app/charts/charts.view.html",'<div ng-if="service.charts.length == 0">\n    No chart\n</div>\n<div class=row ng-if=service.charts.length>\n    <div class=col-md-4 ng-repeat="chart in service.charts track by $index">\n        <highchart id=testsuite-chart-{{$index}} config=chart.options></highchart>\n    </div>\n</div>'),a.put("app/comments/comments.view.html",'<div class=cr-comments>\n  <div ng-if="service.comments.length === 0">\n  No comment\n  </div>\n  <ul class=media-list ng-if=service.comments.length>\n    <li ng-repeat="comment in service.comments" class=media>\n\n\n      <div class=pull-left>\n        <a href=#><user-photo size="\'xs\'" wwid=comment.author.wwid></user-photo></a>\n      </div>\n      <div class=media-body>\n        <strong>\n          <span>{{comment.author.firstname}} {{comment.author.lastname}}</span>\n          <span ng-if=comment.context.jiraKey>\n            <span class="label label-info">\n              <a ng-href={{comment.context.commentUrl}} target=_blank style="text-decoration: none">{{comment.context.jiraKey}}</a>\n            </span>\n            <span class="glyphicon glyphicon-remove" ng-if=canEdit(comment) ng-click=deleteComment(comment) style=cursor:pointer tooltip="Remove JIRA comment"></span>\n          </span>\n\n          <span class="glyphicon glyphicon-pencil" ng-if=canEdit(comment) ng-click=editComment(comment) style=cursor:pointer tooltip=Edit></span>\n          \n        </strong>\n        <small class=text-muted am-time-ago=comment.date></small>\n        <small class=text-muted ng-if="comment.lastModified !== comment.date"> edited </small>\n        <small class=text-muted ng-if="comment.lastModified !== comment.date" am-time-ago=comment.lastModified></small>\n        <span ng-if=comment.context.testId class=text-muted> on test \n          <strong>\n            <a ui-sref=test.detail({testId:comment.context.testId})>{{comment.context.testCase}}</a>\n          </strong>\n        </span>\n        <div>\n          <markdown ng-if=!comment.edit markdown-model=comment.text></markdown>\n          <comment-editor ng-if=comment.edit model=comment.text placeholder="Leave a comment..." rows=3></comment-editor>\n          <button ng-if=comment.edit class="btn btn-primary" ng-click=updateComment(comment); ng-disabled="comment === undefined || comment.trim() === \'\'">Update</button>\n          <button ng-if=comment.edit class="btn btn-primary" ng-click=cancelEditComment(comment)>Cancel</button>\n        <div>\n      </div>\n\n      \n\n    </div></div></li>\n  </ul>\n</div>\n<hr>\n<comment-editor model=newComment placeholder="Leave a comment..." rows=10></comment-editor>\n<button class="btn btn-primary" ng-click=addComment() ng-disabled="newComment === undefined || newComment.trim() === \'\'">Add</button>'),a.put("app/cts/cts-comparison-create.modal.html",'<div class=modal-header>\n  <h3 class=modal-title>CTS Comparison Report</h3>\n</div>\n<div class=modal-body>\n  <form>\n    <div class=form-group>\n      <label for=exampleInputEmail1>Report Name</label>\n      <input class=form-control id=exampleInputEmail1 placeholder=Name ng-model=name>\n    </div>\n  </form>\n  <div class="panel panel-default panel-secondary">\n    <div class=panel-heading>Reference</div>\n    <div class=panel-body>\n      <campaign-summary campaign=reference></campaign-summary>\n    </div>\n  </div>\n  <div class="panel panel-default panel-secondary">\n    <div class=panel-heading>Compared</div>\n    <div class=panel-body>\n      <campaign-summary campaign=compared></campaign-summary>\n    </div>\n  </div>\n</div>\n\n\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=save() ng-disabled=!name>Save</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/cts/cts-comparison-report.html",'<div class=panel>\n  <div class=panel-heading>\n    <h2>CTS Report<small> {{report.name}}</small>\n      <small>\n        <span class="label label-warning" ng-if=!report.done>In Progress</span>\n        <span class="label label-danger" ng-if=report.error tooltip={{report.message|truncate:100}}>Error</span>\n      </small>\n      <dic class="pull-right btn-group">\n        <button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>\n          Actions <span class=caret></span>\n        </button>\n        <ul class=dropdown-menu>\n          <li><a href="" ng-click=refreshReport()><span class="glyphicon glyphicon-refresh"></span> Refresh Report</a></li>\n          <li role=separator class=divider></li>\n          <li><a href="" ng-click=deleteReport()><span class="glyphicon glyphicon-remove"></span> Delete Report</a></li>\n        </ul>\n      </dic></h2></div>\n    \n  </div>\n  <div class=panel-body>\n    <div class=row>\n      <div class=col-md-12>\n        <cts-comparison-stat-chart class=pull-right stat=report.stat.total size=180 ng-if="report.done && !report.error"></cts-comparison-stat-chart>\n\n        <div class=cr-indicator>\n          <span class=text-muted>\n            <span class="glyphicon glyphicon-calendar"></span> <small>created at</small> {{report.creation|date:\'medium\'}}\n            <span class=intelicon-user-person-solid></span>\n            <span> <small>by</small> <strong>{{report._security.owner.firstname}} {{report._security.owner.lastname}}</strong></span>\n          </span>\n        </div>\n        <br>\n        <div class=cr-indicator>\n          <span class=text-muted>Reference</span>\n          <div>\n            <strong><a ui-sref="campaign.detail.cts({campaignId: report.reference.id})" target=_blank>{{report.reference.name}}</a></strong> \n            <span class="label label-info">{{report.reference.build.buildId}}</span>\n          </div>\n        </div>\n\n        <div class=cr-indicator>\n          <span class=text-muted>Compared</span>\n          <div>\n            <strong><a ui-sref="campaign.detail.cts({campaignId: report.compared.id})" target=_blank>{{report.compared.name}}</a></strong>\n            <span class="label label-info">{{report.compared.build.buildId}}</span>\n          </div>\n        </div>\n\n        <div class=cr-indicator>\n          <span class=text-muted>ABI</span>\n          <div>\n            <span ng-repeat="abi in report.abis"><span class="label label-default">{{abi}}</span> </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=row>\n      <div class=col-md-12>\n        <h3>Details</h3>\n        <loading-indicator ng-if=!report.done></loading-indicator>\n        <table class="table cts-table" ng-if="report.done && !report.error">\n          <tr>\n            <th rowspan=2>Modules</th>\n            <th colspan={{report.abis.length}}>Regression</th>\n            <th colspan={{report.abis.length}}>Improvement</th>\n            <th rowspan=2>Removed</th>\n            <th rowspan=2>New Cases</th>\n          </tr>\n          <tr>\n            <th ng-repeat="abi in report.abis">{{abi}}</th>\n            <th ng-repeat="abi in report.abis">{{abi}}</th>\n          </tr>\n          <tr ng-repeat="(name, stat) in report.stat.modules">\n            <td>{{name}}</td>\n            <td ng-repeat="abi in report.abis" class=cts-table-cell count=stat.regression[abi] type=regression click="openTests(\'Regression Tests: \' + name + \' - \' + abi, {module: name, type: \'regression\', abi: abi})"></td>\n            <td ng-repeat="abi in report.abis" class=cts-table-cell count=stat.improvement[abi] type=improvement click="openTests(\'Improvement Tests: \' + name + \' - \' + abi, {module: name, type: \'improvement\', abi: abi})"></td>\n\n            <td class=cts-table-cell count=stat.remove.total type=remove click="openTests(\'Removed Tests: \' + name, {module: name, type: \'remove\'})"></td>\n            <td class=cts-table-cell count=stat.new.total type=new click="openTests(\'New Tests: \' + name, {module: name, type: \'new\'})"></td>\n          </tr>\n          <tr>\n            <td><strong>Total</strong></td>\n            <td ng-repeat="abi in report.abis" class=cts-table-cell count=report.stat.total.regression[abi] type=regression click="openTests(\'Regression Tests: \' + abi, {type: \'regression\', abi: abi})"></td>\n            <td ng-repeat="abi in report.abis" class=cts-table-cell count=report.stat.total.improvement[abi] type=improvement click="openTests(\'Improvement Tests: \' + abi, {type: \'improvement\', abi: abi})"></td>\n            <td class=cts-table-cell click="openTests(\'Removed Tests\', {type: \'remove\'})" count=report.stat.total.remove.total type=remove></td>\n            <td class=cts-table-cell click="openTests(\'New Tests\', {type: \'new\'})" count=report.stat.total.new.total type=new></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n'),a.put("app/cts/cts-comparison-section.html",'<div class="panel panel-default">\n  <div class=panel-heading>\n    <h3 class=panel-title>\n      <a href="" type=button data-toggle=collapse data-target=#compareReportDetails aria-expanded=false aria-controls=compareReportDetails>\n        <span class="glyphicon glyphicon-menu-right"></span> Reports\n        <small class=text-muted> ({{reports.length}})</small>\n      </a>\n      <div class="pull-right btn-group btn-group-xs" role=group>\n        <div class=btn-group>\n          <button class="btn btn-default btn-xs dropdown-toggle" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled="reports.length < 1">\n            {{selected ? selected.name: \'Select a report\'}}\n            <span class=caret></span>\n          </button>\n\n          <ul class=dropdown-menu aria-labelledby=dropdownMenu3>\n            <li ng-repeat="report in reports">\n              <a class=list-group-item ng-click=selectReport(report) href="">\n                <span class="pull-right glyphicon glyphicon-ok" ng-if=report.selected></span>\n                <h4 class=list-group-item-heading>{{report.name}}\n                  <small>\n                    <span class="label label-warning" ng-if=!report.done>In Progress</span>\n                    <span class="label label-danger" ng-if=report.error>Error</span>\n                  </small>\n                </h4>\n                <small class="list-group-item-text text-muted">\n                <strong>{{report.compared.name}}</strong> ({{report.compared.build.buildId}})\n                   - {{report.lastModified|amCalendar}}\n                </small>\n              </a>\n            </li>\n          </ul>\n        </div>\n        <button class="btn btn-info" ng-click=create()>Create</button>\n      </div>\n    </h3>\n  </div>\n  <div class="collapse in" id=compareReportDetails>\n    <cts-comparison-report report=selected ng-if=selected></cts-comparison-report>\n  </div>\n</div>'),a.put("app/cts/cts-result.view.html",'<div>\n  <div class=row>\n    <div class="col-md-4 col-md-offset-4">\n      <table class="table table-bordered cts-table">\n        <tr><th colspan=4>Summary</th></tr>\n        <tr><td colspan=4>\n          <dl class="cr-props-simple dl-horizontal">\n            <dt>Test Suite</dt><dd>{{cts.suiteName}} ({{cts.suiteVersion}})</dd>\n            <dt>Test Plan</dt><dd>{{cts.suitePlan}}</dd>\n            <dt>Command</dt><dd>{{cts.commandLine}}</dd>\n          </dl>\n        </td></tr>\n        <tr><th colspan=2>Module Attempted</th><th colspan=2>Case Attempted</th></tr>\n        <tr>\n          <td colspan=2>{{cts.summary.modulesDone}}/{{cts.summary.modulesTotal}}</td>\n          <td colspan=2>{{cts.summary.pass + cts.summary.failed}}</td>\n        </tr>\n        <tr>\n          <th>Passed</th>\n          <th colspan=2>Failed</th>\n          <th>Not Executed</th>\n        </tr>\n        <tr>\n          <td>{{cts.summary.pass}}</td>\n          <td colspan=2>{{cts.summary.failed}}</td>\n          <td>{{cts.summary.notExecuted? cts.summary.notExecuted: 0}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n  <div class=row>\n    <div class="col-md-6 col-md-offset-3">\n      <div class="panel panel-default">\n        <div class=panel-heading>\n          <h3 class=panel-title>\n            <a href="" type=button data-toggle=collapse data-target=#moduleDetails aria-expanded=false aria-controls=moduleDetails>\n              <span class="glyphicon glyphicon-menu-right"></span> Module Details\n              <small class=text-muted> ({{modules.length}}/{{cts.summary.modulesTotal}})</small>\n            </a>\n            <div class=pull-right>\n              <a href="" ng-click="onlyFailed = !onlyFailed" ng-class="{\'text-muted\': !onlyFailed}" tooltip="Show only failed or notExecuted module">\n                <span class="glyphicon glyphicon-filter"></span>\n              </a>\n            </div>\n          </h3>\n        </div>\n        <div class=collapse id=moduleDetails>\n          <table class="table cts-table" ts-wrapper>\n            <tr>\n              <th ts-criteria=abi>ABI</th>\n              <th ts-criteria=name>Module</th>\n              <th ts-criteria=pass>Pass</th>\n              <th ts-criteria=failed>Failed</th>\n              <th ts-criteria=notExecuted>Not Executed</th>\n              <th ts-criteria=done>Done</th>\n            </tr>\n            <tr ng-repeat="m in modules" ts-repeat ts-hide-no-data>\n              <td><span class=text-muted>{{m.abi}}</span></td>\n              <td>{{m.name}}</td>\n              <td><strong ng-class="{\'text-success\': m.pass > 0}">{{m.pass}}</strong></td>\n              <td><strong ng-class="{\'text-danger\': m.failed > 0}">{{m.failed}}</strong></td>\n              <td><strong ng-class="{\'text-warning\': m.notExecuted > 0}">{{m.notExecuted}}</strong></td>\n              <td>{{m.done}}</td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=row>\n    <div class="col-md-6 col-md-offset-3">\n      <cts-comparison-section campaign=campaign></cts-comparison-section>\n    </div>\n  </div>\n</div>'),a.put("app/cts/cts-test-list.html",'<table class="table table-condensed table-striped">\n  <tr>\n    <th>Test Case</th>\n    <th>ABI</th>\n    <th>Result</th>\n    <th>Message</th>\n  </tr>\n\n  <tr ng-repeat-start="(module, tests) in groupByModule" class=cr-table-section>\n    <td colspan=20>\n      Module:\n      <strong>\n        {{module}}\n        <small class=text-muted>({{countByModule[module]}} tests)</small>\n      </strong>\n    </td>\n  </tr>\n  <tr ng-repeat-end ng-repeat="test in tests">\n    <td title="{{test.name.length > 80 ? test.name : \'\'}}">{{test.name|cts:80}}</td>\n    <td>{{test.abi}}</td>\n    <td><strong ng-class="{\'text-success\': test.result === \'pass\', \'text-danger\': test.result === \'fail\'}">{{test.result}}</strong></td>\n    <td>\n      <span class=text-muted tooltip={{test.message}}>{{test.message|truncate:35}}</span>\n      <button ng-if=test.message class="btn btn-default btn-xs" tooltip="Click for details" popover-trigger=click popover-placement=bottom popover-popup-close-delay=1000 popover-template="\'app/cts/cts-test-trace.html\'"><small><span class="glyphicon glyphicon-zoom-in"></span></small></button>\n    </td>\n  </tr>\n</table>'),a.put("app/cts/cts-test-trace.html","<div class=cr-indicator>\n  <span class=text-muted>Message</span>\n  <div><span><small>{{test.message}}</small></span></div>\n</div>\n\n<div class=cr-indicator>\n  <span class=text-muted>Stack Trace</span>\n  <div><pre>{{test.trace}}</pre></div>\n</div>"),a.put("app/domains/domains.html","<div class=container-fluid>\n    <div class=page-header>\n        <h1>Domains management</h1>\n    </div>\n    <ui-view>\n</div>"),a.put("app/error/404.html","<div class=text-center><h1>Page not found</h1></div>"),a.put("app/events/event-mtbf-list-modal.html",'<div class=modal-header>\n  <h3 class=modal-title><strong>MTBF Failure Events</strong></h3>\n</div>\n<div class=modal-body>\n  <p>The following events are considered to be MTBF failures.</p>\n  <div class=row>\n    <div class=col-md-6>\n      <ul class=list-unstyled>\n        <li ng-repeat="type in list" ng-if="$index < (list.length / 2)">{{type.name}} <span class=text-muted>{{type.description}}</span></li>\n      </ul>\n    </div>\n    <div class=col-md-6>\n     <ul class=list-unstyled>\n        <li ng-repeat="type in list" ng-if="$index >= (list.length / 2)">{{type.name}} <span class=text-muted>{{type.description}}</span></li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok()>Ok</button>\n</div>'),a.put("app/events/event-new-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Create a new <strong>\'Crashtool\' event</strong> on\n  <a title="View device history on Crashtool" ng-href="{{crashtoolConfig.web.DEVICE_URL.replace(\':deviceId\', service.resource.device.deviceId)}}" target=_blank>{{service.resource.device.deviceId || \'Unknown deviceId\'}}</a>\n  </h3>\n</div>\n\n<div class=modal-body>\n  <div class=row>\n    <form class="form-horizontal col-md-12" name=forms.eventForm>\n     <div class=form-group show-errors="{ showSuccess: true }">\n        <label for=inputDate class=col-md-12>Date</label>\n        <div class=col-md-3>\n          <div class=input-group>\n          <input name=inputDate id=inputDate class=form-control datepicker-popup is-open=status.opened ng-model=timestamp.date format=YYYY-MM-dd placeholder=YYYY-MM-DD show-button-bar=false ng-required=true close-text=Close>\n          <span class=input-group-btn>\n            <button type=button class="btn btn-default" ng-click=openDatePicker($event)>\n              <i class="glyphicon glyphicon-calendar"></i>\n            </button>\n          </span>\n        </div>\n        </div>\n        <p class="col-md-12 help-block" ng-if=forms.eventForm.inputDate.$error>\'date\' is required in the format YYYY-MM-DD</p>\n      </div>\n      <div class=form-group show-errors="{ showSuccess: true }">\n          <label for=inputTime class=col-md-12>Time</label>\n          <div class=col-md-3><input class=form-control name=inputTime id=inputTime placeholder=HH:mm:ss ng-model=timestamp.time ng-required=true ui-validate="{validTimeformat : \'validateTimeFormat($value)\'}"></div>\n          <p class="col-md-12 help-block" ng-if=forms.eventForm.inputTime.$error.required>\'time\' is required</p>\n          <p class="col-md-12 help-block" ng-if=forms.eventForm.inputTime.$error.validTimeformat>\'time\' is not in the right format HH:mm:ss</p>\n      </div>\n\n      <div class=form-group>\n          <label for=inputEvent class=col-md-12>Event</label>\n          <div class=col-md-3><input class=form-control id=inputEvent ng-disabled=true ng-model=newEvent.event></div>\n      </div>\n\n      <div class=form-group>\n          <label for=inputEventType class=col-md-12>Event type</label>\n          <div class="dropdown col-md-6">\n            <button class="btn btn-default dropdown-toggle" type=button id=inputEventType data-toggle=dropdown aria-haspopup=true aria-expanded=true>\n                {{selectedType}}\n                <span class=caret></span>\n            </button>\n            <ul class=dropdown-menu aria-labelledby=inputEventType>\n                <li ng-repeat="type in eventTypes"><a href="" ng-click=selectType(type)>{{type.display}}</a></li>\n            </ul>\n          </div>\n      </div>\n      <div class=form-group show-errors="{ showSuccess: true }">\n          <label for=inputData3 class=col-md-12>Data3 (Description)</label>\n          <div class=col-md-12><input class=form-control name=inputData3 id=inputData3 placeholder="Describe the issue" ng-model=newEvent.data3 ng-required=true></div>\n          <p class="col-md-12 help-block" ng-if=forms.eventForm.inputData3.$error.required>\'data3\' is required</p>\n      </div>\n      <div class=form-group>\n          <label for=inputData5 class=col-md-12>Data5 (Reporter)</label>\n          <div class=col-md-6><input class=form-control id=inputData5 ng-disabled=true ng-model=newEvent.data5></div>\n      </div>\n       <div>\n        <label> Select Attachment(s) to include </label>\n        <div class=form-group ng-if="service.resource.parentId != null">\n          <span class=col-md-12><input type=checkbox ng-model=includeParentAttachments ng-change=change()>  Include Parent Attachments</span>\n        </div>\n        <div class=list-group>\n          <a href="" class=list-group-item ng-repeat="attachment in attachments" ng-class="{ \'active\': attachment.selected, disabled: !attachment.retention.available}" ng-click=select(attachment) popover-template="\'filedetailsTemplate.html\'" popover-placement=right popover-append-to-body=true popover-trigger=mouseenter popover-title="{{attachment.displayName || attachment.originalName}}" popover-popup-delay=500>\n            \n            <span ng-if=attachment.retention.available>\n              {{(attachment.displayName || attachment.originalName) | truncate :25}}\n            </span>\n            <span class="label label-warning" ng-if="attachment.retention.available && attachment.retention.daysBeforeDeletion < 7">{{ \'Deletion in \' + attachment.retention.daysBeforeDeletion + \' days\'}}</span>\n\n            \n            <span ng-if=!attachment.retention.available class=text-muted>\n              <span>{{(attachment.displayName || attachment.originalName) | truncate : 25}}</span> \n              <span class="label label-warning">DELETED</span>\n            </span>\n            <span class=badge>{{attachment.displayLength}}</span>\n          </a>\n        </div>\n      </div>\n    </form>\n    </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=createEvent()>Create</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/events/events.view.html",'<div class=row>\n  <div class=col-md-10>\n    <form ng-submit=loadEvents(true)>\n      <div class=input-group>\n        <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n        <input class=form-control placeholder="event, event Type" ng-model=eventsService.quickFilter ng-enauto-focus>\n      </div>\n    </form>\n  </div>\n  <div class="col-md-1 text-center" ng-if="eventGroupingProgress < 1">\n    Grouping Events\n    <execution-rate-bar value=eventGroupingProgress></execution-rate-bar>\n  </div>\n  <div class="col-md-1 depth-toggle" ng-if="eventGroupingProgress == 1">\n    <input type=checkbox ng-model=service.displayGroups autocomplete=off>\n    <span ng-click="service.displayGroups=!service.displayGroups;">Display groups</span>\n  </div>\n  <div class="col-md-1 depth-toggle" ng-if=!service.displayGroups>\n    <input type=checkbox ng-click=loadEvents(true) ng-model=service.onlyCritical autocomplete=off>\n    <span ng-click="service.onlyCritical=!service.onlyCritical; loadEvents(true)">Only Critical</span>\n  </div>\n</div>\n\n<div ng-if="service.events.length === 0" class=cr-section>\n  <p>No event.</p>\n</div>\n<div ng-if="service.events.length > 0 && !service.displayGroups">\n  <table class="table cr-table-fixed table-hover">\n    <tr>\n      <th width=8%>Event Time</th>\n      <th width=10% ng-if=service.displayTest>Test</th>\n      <th width=8%>Event</th>\n      <th width=8%>Type</th>\n      <th width=5%>Is Mtbf Failure <a href ng-click=openMtbfListModal()><span class="glyphicon glyphicon-question-sign"></span></a></th>\n      <th width=8%>Runtime</th>\n      <th width=11%>Data0</th>\n      <th width=11%>Data1</th>\n      <th width=11%>Data2</th>\n      <th width=11%>Data3</th>\n      <th width=7%>Bugs</th>\n      <th width=1%></th>\n    </tr>\n    <tr ng-repeat="event in service.events" mouse-over-leave hover=hover>\n      <td>{{event.date | crdate}}</td>\n      <td ng-if=service.displayTest>\n        <a ng-if="event.testId !== undefined" ng-href=#/tests/{{event.testId}}/detail target=_blank>{{event.testCase}}</a>\n      </td>\n      <td>\n        <img class=eventTypeImg title="event type" ng-if=event.event ng-src="{{crashtoolConfig.web.IMG_URL.replace(\':img\',  event.event + \'.png\')}}"> {{event.event}} <a ng-href="{{crashtoolConfig.web.EVENT_URL.replace(\':eventId\', event.eventId)}}" target=_blank> ({{event.eventId}})</a>\n      </td>\n      <td>{{event.type}}</td>\n      <td><span ng-if=event.mtbfFailure class="glyphicon glyphicon-warning-sign" style=font-size:1.5em;color:red></span></td>\n      <td><event-runtime crashevent=event corestart=getCoreStart(event) teststart=getTestStart(event)></event-runtime></td>\n\n      <td class=cr-event-break>\n        <div ng-if="event.data0.length > 0" tooltip={{event.data0}} tooltip-placement=bottom>{{event.data0 |truncate:25}}</div>\n        <div ng-if="event.data0.length == 0">(empty)</div>\n      </td>\n\n      <td class=cr-event-break>\n        <div ng-if="event.data1.length > 0" tooltip={{event.data1}} tooltip-placement=bottom>{{event.data1 |truncate:25}}</div>\n        <div ng-if="event.data1.length == 0">(empty)</div>\n      </td>\n\n      <td class=cr-event-break>\n        <div tooltip={{event.data2}} tooltip-placement=bottom>\n\n          <a ng-if="crashData2Format(event) == \'notEmptyLink\'" ng-href={{crashTypeLink(event)}} target=_blank>{{event.data2 |truncate:25}}</a>\n          <div ng-if="crashData2Format(event) == \'notEmpty\'">{{event.data2 |truncate:25}}</div>\n\n          <a ng-if="crashData2Format(event) == \'emptyLink\'" ng-href={{crashTypeLink(event)}} target=_blank>(empty)</a>\n          <div ng-if="crashData2Format(event) == \'empty\'">(empty)</div>\n\n        </div>\n      </td>\n\n      <td class=cr-event-break>\n        <div ng-if="event.data3.length > 0" tooltip={{event.data3}} tooltip-placement=bottom>{{event.data3 |truncate:25}}</div>\n        <div ng-if="event.data3.length == 0">(empty)</div>\n      </td>\n      <td>\n        <span ng-repeat="bug in event.bugs">\n          <a href="{{crashtoolConfig.web.JIRA_URL.replace(\':bugId\', bug.bugId)}}" target=_blank> {{bug.bugId}} </a>\n          <span class=label ng-class=labelType(bug.status)> {{bug.status}}</span>\n          <span ng-if=!$last>, </span>\n        </span>\n      </td>\n      <td ng-show=hover>\n      \t<span class="glyphicon glyphicon-remove" title="delete event" style="color: red" ng-click=deleteEvent(event)></span>\n      </td>\n    </tr>\n  </table>\n  <hr ng-if=eventHasMore>\n  <button ng-if=eventHasMore class="btn btn-primary" ng-click=getMoreEvent()><span class="glyphicon glyphicon-plus"></span>&nbsp;View More</button>\n  <hr>\n</div>\n\n<div ng-if=service.displayGroups>\n  <table class="table cr-table-fixed table-hover">\n    <tr>\n      <th width=8%>Event</th>\n      <th width=8%>Type</th>\n      <th width=11%>Data0</th>\n      <th width=7%>Data1</th>\n      <th width=11%>Data2</th>\n      <th width=7%>Bugs</th>\n      <th width=11%>Number of Events</th>\n    </tr>\n    <tr ng-repeat="group in service.groups">\n      <td>\n        <img class=eventTypeImg title="event type" ng-if=group.first.event ng-src="{{crashtoolConfig.web.IMG_URL.replace(\':img\',  group.first.event + \'.png\')}}"> {{group.first.event}} <a ng-href="{{crashtoolConfig.web.EVENT_URL.replace(\':eventId\', group.first.eventId)}}" target=_blank> ({{group.first.eventId}})</a>\n      </td>\n      <td>{{group.first.type}}</td>\n      <td class=cr-event-break>\n        <div ng-if="group.first.data0.length > 0" tooltip={{group.first.data0}} tooltip-placement=bottom>{{group.first.data0 |truncate:25}}</div>\n        <div ng-if="group.first.data0.length == 0">(empty)</div>\n      </td>\n      <td class=cr-event-break>\n        <div ng-if="group.first.data1.length > 0" tooltip={{group.first.data1}} tooltip-placement=bottom>{{group.first.data1 |truncate:25}}</div>\n        <div ng-if="group.first.data1.length == 0">(empty)</div>\n      </td>\n      <td class=cr-event-break>\n        <div tooltip={{group.first.data2}} tooltip-placement=bottom>\n\n          <a ng-if="crashData2Format(group.first) == \'notEmptyLink\'" ng-href={{crashTypeLink(group.first)}} target=_blank>{{group.first.data2 |truncate:25}}</a>\n          <div ng-if="crashData2Format(group.first) == \'notEmpty\'">{{group.first.data2 |truncate:25}}</div>\n\n          <a ng-if="crashData2Format(group.first) == \'emptyLink\'" ng-href={{crashTypeLink(group.first)}} target=_blank>(empty)</a>\n          <div ng-if="crashData2Format(group.first) == \'empty\'">(empty)</div>\n\n        </div>\n      </td>\n      <td>\n        <span ng-repeat="bug in group.first.bugs">\n          <a href="{{crashtoolConfig.web.JIRA_URL.replace(\':bugId\', bug.bugId)}}" target=_blank> {{bug.bugId}} </a>\n          <span class=label ng-class=labelType(bug.status)> {{bug.status}}</span>\n          <span ng-if=!$last>, </span>\n        </span>\n      </td>\n      <td>{{group.value}}</td>\n    </tr>\n  </table>\n</div>\n\n<button ng-if="!service.displayTest && enableEventCreation && enableEdition" class="btn btn-primary" ng-click=openCreateEventPopup()>Create</button>\n<span ng-if="!service.displayTest && !enableEventCreation">\n  Event creation is not allowed due to <strong>missing deviceId</strong> or <strong>buildID</strong> on the test.\n</span>\n<span ng-if="!service.displayTest && !enableEdition">\n  Event creation is not allowed due to this test being part of a <strong>read only</strong> campaign.\n</span>'),
a.put("app/home/main.html",'<div id=cr-page-home class=cr-page>\n\t<div class="jumbotron cr-page-header">\n\t  <div class=container>\n\t    <div class=row>\n\t      <div class=col-md-5>\n\t\t      <h1>Test Campaign Reporting</h1>\n\t\t      <a href=#campaigns class="btn btn-outline btn-primary btn-lg">See campaigns</a>\n          <a href=#tests class="btn btn-outline btn-primary btn-lg">See test results</a>\n\t\t    </div>\n\t    </div>\n\t  </div>\n\t</div>\n\t<div class=container>\n\t\t<div ng-if=warningTitle class="alert alert-warning media">\n\t\t\t<div class="media-left cr-icon-lg text-warning"><span class="glyphicon glyphicon-alert"></span></div>\n\t\t\t<div class=media-body>\n\t\t\t\t<h4 class=media-heading><strong>{{warningTitle}}</strong></h4>\n\t\t\t\t<p>{{warningContent}}</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<section class=row>\n\t\t\t<div class="col-md-4 cr-showcase">\n\t\t\t<h2 class=text-info><span class="glyphicon glyphicon-cloud"></span></h2>\n\t\t\t<h3 class=text-center>Full REST API</h3>\n\t        <p>Test framework agnostic with an easy to use REST API. <a href=http://wiki.ith.intel.com/x/AZX3G class="btn btn-link" target=_blank>Learn more...</a></p>\n\t\t\t</div>\n\t\t\t<div class="col-md-4 cr-showcase">\n\t\t\t<h2 class=text-info><span class="glyphicon glyphicon-dashboard"></span></h2>\n\t\t\t\t<h3 class=text-center>Real time data</h3>\n        <p class="lead text-center" ng-if=testCount>{{testCount | number}} tests</p>\n        <p>View live running campaigns as well as already finished campaigns and test results.</p>\n\t\t\t</div>\n\t\t\t<div class="col-md-4 cr-showcase">\n\t\t\t<h2 class=text-info><span class="glyphicon glyphicon-th"></span></h2>\n\t\t\t<h3 class=text-center>Dynamic data model</h3>\n\t        <p>Thanks to the combination of Relational and No-SQL database, test and campaign results can embed heterogeneous structured data.</p>\n\t\t\t</div>\n\t\t</section>\n\t</div>\n</div>'),a.put("app/issues/issue-ref-modal.html",'<div class=modal-header>\n  <h3 class=modal-title><strong>Link an existing issue</strong></h3>\n</div>\n\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <form>\n        <div class=form-group ng-class=getIssueClass()>\n          <label for=inputIssue>Issue ID</label>\n          <div class=input-group>\n            <input class=form-control id=inputIssue name=inputIssue placeholder="GMINL-1234 for instance, mutiple item split by semicolon( ; )" ng-model=newIssueReference.issueNumber ng-change=onIssueNumberChange() ng-disabled=searchInProgress auto-focus>\n            <span class=input-group-btn>\n              <button class="btn btn-default" ng-click=checkIssue() ng-disabled=searchInProgress type=button>Verify</button>\n            </span>\n          </div>\n          <p class="col-md-12 help-block" ng-if=newIssueReference.message>{{newIssueReference.message}}</p>\n        </div>\n        <div class=form-group>\n          <input type=checkbox ng-model=newIssueReference.createComment> Create a comment on the issue with test case details\n          <textarea class=form-control rows=2 placeholder="Input JIRA Comment..." ng-model=newIssueReference.issueComment ng-show=newIssueReference.createComment></textarea>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class="row issue-preview" ng-if="newIssueReferences.length > 0">\n    <div ng-repeat="issue in newIssueReferences" class=col-md-12>\n      <issue issue=issue></issue>\n    </div>\n  </div>\n  <div class=row ng-if="historyIssues.length > 0">\n    <div class=col-md-12>\n      <hr>\n      <issue-panel issues=historyIssues on-selected=historyIssueSelected title="History Issues"></issue-panel>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=addIssue() ng-disabled="newIssueReference.createComment && !newIssueReference.issueComment">Add</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/issues/issue.html",'<div class="col-md-12 cr-issue-header">\n    <a href="{{issuesForDisplay.url?issuesForDisplay.url:\'javascript:void(0)\'}}" target=_blank>{{issuesForDisplay.key}}</a>\n    : {{issuesForDisplay.summary}}\n    <button class="btn btn-link" ng-if=deleteIssue ng-click="deleteIssue(\'this issue : \' + issue.key, issue)">(Delete)\n    </button>\n</div>\n<table class="table table-condensed table-striped">\n    <tr ng-repeat="(key, value) in issuesForDisplay.details">\n        <td class=col-md-2>\n            <strong>{{formatIssueFieldLabel(key)}}</strong>\n        </td>\n        <td class=col-md-10>\n            {{formatIssueFieldValue(value)}}\n        </td>\n    </tr>\n</table>'),a.put("app/issues/issues.view.html",'<div class=cr-comments>\n    <ul class=media-list ng-if=service.issues.length>\n        <li ng-repeat="issue in service.issues" class=media>\n            <div class=pull-left>\n                <a href=#>\n                    <user-photo size="\'xs\'" wwid=issue.activity.context.user.wwid></user-photo>\n                </a>\n            </div>\n            <div class=media-body>\n                <strong>{{issue.activity.context.user.firstname}}\n                    <span>{{issue.activity.context.user.lastname}}</span></strong>\n                <small class=text-muted am-time-ago=issue.activity.date></small>\n            </div>\n            <issue issue=issue delete-issue=deleteIssue></issue>\n        </li>\n    </ul>\n    <button type=button class="btn btn-primary" ng-click=openRefIssuePopup()>\n        <span class="icomoon icon-bug"></span> Link Issue\n    </button>\n</div>'),a.put("app/kpi/add-result-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Add a result</h3>\n  <span class=text-muted>A dedicated test rest will be created to store the value.</span>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-12>\n      <indicator name="\'Test case\'" value=form.testCase icon-class="glyphicon glyphicon-file" ng-class="{\'pull-left\': true}"></indicator>\n      <indicator name="\'Performance indicator\'" value=form.piName icon-class="glyphicon glyphicon-dashboard" ng-class="{\'pull-left\': true}"></indicator>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <p ng-if=!benchNames.length class=text-danger>\n        You need to restrict the dashboard to a set of benches before adding manual results. Please go to dashboard settings to add a bench filter.\n      </p>\n      <form name=addResultForm>\n        <fieldset ng-disabled=!benchNames.length>  \n          <div class=form-group ng-class="{\'has-error\': addResultForm.build.$touched && addResultForm.build.$invalid}">\n            <label class=control-label>Build</label>\n            <div ng-if=!editBuild>\n              <build-with-tag build=form.build></build-with-tag>\n              <small>{{form.build.fingerPrint}}</small>\n            </div>\n            <div ng-if=editBuild>\n              <build-select ng-model=form.build external-params=context required name=build choices=builds></build-select>\n              <div class=help-block ng-if="builds.length > 1">\n                <span>Many signatures found for this build, select one.</span>\n              </div>\n            </div>\n          </div>\n          <div class=form-group ng-if="benchNames.length == 1">\n            Results will be added on bench <strong>{{form.benchName}}</strong>\n          </div>\n          <div class=form-group ng-if="benchNames.length > 1">\n            <label>Bench</label>\n            <div class=radio ng-repeat="benchName in benchNames">\n              <label>\n                <input type=radio ng-model=form.benchName name=benchNameInput ng-value=benchName>\n                {{benchName}}\n              </label>\n            </div>\n            <div class=help-block>\n              <span>The bench on which the result has been measured</span>\n            </div>\n          </div>\n          <div class=form-group ng-class="{\'has-error\': addResultForm.value.$touched && addResultForm.value.$invalid}">\n            <label for=valueInput class=control-label>Value</label>\n            <div class=input-group>\n              <input type=number id=valueInput ng-model=form.value class="form-control input-lg" required name="value">\n              <div class=input-group-addon>{{form.piUnit}}</div>\n            </div>\n            <div class=help-block>\n              <span ng-if=addResultForm.value.$error.required>Enter a value</span>\n              <span ng-if=addResultForm.value.$error.number>The value isn\'t a number</span>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=!isFormValid()>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/kpi/build-compare-legend.html",'<div class=modal-header>\n  <h3 class=modal-title><span class="glyphicon glyphicon-question-sign"></span> Legend</h3>\n</div>\n<div class=modal-body>\n  <p>\n    The orientation of the arrow (up/down) indicate the trend orientation of the difference from the reference build value.\n    Other arrow style is defined as follow :\n  </p>\n  <dl class=dl-horizontal>\n    <dt class=text-danger>\n      <span class="icomoon icon-arrow-up-right2"></span>\n      <span class="icomoon icon-arrow-down-right2"></span>\n    </dt>\n    <dd>\n      Minor regression\n    </dd>\n\n    <dt class=text-danger>\n      <span class="icomoon icon-arrow-up2"></span>\n      <span class="icomoon icon-arrow-down2"></span>\n    </dt>\n    <dd>\n      Major regression\n    </dd>\n\n    <dt class=text-success>\n      <span class="icomoon icon-arrow-up-right2"></span>\n      <span class="icomoon icon-arrow-down-right2"></span>\n    </dt>\n    <dd>\n      Minor progression\n    </dd>\n\n    <dt class=text-success>\n      <span class="icomoon icon-arrow-up2"></span>\n      <span class="icomoon icon-arrow-down2"></span>\n    </dt>\n    <dd>\n      Major progression\n    </dd>\n\n    <dt>\n      <span class="icomoon icon-arrow-up2"></span>\n      <span class="icomoon icon-arrow-down2"></span>\n      <span class="icomoon icon-arrow-up-right2"></span>\n      <span class="icomoon icon-arrow-down-right2"></span>\n    </dt>\n    <dd>\n      No target is defined, cannot determine if there is reprogression/progresssion\n    </dd>\n\n    <dt class=text-danger>\n      <span class="glyphicon glyphicon-ban-circle"></span>\n    </dt>\n    <dd>\n      No Go\n    </dd>\n  </dl>\n\n  <table class=table>\n    <tr>\n      <th rowspan=2>Difference with reference</th>\n      <th colspan=2>MEDIAN/MEAN</th>\n      <th colspan=2>LATEST</th>\n    </tr>\n    <tr>\n      <th>HIB</th>\n      <th>LIB</th>\n      <th>HIB</th>\n      <th>LIB</th>\n    </tr>\n    <tr>\n      <td>&gt; threshold</td>\n      <td><span class="icomoon icon-arrow-up2 text-success"></span></td>\n      <td><span class="icomoon icon-arrow-up2 text-danger"></span></td>\n      <td><span class="icomoon icon-arrow-up2 text-success"></span></td>\n      <td><span class="icomoon icon-arrow-up2 text-danger"></span></td>\n    </tr>\n    <tr>\n      <td>&gt; ref var</td>\n      <td><span class="icomoon icon-arrow-up-right2 text-success"></span></td>\n      <td><span class="icomoon icon-arrow-up-right2 text-danger"></span></td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n    </tr>\n    <tr>\n      <td>&gt; 0</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n    </tr>\n    <tr>\n      <td>&lt; 0</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n    </tr>\n    <tr>\n      <td>&lt; - (ref var)</td>\n      <td><span class="icomoon icon-arrow-down-right2 text-danger"></span></td>\n      <td><span class="icomoon icon-arrow-down-right2 text-success"></span></td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n      <td class=cr-pi-compare-legend-stable>Stable</td>\n    </tr>\n    <tr>\n      <td>&lt; - threshold</td>\n      <td><span class="icomoon icon-arrow-down2 text-danger"></span></td>\n      <td><span class="icomoon icon-arrow-down2 text-success"></span></td>\n      <td><span class="icomoon icon-arrow-down2 text-danger"></span></td>\n      <td><span class="icomoon icon-arrow-down2 text-success"></span></td>      \n    </tr>\n  </table>\n  <dl>\n    <dt>threshold</dt>\n    <dd>absolute value computed from regression threshold. Defined as percentage of reference build value</dd>\n    <dt>ref var</dt>\n    <dd>Reference variability, the variability of the reference statistic serie. Will be the <em>Mean Absolute Deviation</em> for MEAN type, or <em>Standard deviation</em> for MEDIAN type</dd>\n  </dl>\n</div>'),a.put("app/kpi/build-compare-picker-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Select build to compare</h3>\n  <span class=text-muted>The selected build will be compared to the reference build.</span>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-6>\n      <p class=lead>{{compareRef.buildId}}</p>\n    </div>\n    <div class="col-md-6 text-right">\n      <div class=cr-pidashboard-compare-vs-circle>VS</div>\n      <p class=lead>{{compareWith.buildId}}</p>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-6>\n      <h4>Reference build</h4>\n      <div class=form-group>\n        <input ng-model=referenceSearch placeholder="Build id, Release tag" class="form-control">\n      </div>\n      <div class="list-group cr-pidashboard-compare-picker-list">\n        <a ng-repeat="build in builds | filter: referenceSearch | orderBy: \'buildId\' track by build.buildId" href="" ng-click=setCompareRef(build) class=list-group-item ng-class="{active:build.buildId === compareRef.buildId}">\n          <strong class=list-group-item-heading>{{build.buildId}}</strong> <release-tag tag=build.tag></release-tag>\n        </a>\n      </div>\n    </div>\n    <div class=col-md-6>\n      <h4>Compare with</h4>\n      <div class=form-group>\n        <input ng-model=compareSearch placeholder="Build id, Release tag" class="form-control">\n      </div>\n      <div class="list-group cr-pidashboard-compare-picker-list">\n        <a ng-repeat="build in builds | filter: compareSearch | orderBy: \'buildId\' track by build.buildId" href="" ng-click=setCompareWith(build) class=list-group-item ng-class="{active:build.buildId === compareWith.buildId}">\n          <strong class=list-group-item-heading>{{build.buildId}}</strong> <release-tag tag=build.tag></release-tag>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=!isSelectionValid()>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/kpi/build-pi-analyze.html",'<form class=cr-section>\n  <small class="text-muted pull-right" ng-if=buildPi.lastModified> Last modification by {{buildPi.user.firstname}} {{buildPi.user.lastname}} <span am-time-ago=buildPi.lastModified></span></small>\n  <div class=form-group>\n    <label for=comment>Mark as <evolution-flag flag=buildPi.evolutionFlag></evolution-flag></label>\n    <div class=radio>\n      <label>\n        <input type=radio ng-model=buildPi.evolutionFlag id=progressionFlag ng-value=evolution.PROGRESSION checked> progression\n      </label>\n    </div>\n    <div class=radio>\n      <label>\n        <input type=radio ng-model=buildPi.evolutionFlag id=regressionFlag ng-value=evolution.REGRESSION> regression\n      </label>\n    </div>\n    <div class=radio>\n      <label>\n        <input type=radio ng-model=buildPi.evolutionFlag id=regressionFlag ng-value=evolution.UNDETERMINED> not marked\n      </label>\n    </div>\n  </div>\n\n  <div class=form-group>\n    <label for=comment>Analyze comment</label>\n    <textarea class=form-control ng-model=buildPi.comment placeholder="Enter an analyze description for this build performance indicator"></textarea>\n  </div>\n  <input type=submit class="btn btn-primary" ng-click=save(buildPi) value="Save">\n</form>'),a.put("app/kpi/build-pi-modal.html",'<div class=modal-header>\n<h3 class=modal-title>Build performance indicator</h3>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-12>\n      <indicator name="\'Build\'" value=build.buildId icon-class="icomoon icon-android" ng-class="{\'pull-left\': true}"></indicator>\n      <indicator name="\'Test case\'" value=pi.testCase icon-class="glyphicon glyphicon-file" ng-class="{\'pull-left\': true}"></indicator>\n      <indicator name="\'Performance indicator\'" value=pi.name icon-class="glyphicon glyphicon-dashboard" ng-class="{\'pull-left\': true}"></indicator>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <p class="cr-indicator-md cr-indicator-bar">\n    <indicator name="\'Median\'" value="summary.median|number:2|isBlank:\'--\'" ng-class="{\'pull-left\': true}"></indicator>\n    <indicator name="\'Mean\'" value="summary.mean|number:2|isBlank:\'--\'" ng-class="{\'pull-left\': true}"></indicator>\n    <indicator name="\'Latest\'" value="summary.latest|number:2|isBlank:\'--\'" ng-class="{\'pull-left\': true}"></indicator>\n    <indicator name="\'Standard dev\'" value="summary.standardDeviation|number:2|isBlank:\'--\'" ng-class="{\'pull-left\': true}"></indicator>\n    <indicator name="\'Median Abs Dev\'" value="summary.mad|number:2|isBlank:\'--\'" ng-class="{\'pull-left\': true}"></indicator>\n  </p>\n\n  <tabset>\n    <tab heading="Test runs ({{summary.reportedTestCount}}/{{summary.totalTestCount}})">\n      <div ng-include="\'app/kpi/build-pi-runs.html\'" ng-controller=BuildPiRunsCtrl></div>\n    </tab>\n    <tab heading=Analyze>\n      <div ng-include="\'app/kpi/build-pi-analyze.html\'" ng-controller=BuildPiAnalyzeCtrl></div>\n    </tab>\n  </tabset>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-default" ng-click=close()>Close</button>\n</div>'),a.put("app/kpi/build-pi-runs.html",'<loading-indicator ng-if=isLoading></loading-indicator>\n<div ng-show=!isLoading class=row>\n  <div class=col-md-12>\n    <table class="table table-condensed table-unbordered">\n      <tr>\n        <th></th>\n        <th>Value</th>\n        <th>Status/Verdict</th>\n        <th>Start time</th>\n      </tr>\n      <tr ng-repeat-start="campaign in testMetrics | orderBy: \'-startTime\'">\n        <td ng-if="campaign.metrics.length > 0" colspan=5>\n          <span class=text-muted>\n            Campaign\n            <a ui-sref=campaign.detail({campaignId:campaign.id}) target=_blank title="Go to campaign {{campaign.id}}">{{campaign.name |truncate:40}}</a>\n            started {{campaign.startTime|crdate}}\n          </span>\n        </td>\n      \n      </tr><tr ng-repeat="tm in campaign.metrics" class=cr-dropdown-kpi-item>\n        <td>\n          <span ng-if="tm.value !== undefined">\n            <a href="" tooltip="show in report" ng-if=!isTestIncluded(tm) ng-click=includeTest(tm)><span class="glyphicon glyphicon-eye-close"></span></a>\n            <a href="" tooltip="hide from report" ng-if=isTestIncluded(tm) ng-click=excludeTest(tm)><span class="glyphicon glyphicon-eye-open"></span></a>\n          </span>\n        </td>\n        <td>\n          <a ui-sref=test.detail({testId:tm.id}) target=_blank title="Go to test {{tm.id}}">\n            <span ng-if="tm.value !== undefined">{{tm.value|number:2}} {{tm.unit}}</span>\n            <span ng-if="tm.value === undefined" class=text-muted>None</span>\n          </a>\n        </td>\n        <td><span ng-if=tm.verdict><cr-verdict input=tm.verdict></cr-verdict></span></td>\n        <td><span>{{tm.startTime|crdate}}</span></td>\n      </tr>\n      <tr ng-repeat-end><td></td></tr>\n    </table>\n  </div>\n  <a href="" ng-click=addTestResult() class="btn btn-link pull-right" title="Add a result manually">Add result</a>\n</div>'),a.put("app/kpi/copy-dashboard-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Copy the dashboard</h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <form name=copyForm>\n        <div class=form-group>\n          <label for=newNameInput class=control-label>Name</label>\n          <input id=newNameInput ng-model=form.newName class="form-control input-lg" required name="newName">\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=copyForm.$invalid>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/kpi/dashboard-compare-header.html",'<div class=row>\n  <div class="col-lg-6 col-md-12">\n    <table class="table cr-table-kpi">\n      <tr class=cr-pidashboard-header>\n        <th class=cr-pi-build-column-reference>\n          <div>\n            <div class=pull-right><build-status-chart status=compareResult.referenceStatusSummary></build-status-chart></div>\n            <build-with-tag build=compareResult.reference></build-with-tag>\n          </div>\n        </th>\n        <th>\n          <div>\n            <div class=pull-right><build-status-chart status=compareResult.statusSummary></build-status-chart></div>\n            <build-with-tag build=compareResult.compared></build-with-tag>\n          </div>\n        </th>\n      </tr>\n    </table>\n  </div>\n</div>'),a.put("app/kpi/dashboard-compare.html",'<div class="row no-gutter">\n  <div class="col-lg-6 col-md-12">\n    <div ng-if=!compareResult>\n      <loading-indicator></loading-indicator>\n    </div>\n    <div ng-if=compareResult>\n      <table class="table cr-table-kpi">\n        <tr build-metric-compare ng-repeat="comparison in compareResult.comparisons" class=cr-pidashboard-row comparison=comparison reference=compareResult.reference compared=compareResult.compared enable-links=true></tr>\n      </table>\n    </div>\n  </div>\n  <div class=col-lg-6>\n    <ul class="nav nav-pills nav-stacked pull-left">\n      <li role=presentation><a href="" ng-click=inverseComparison()><span class="glyphicon glyphicon-transfer"></span> Inverse</a></li>\n      <li role=presentation><a href="" ng-click=pickBuildToCompare()><span class="glyphicon glyphicon-dashboard"></span> Compare other</a></li>\n      <li role=presentation><a href="" ng-click=saveReport()><span class="glyphicon glyphicon-list-alt"></span> Save report</a></li>\n      <li role=presentation><a href="" ng-click=openLegend()><span class="glyphicon glyphicon-question-sign"></span> Legend</a></li>\n    </ul>\n  </div>\n</div>'),a.put("app/kpi/dashboard-data.html",'<div class=cr-table-kpi>\n  <table class="table cr-table cr-table-col-striped">\n    <tr build-metric-history metric=pi ng-repeat="pi in dashboard.pis track by metricTracker(pi)" class=cr-pidashboard-row></tr>\n  </table>\n</div>\n<div class=text-center ng-if=loading>\n  <loading-indicator></loading-indicator>\n</div>'),a.put("app/kpi/dashboard-explorer.html",'<div class=cr-page-aside>\n  <div>\n    <ul class="nav nav-pills nav-stacked">\n      <li ui-sref-active=active><a ui-sref=home.kpi-dashboard.explore.published>Published</a></li>\n      <li ui-sref-active=active><a ui-sref=home.kpi-dashboard.explore.my>My dashboards</a></li>\n      <li ui-sref-active=active><a ui-sref=home.kpi-dashboard.explore.sharedWithMe>Shared with me</a></li>\n    </ul>\n  </div>\n</div>\n<div class=cr-page-content>\n  <div class=container-fluid>\n    <div class=page-header>\n      <nav class="navbar cr-navbar pull-right">\n        <ul class="nav navbar-nav">\n          <li><a ui-sref=home.kpi-dashboard.new class="btn btn-info">Create</a></li>\n        </ul>\n      </nav>\n      <h2>Explore performance indicator dashboards</h2>\n    </div>\n    <div ui-view></div>\n  </div>\n</div>'),a.put("app/kpi/dashboard-filters.html",'<div class=row>\n  <div class=col-md-12>\n    <div class="pull-left cr-indicator">\n      <span class=text-muted>Branches</span>\n      <div><span ng-if="vm.dashboard.filters.branches.length > 0">{{vm.dashboard.filters.branches|join}}</span><span ng-if=!vm.dashboard.filters.branches.length>All</span></div>\n    </div>\n    <div class="pull-left cr-indicator">\n      <span class=text-muted>Target products</span>\n      <div><span ng-if="vm.dashboard.filters.targetProducts.length > 0">{{vm.dashboard.filters.targetProducts|join}}</span><span ng-if=!vm.dashboard.filters.targetProducts.length>All</span></div>\n    </div>\n    <div class="pull-left cr-indicator">\n      <span class=text-muted>Target devices</span>\n      <div><span ng-if="vm.dashboard.filters.targetDevices.length > 0">{{vm.dashboard.filters.targetDevices|join}}</span><span ng-if=!vm.dashboard.filters.targetDevices.length>All</span></div>\n    </div>\n    <div class="pull-left cr-indicator">\n      <span class=text-muted>Benches</span>\n      <div><span ng-if="vm.dashboard.filters.benchNames.length > 0">{{vm.dashboard.filters.benchNames|join}}</span><span ng-if=!vm.dashboard.filters.benchNames.length>All</span></div>\n    </div>\n    <div class="pull-left cr-indicator">\n      <span class=text-muted>Build type</span>\n      <div>\n        <span ng-if="vm.dashboard.filters.buildTypes.length > 0">{{vm.dashboard.filters.buildTypes|join}}</span>\n        <span ng-if=!vm.dashboard.filters.buildTypes.length>All</span>\n      </div>\n    </div>\n    <div class="pull-left cr-indicator" ng-if="vm.dashboard.filters.tags.length > 0">\n      <span class=text-muted>Test result tags</span>\n      <div>\n        <span>{{vm.dashboard.filters.tags|join}}</span>\n      </div>\n    </div>\n    <div class="pull-left cr-indicator" ng-if=vm.dashboard.filters.releaseOnly>\n      <span class=text-muted>Release only</span>\n      <div>\n        <span>Yes</span>\n    </div>\n  </div>\n</div></div>'),a.put("app/kpi/dashboard-history-header.html",'<table class="table cr-table" ng-show="builds.length > 0">\n  <tr class=cr-pidashboard-header>\n    <th ng-repeat="build in builds track by build.buildId" class=cr-pi-build-column>\n      <div class="cr-overlay text-center" ng-mouseenter=loadBuildSignatures(build)>\n        <a href="" class="btn btn-primary" ng-click=compare(build) title="Add to comparison"><span class="glyphicon glyphicon-plus"></span> Compare</a>\n        <p>\n          <small>\n            <a href="" ng-click=openBuildSignatures(build) title="See build signatures detail">\n              <ng-pluralize count=build.signatures.length when="{\'1\':\'1 signature\', \'other\':\'{} signatures\'}" offset=""></ng-pluralize>\n            </a>\n          </small>\n          <br>\n          <small>\n            <a href="" ng-click=exportBuildCsv(build) title="Export build"><span class="glyphicon glyphicon-download"></span> Export to csv</a>\n          </small>\n        </p>\n      </div>\n      <build-with-tag build=build></build-with-tag>\n      <div><small class=text-muted>{{build.date|date}}</small></div>\n    </th>\n  </tr>\n</table>'),a.put("app/kpi/dashboard-list.html",'<div class=row>\n  <div class=col-md-12>\n    <h4>{{vm.title}}</h4>\n  </div>\n</div>\n<div class=row ng-if=vm.dashboardsByProject.length ng-repeat="project in vm.dashboardsByProject | orderBy:[\'+branch\',\'-targetProduct\']">\n  <div class=col-md-12>\n    <h3>{{project.branch}} / {{project.targetProduct}}</h3>\n    <div ng-repeat="dashboard in project.dashboards track by $index" class="col-md-2 cr-pidashboard-explorer-tile">\n      <a ui-sref=home.kpi-dashboard.detail.history({id:dashboard.id}) class=thumbnail><img src=assets/images/9833c834.pi-dashboard-thumbnail.png class=img-responsive></a>\n      <p class=caption><strong>{{dashboard.name}}</strong></p>\n    </div>\n  </div>\n</div>\n<div ng-if=!vm.dashboardsByProject.length>\nNo dashboards\n</div>'),a.put("app/kpi/dashboard-new.html",'<div class=row>\n  <div class=col-md-6>\n\n    <h1>New PI Dashboard</h1>\n    <form name=vm.dashboardForm ng-submit=vm.saveDashboard() id=cr-dashboard-form novalidate>\n        <div class=form-group>\n          <label for=name>Dashboard name</label>\n          <input class=form-control id=name placeholder=Name name=name ng-model=vm.dashboard.name required auto-focus>\n        </div>\n        <button type=submit class="btn btn-primary" ng-disabled=vm.dashboardForm.$invalid>Create</button>\n    </form>\n\n  </div>\n</div>'),a.put("app/kpi/dashboard-pi-list.html",'<ul class="cr-list cr-pidashboard-pilist" ui-sortable=piListSortableOptions ng-model=dashboard.pis ng-class="{\'cr-list-sortable\':security.canEdit}">\n  <li ng-repeat="kpi in dashboard.pis track by piTracker(kpi)" class=cr-pidashboard-row>\n    <div class=cr-kpi-list-item-side>\n      \n      <div class="cr-kpi-list-item-unit pull-left">\n        <div>{{kpi.unit}}</div>\n        <div>\n          <small>{{kpi.aggregationFn}}</small>\n          <small>min runs: {{kpi.minimumRuns}}</small>\n        </div>\n      </div>\n      \n      <div class="cr-kpi-list-item-target pull-left">\n        \n        <div ng-if=security.canEdit>\n          <div ng-if=kpi.target>\n            <a href="" ng-click=editPiTarget(kpi)>\n              <target-value target=kpi.target></target-value>\n            </a>\n          </div>\n        </div>\n        \n        <div ng-if=!security.canEdit>\n          <target-value ng-if=kpi.target target=kpi.target></target-value>\n        </div>\n      </div>\n      \n      <div class="cr-kpi-list-item-trend pull-left">\n        <pi-trend-sparkline metric=kpi></pi-trend-sparkline>\n      </div>\n\n    </div>\n    \n    <div class="cr-kpi-list-item-title cr-list-item-handle">\n      <strong title={{kpi.displayName}}>{{kpi.displayName|truncate:40}}</strong>\n      <div><small class=text-muted title="{{kpi.testCase + \' / \' + kpi.name}}">{{kpi.testCase + \' / \' + kpi.name|truncate:40}}</small></div>\n    </div>\n    \n    <div class=cr-list-item-actions>\n      <a href="" title="Add a manual result" ng-click=addTestResult(kpi)><span class="glyphicon glyphicon-plus"></span></a>\n      <a ng-if=security.canEdit href="" title="Remove the PI from the dashboard" ng-click=removePi(kpi)><span class="glyphicon glyphicon-trash"></span></a>\n      <a ng-if=security.canEdit href="" title="Edit PI" ng-click=openEditPi(kpi)><span class="glyphicon glyphicon-edit"></span></a>\n    </div>\n  </li>\n</ul>\n<div class=text-center ng-show="!dashboard.pis || dashboard.pis.length == 0">\n  <p class=lead>No PI</p>\n  <p>Go in edit mode to add a PI</p>\n</div>'),a.put("app/kpi/dashboard-settings-filters.html",'<div class="cr-steps-modal-step-header cr-catch-primary">\n  <h4>Filters settings</h4>\n  <span class=text-muted>Select the tests metrics that will be shown in this dashboard</span>\n</div>\n<div class=cr-steps-modal-step-body>\n\n  <div class=form-group>\n    <label>Branches</label>\n    <ui-select ng-model=filters.branches multiple append-to-body=appendToBody on-select="select(\'branch\', $item)" on-remove="unselect(\'branch\', $item)">\n      <ui-select-match placeholder="Select branches">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.branch | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n\n  <div class=form-group>\n    <label>Target products</label>\n    <ui-select ng-model=filters.targetProducts multiple append-to-body=appendToBody on-select="select(\'targetProduct\', $item)" on-remove="unselect(\'targetProduct\', $item)">\n      <ui-select-match placeholder="Select target products">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.targetProduct | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n\n  <div class=form-group>\n    <label>Target devices</label>\n    <ui-select ng-model=filters.targetDevices multiple append-to-body=appendToBody on-select="select(\'targetDevice\', $item)" on-remove="unselect(\'targetDevice\', $item)">\n      <ui-select-match placeholder="Select target devices">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.targetDevice | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n\n  <div class=form-group>\n    <label>Build types</label>\n    <ui-select ng-model=filters.buildTypes multiple append-to-body=appendToBody on-select="select(\'buildType\', $item)" on-remove="unselect(\'buildType\', $item)">\n      <ui-select-match placeholder="Select build types">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.buildType | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div class=form-group>\n    <label>Benches</label>\n    <ui-select ng-model=filters.benchNames multiple append-to-body=appendToBody on-select="select(\'benchName\', $item)" on-remove="unselect(\'benchName\', $item)">\n      <ui-select-match placeholder="Select benches">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.benchName | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div class=form-group>\n    <label>Test result tags</label>\n    <ui-select ng-model=filters.tags multiple append-to-body=appendToBody on-select="select(\'tag\', $item)" on-remove="unselect(\'tag\', $item)">\n      <ui-select-match placeholder="Select test result tags">{{$item.key}}</ui-select-match>\n      <ui-select-choices repeat="item in choices.tag | filter: $select.search | limitTo: 20 track by item.key">\n        <div ng-bind-html="item.key | highlight: $select.search"></div>\n        <small class=text-muted>{{item.value}} tests</small>\n      </ui-select-choices>\n    </ui-select>\n    <span class=help-block>Only show in dashboard the test results that have been tagged with the listed tags</span>\n  </div>\n  <div class=checkbox>\n    <label>\n      <input type=checkbox ng-model=filters.releaseOnly> Release only\n    </label>\n  </div>\n</div>'),
a.put("app/kpi/dashboard-settings-general.html",'<div class="cr-steps-modal-step-header cr-catch-primary">\n  <h4>General settings</h4>\n</div>\n\n<div class=cr-steps-modal-step-body>\n  <div class=form-group>\n    <label>Name</label>\n    <input name=nameInput ng-model=general.name placeholder="Dasboard\'s name" class="form-control">\n    <div class=help-block>\n      Dashboard\'s name that will be displayed to users\n    </div>\n  </div>\n</div>'),a.put("app/kpi/dashboard.html",'<div class=container-fluid>\n  <div class="row cr-page" id=cr-page-kpi-dashboard>\n    <div class=col-md-12>\n\n      <nav class="navbar cr-navbar pull-right">\n        <div class=container>\n\n          <ul class="nav navbar-nav navbar-right">\n            <li class=horizontal-divider></li>\n            <li class=dropdown>\n              <a href="" class="dropdown-toggle btn btn-link" data-toggle=dropdown><span class="glyphicon glyphicon-download-alt"></span> Export <span class=caret></span></a>\n              <ul class="dropdown-menu dropdown-menu-right pull-right">\n                <li><a href="" ng-click=vm.exportData()>Raw Results</a></li>\n                <li><a href="" ng-click=vm.exportAggregatedData()>Aggregated Results</a></li>\n              </ul>\n            </li>\n\n            <li ng-if=vm.security.canEdit>\n              <a href="" class="btn btn-icon" ng-click=vm.openSettings()>\n                <span class="glyphicon glyphicon glyphicon-cog"></span>\n              </a>\n            </li>\n            <li class=dropdown>\n              <a href="" class="dropdown-toggle btn btn-link" data-toggle=dropdown>Dashboard <span class=caret></span></a>\n              <ul class="dropdown-menu pull-right">\n                <li><a href="" ng-click=vm.copy()>Copy</a></li>\n                <li><a href="" ng-if=vm.security.canEdit ng-click=vm.removeDashboard()>Remove</a></li>\n              </ul>\n            </li>\n          </ul>\n          <div class="nav navbar-nav navbar-right">\n           <share-users security-entity=vm.dashboard after-people-selected=vm.addSharePeople after-privacy-selected="vm.selectPrivacy">\n          </div>\n        </div>\n      </nav>\n\n      <h1>PI Dashboard <small><span ng-model=vm.dashboard.name buttons=no>{{vm.dashboard.name}}</span></small></h1>\n      <div ng-include="\'app/kpi/dashboard-filters.html\'"></div>\n\n      <div class=row>\n        <div class=col-lg-12>\n          <ul class="nav nav-pills cr-toolbar">\n            <li ui-sref-active=active><a ui-sref=home.kpi-dashboard.detail.history>History</a></li>\n            <li ui-sref-active=active ng-class="{disabled:vm.compareCount() < 2}"><a ng-class="{\'btn-default\':vm.compareCount() < 2, \'btn-info\':vm.compareCount() > 1}" ng-disabled="vm.compareCount() < 2" ng-click=vm.compare() href="" class=btn>Build comparison ({{vm.compareCount()}})</a></li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=cr-pidashboard-header-wrapper>\n        <div class="row cr-catch-primary" it-affix="{offset: {elementTop: 0}}">\n          <div class="col-lg-4 col-md-5">\n            <div class="cr-pidashboard-header cr-pidashboard-pilistheader" colspan=2>\n              <p><strong>Performance indicator</strong></p>\n              <div ng-if=vm.security.canEdit>\n                <a href="" ng-click=vm.openAddPi() title="add a performance indicator to the dashboard"><span class="glyphicon glyphicon-plus"></span> Add</a>\n                <a href="" ng-click=vm.openAutoPiThreshold() title="Compute automatically for all PIs a regression threshold based on history">\n                  <span class=intelicon-reset-revert></span> Auto threshold\n                </a>\n              </div>\n            </div>\n          </div>\n          \n          <div class="col-lg-8 col-md-7">\n            <div class=cr-pidashboard-dataheader>\n              <div ui-view=dataheaderpane></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="row no-gutter">\n        <div class="col-lg-4 col-md-5 cr-dashboard-metrics">\n          <div class=cr-table-kpi>\n            <div ui-view=pilistpane ng-if=canSee></div>\n            <div ng-if=!canSee><h1>This is a private indicator,you don\'t have permission to see this indicator, please ask the owner of this indicator to share.</h1></div>\n          </div>\n        </div>\n        <div class="col-lg-8 col-md-7">\n          <div ui-view=datapane class=cr-pidashboard-data it-scroll-sync="{target:\'.cr-pidashboard-dataheader\'}"></div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>'),a.put("app/kpi/edit-pi-target.html",'<div class="cr-steps-modal-step-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-8>\n      <h4>Edit PI target</h4>\n      <span class=text-muted>Edit the performance indicator target for this platform..</span>\n    </div>\n    <div class="col-md-4 cr-indicator-md">\n      <indicator ng-if=isRange() name="\'Effective target\'" value="(effective.min|number) + \' < x < \' + (effective.max|number)" icon-class=intelicon-opportunity-target-goal></indicator>\n      <indicator ng-if=isLib() name="\'Effective target\'" value="\'x < \' + (effective.max|number)" icon-class=intelicon-opportunity-target-goal></indicator>\n      <indicator ng-if=isHib() name="\'Effective target\'" value="\'x > \' + (effective.min|number)" icon-class=intelicon-opportunity-target-goal></indicator>\n    </div>\n  \n  </div>\n</div>\n<div class=cr-steps-modal-step-body>\n  \n  <div class=form-group>\n    <label>Target type</label>\n    <div class=input-group>\n      <div class=btn-group>\n        <label ng-repeat="type in targetTypes" class="btn btn-default" ng-model=typeChoice.value btn-radio="\'{{type.value}}\'">{{type.name}}</label>\n      </div>\n    </div>\n  </div>\n  \n  <fieldset ng-disabled=!hasTarget()>\n\n    <div class=form-group ng-class="{\'has-error\': stepForm.target.$invalid}">\n      <label for=targetInput class=control-label>Targeted value</label>\n      <div class=input-group>\n        <input type=number id=targetInput ng-model=target.target class=form-control name="target">\n        <div class=input-group-addon>{{pi.unit}}</div>\n      </div>\n      <div class=help-block>\n        <span ng-if=!stepForm.target.$invalid>The value to reach</span>\n        <span ng-if=stepForm.target.$error.number>The value isn\'t a number</span>\n      </div>\n    </div>\n\n    <div class=row>\n      <div class=col-md-6 ng-if=isMinDisplayed()>\n        \n        <div class=form-group ng-class="{\'has-error\': stepForm.min.$invalid || stepForm.$error.targetRange}">\n          <label for=minInput class=control-label>Min</label>\n          <div class=input-group>\n            <input type=number id=minInput ng-model=target.min class=form-control required name="min">\n            <div class=input-group-addon>{{pi.unit}}</div>\n          </div>\n          <div class=help-block>\n            <div ng-if=stepForm.$error.targetRange>\n              The range is invalid\n            </div>\n            <div ng-if=!stepForm.$error.targetRange>\n              <span ng-if=stepForm.min.$error.required>Enter a minimum</span>\n              <span ng-if=stepForm.min.$valid>The minimum value allowed by the target</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=col-md-6 ng-if=isMaxDisplayed()>\n        \n        <div class=form-group ng-class="{\'has-error\': stepForm.max.$invalid || stepForm.$error.targetRange}">\n          <label for=maxInput class=control-label>Max</label>\n          <div class=input-group>\n            <input type=number id=maxInput ng-model=target.max class=form-control required name="max">\n            <div class=input-group-addon>{{pi.unit}}</div>\n          </div>\n          <div class=help-block>\n            <div ng-if=!stepForm.$error.targetRange>\n              <span ng-if=stepForm.max.$error.required>Enter a maximum</span>\n              <span ng-if=stepForm.max.$valid>The maximum value allowed by the target</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=form-group ng-class="{\'has-error\': stepForm.waiver.$invalid}">\n      <label for=waiverInput class=control-label>Waiver</label>\n      <div class=input-group>\n        <input type=number id=waiverInput ng-model=target.waiver class=form-control name="waiver">\n        <div class=input-group-addon>{{pi.unit}}</div>\n      </div>\n      <div class=help-block>\n        <span ng-if=!stepForm.waiver.$invalid>Allow you specify a margin from official MIN/MAX values</span>\n        <span ng-if=stepForm.waiver.$error.number>The value isn\'t a number</span>\n      </div>\n    </div>\n  </fieldset>\n\n</div>'),a.put("app/kpi/edit-pi.html",'<div class="cr-steps-modal-step-header cr-catch-primary">\n  <p>\n    <h4>General</h4>\n    <span class=text-muted>Edit general performance indicator information</span>\n  </p>\n</div>\n<div class=cr-steps-modal-step-body>\n  <div class=form-group>\n    <label for=kpiDisplayName>Display name</label>\n    <input class=form-control id=kpiDisplayName placeholder="Display name" ng-model=pi.displayName name=displayName required>\n    <span class=help-block>The name of the metric that will be shown in the dashboard</span>\n  </div>\n  \n  <pi-select ng-model=selectedMetric ng-model-options="{getterSetter: true, allowInvalid: true}"></pi-select>\n  <div class=form-group>\n    <div class=btn-group>\n      <label ng-repeat="fn in aggregationFnList" class="btn btn-info" ng-model=pi.aggregationFn btn-radio=fn.key uncheckable>{{fn.name}}</label>\n    </div>\n    <span class=help-block>The aggregation function that will be used to summarize the runs values</span>\n  </div>\n\n  \n  <div class=form-group ng-class="{\'has-error\': stepForm.regressionThreshold.$invalid}">\n    <label for=regressionThresholdInput>Regression threshold</label>\n    <div class="input-group col-md-4">\n      <input id=regressionThresholdInput type=number min=0 class=form-control name=regressionThreshold ng-model=pi.regressionThreshold required>\n      <div class=input-group-btn>\n        <button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown>\n          {{regressionThresholdUnit()}} <span class=caret></span>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right">\n          <li><a href="" ng-click=selectRegressionThresholdType(thresholdType.RELATIVE)>relative value (% of reference)</a></li>\n          <li><a href="" ng-click=selectRegressionThresholdType(thresholdType.ABSOLUTE)>absolute value ({{pi.unit}})</a></li>\n        </ul>\n      </div>\n\n    </div>\n    <span class=help-block>\n      <span ng-if="piStats && stepForm.regressionThreshold.$valid">\n        Threshold value above which is considered a critical regression or a major progression\n      </span>\n      <span ng-if=stepForm.regressionThreshold.$invalid>\n        Please provide a value for the regression threshold\n      </span>      \n    </span>\n    <a href="" popover-template="\'app/kpi/pi-stats.html\'" popover-trigger=mouseenter ng-click=setAutoThreshold()> \n      Set to {{piStats.autoRegressionThreshold|number:2}} % of ref\n    </a>\n    (computed from history)\n  </div>\n  \n  <div class=form-group ng-class="{\'has-error\': stepForm.minimumRuns.$invalid}">\n    <label for=minimumRunsInput>Aggregation minimum runs</label>\n    <div class="input-group col-md-4">\n      <input id=minimumRunsInput type=number min=0 class=form-control name=minimumRuns ng-model=pi.minimumRuns required>\n      <div class=input-group-addon>score(s)</div>\n    </div>\n    <span class=help-block>Minimum number of valid scores required to compute the aggregated score</span>\n  </div>\n</div>'),a.put("app/kpi/pi-auto-threshold-modal.html",'<div class=modal-header>\n  <h3 class=modal-title><span class=intelicon-reset-revert></span> Compute all PI regression thresholds</h3>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-12>\n      A threshold value has been computed for all the dashboard PIs based on the last {{historyLength}} builds according to 3 x Std Dev * 100 / Mean (as a % of the reference build value)\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <div ng-if=loading class=text-center>\n        <div>Crushing the latest data for you, hang tight...</div>\n        <loading-indicator></loading-indicator>\n      </div>\n      <div ng-if=!loading>\n        <table class="table table-hover table-condensed">\n          <tr>\n            <th>Apply (<a href="" ng-click=selectAll()>All</a>/<a href="" ng-click=unselectAll()>None</a>)</th>\n            <th>Performance indicator</th>\n            <th class=text-right>Auto threshold value (% of ref)</th>          \n          </tr>\n          <tr ng-repeat="piStats in allPiStats" ng-class="{\'text-muted\':piStats.count == 0}">\n            <td>\n              <input type=checkbox ng-model=piStats.apply ng-disabled="piStats.count == 0">\n            </td>\n            <td>\n              <div>{{piStats.pi.displayName}}</div>\n            </td>\n            <td class=text-right>\n              <span ng-if="piStats.count == 0">N/A</span>\n              <span ng-if="piStats.count > 0">\n                <a href="" popover-template="\'app/kpi/pi-stats.html\'" popover-trigger=mouseenter> \n                  <span>{{piStats.autoRegressionThreshold|number:2}} %</span>\n                </a>    \n              </span>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok()>Apply thresholds</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/kpi/pi-select.html",'<div class=form-group>\n  <label>Test case</label>\n  <input class=form-control ng-model=testCase ng-change=testCaseChanged() placeholder="Test Case" typeahead="tc for tc in getTestCases($viewValue)" typeahead-min-length=3 typeahead-loading=loading typeahead-append-to-body=false typeahead-on-select=selectTestCase($item)>\n</div>\n<div class=form-group>\n  <label>Metric name</label>\n  <div class=input-group>\n    <ui-select ng-model=metricName on-select=selectMetric($item)>\n        <ui-select-match placeholder="Select a metric">{{$select.selected.name}}</ui-select-match>\n        <ui-select-choices repeat="metric.name as metric in kpis | filter: $select.search">\n            <div ng-bind-html="metric.name + \' (\' + metric.unit + \')\' | highlight: $select.search"></div>\n        </ui-select-choices>\n    </ui-select>\n    <div class=input-group-addon>{{unit}}</div>\n  </div>\n  <span class=help-block>A metric choosed from the case test</span>\n</div>'),a.put("app/kpi/pi-stats.html","<div class=cr-pi-stats-hint>\n  <p class=lead>\n    <indicator name=\"'3 x Std Dev * 100 / Mean'\" value=\"(piStats.autoRegressionThreshold|number:2) + ' % of reference'\" ng-class=\"{'pull-left':true}\"></indicator>\n  </p>\n  <div class=cr-indicator-bar>\n    <indicator name=\"'Std Dev'\" value=piStats.standardDeviation|number ng-class=\"{'pull-left':true}\"></indicator>\n    <indicator name=\"'Mean'\" value=piStats.mean|number ng-class=\"{'pull-left':true}\"></indicator>\n  </div>\n  <small>\n    Computed over {{piStats.count}} values<br>\n    {{piStats.values|join:'; '}}<br>\n    Only values present after the last progression flag <evolution-flag flag=\"'PROGRESSION'\"></evolution-flag> are used for threshold computation (if a flag is set).\n    All values with regression flag <evolution-flag flag=\"'REGRESSION'\"></evolution-flag> are ignored.\n  </small>\n</div>"),a.put("app/kpi/pi-trend-sparkline.html","<highchart ng-if=sparklineOptions id=kpi-thumb-chart-{{sparklineId}} config=sparklineOptions></highchart>"),a.put("app/kpi/report-explorer-list-view.html",'<div ng-repeat="week in keys">\n   <div class="cr-timeline-event cr-timeline-event-info">\n    <h4>{{week}}</h4>\n  </div>\n  <div class=cr-timeline-list>\n    <div class="row cr-search cr-search-viewport no-gutter">\n      <div class=list-group>\n        <div ng-repeat="report in weeks[week] |orderBy : \'-lastModified\'">\n          <a class=list-group-item ui-sref=home.pi.reports.detail({id:report.id})>\n            <span class=pull-right><small>reported by {{::report._security.owner.firstname}} {{::report._security.owner.lastname}}</small></span>\n            <h4 class=list-group-item-heading> {{report.name}} <small><release-tag tag=report.compared.tag></release-tag></small></h4>\n            <small class="list-group-item-text text-muted">{{::report.reference.buildId|truncate:25}} vs {{::report.compared.buildId|truncate:25}} - {{report.lastModified|amCalendar}}</small>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/kpi/report-explorer-tile-view.html",'<div ng-repeat="week in keys">\n   <div class="cr-timeline-event cr-timeline-event-info">\n    <h4>{{week}}</h4>\n  </div>\n  <div class=cr-timeline-list>\n    <div class="row cr-search cr-search-viewport no-gutter">\n      <div ng-repeat="report in weeks[week] |orderBy : \'-lastModified\'">\n        <report-tile class="col-lg-2 col-md-4 col-sm-6" style=padding-left:1px;padding-right:1px report=report></report-tile>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/kpi/report-explorer.html",'<div class=page-header>\n  <nav class="navbar cr-navbar pull-right">\n    <ul class="nav navbar-nav navbar-right">\n      <li><a href="" class="btn btn-icon" ng-click="changeView(\'tile\')" title="Display tiles"><span class="glyphicon glyphicon-th-large"></span></a></li>\n      <li><a href="" class="btn btn-icon" ng-click="changeView(\'list\')" title="Display list"><span class="glyphicon glyphicon-th-list"></span></a></li>\n    </ul>\n  </nav>\n  <h2>Performance indicators reports</h2>\n</div>\n<form ng-submit=quickSearch()>\n  <div class=input-group>\n    <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n    <input class=form-control placeholder="Report name" ng-model=search.quickFilter auto-focus>\n  </div>\n</form>\n<div class=row>\n  <div class=col-md-12>\n    <facet-selection></facet-selection>\n  </div>\n</div>\n\n<div ui-view=results></div>\n\n<div class=row>\n  <div class=col-lg-12>\n    <div ng-if="reports.length === 0 && ! loading">\n      <span class=lead>No performance indicator reports found</span><br>\n      You can create reports from a <a ui-sref=home.kpi-dashboard.explore.published>Performance Indicator dashbaords</a>\n    </div>\n    <div ng-if=loading>\n      <loading-indicator></loading-indicator>\n    </div>\n  </div>\n</div>'),a.put("app/kpi/report-filters.html","<faceted-navigation facets=facets></faceted-navigation>"),a.put("app/kpi/report-siblings.html",'<div class=cr-section>\n  <h4>Similar reports</h4>\n\n  <div class=list-group>\n    <a ui-sref=home.pi.reports.detail({id:report.id}) class=list-group-item ng-repeat="report in reports" ui-sref-active=active>\n    <div class=row>\n      <div class=col-md-2>\n        <build-status-chart status=report.statusSummary size=40></build-status-chart>\n      </div>\n      <div class=col-md-10>\n        <h4 class=list-group-item-heading>{{report.name|truncate:15}}</h4>\n        <div class=list-group-item-text>\n          {{report.compared.buildId}} <release-tag tag=report.compared.tag></release-tag>\n        </div>\n        <span class=text-muted>{{report.creation|date}}</span> \n      </div>\n    </div>\n    </a>\n  </div>\n</div>'),a.put("app/kpi/report-tile.html","<div class=\"cr-tile cr-pi-report-tile\" ng-class=\"{'cr-tile-info': report.compared.tag.type === 'weekly', 'cr-tile-warning': report.compared.tag.type === 'daily'}\">\n  <a class=cr-overlay ui-sref=home.pi.reports.detail({id:report.id})>\n    <span class=\"glyphicon glyphicon-user\"></span> \n    <span><small>reported by</small> {{report._security.owner.firstname}} {{report._security.owner.lastname}}</span>\n  </a>\n  <div class=cr-tile-header>\n    <div><h4>{{report.reference.buildId|truncate:25}}</h4><release-tag tag=report.compared.tag></release-tag></div>\n  </div>\n  <div class=cr-tile-body>\n    <div class=row>\n      <div class=col-sm-6>\n        <div ng-if=report.statusSummary>\n          <build-status-chart status=report.statusSummary size=100></build-status-chart>\n        </div>\n      </div>\n      <div class=col-sm-6>\n        <div class=text-success>\n          <span class=\"glyphicon glyphicon-arrow-up\"></span>\n          <ng-pluralize count=report.progressionCount when=\"{'0': 'No progress', 'other': '{} progr.'}\" offset=\"\"></ng-pluralize>\n        </div>\n        <div class=text-danger>\n          <span class=\"glyphicon glyphicon-arrow-down\"></span>\n          <ng-pluralize count=report.regressionCount when=\"{'0': 'No regress.', 'other': '{} regress.'}\" offset=\"\"></ng-pluralize>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=cr-tile-footer>\n    <h4 title={{report.name}}>{{report.name|truncate:25}}</h4>\n    <span class=\"glyphicon glyphicon-calendar\"></span> {{report.creation|date}}\n  </div>\n</div>"),a.put("app/kpi/report.html",'<div class=page-header>\n  <div class="cr-toolbar pull-right hidden-print">\n    <a href="" class="btn btn-default" ng-click=printReport()><span class="glyphicon glyphicon-print"></span> Print</a>\n    <a href="" class="btn btn-danger" ng-click=deleteReport() ng-if=permissions.delete><span class="glyphicon glyphicon-remove"></span> Delete</a>\n  </div>\n  <h1>Performance indicators report</h1>\n  <div>\n    <h3>\n      <span title=Branch><span class=intelicon-child></span> {{report.filters.branches|join|isBlank:\'All\'}}</span>\n      <span title="Target product"><span class=intelicon-widget></span> {{report.filters.targetProducts|join|isBlank:\'All\'}}</span>\n      - {{report.name}}\n      <small>\n        <release-tag tag=report.compared.tag></release-tag> \n        <span ng-if=!report.compared.tag>{{report.compared.buildId}}</span> \n        compared with\n        <release-tag tag=report.reference.tag></release-tag> \n        <span ng-if=!report.reference.tag>{{report.reference.buildId}}</span>\n      </small>\n    </h3>\n  </div>\n</div>\n<div class=row>\n  <div class=col-md-12>\n    <div class=panel>\n      <div class=panel-heading>\n        <h4 class=panel-title>\n          Performance indicators \n          <small class=text-muted>\n           <span class="glyphicon glyphicon-user"></span> Reported by {{report._security.owner.firstname}} {{report._security.owner.lastname}} \n           on <span class="glyphicon glyphicon-calendar"></span>  <strong>{{report.creation|date:\'medium\'}}</strong> \n           <span ng-if=report.dashboardName>from dashboard <strong>{{report.dashboardName}}</strong></span>\n          </small>\n        </h4>\n      </div>\n      <div class="panel-body row">\n        <div class=col-md-9>\n          <form class=hidden-print>\n            <div class=form-group>\n              <input class=form-control ng-model=search placeholder="Filter by PI name, unit">\n            </div>\n          </form>\n          <small class=pull-right>\n            <span>{{report.comparisons.length}} performance indicators</span>\n            <span class=text-danger>{{report.regressionCount}} regressions</span>\n            <span class=text-success>{{report.progressionCount}} progressions</span>\n          </small>\n          <table class="table table-striped">\n            <tr> \n              <th colspan=4>Performance indicator</th>\n              <th class=cr-pi-build-column-reference><small>reference</small></th>\n              <th><small>compared</small> <a href="" class="pull-right hidden-print" ng-click=openLegend()><span class="glyphicon glyphicon-question-sign"></span> Legend</a></th>\n            </tr>\n            <tr> \n              <th>n</th>\n              <th>Name</th>\n              <th>Unit</th>\n              <th>Target</th>\n              <th class=cr-pi-build-column-reference><build-with-tag build=report.reference></build-with-tag></th>\n              <th class=cr-pi-build-column-compared><build-with-tag build=report.compared></build-with-tag></th>\n            </tr>\n            <tr ng-repeat="comparison in report.comparisons|filter:search" build-metric-compare comparison=comparison reference=report.reference compared=report.compared>\n              <td>{{comparison.pi.order}}</td>\n              <td>{{comparison.pi.displayName}}</td>\n              <td>{{comparison.pi.unit}}</td>\n              <td><target-value target=comparison.pi.target></target-value></td>\n            </tr>\n          </table>\n        </div>\n        <div class=col-md-3>\n          <build-status-chart status=report.statusSummary verbose="\'true\'" size=250 title="report.compared.tag.name || report.compared.buildId">\n          </build-status-chart>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/kpi/save-report-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Make a report</h3>\n  <span>You are about to make a report based on this build comparison.</span>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n\n    <div class=col-md-3>\n      <build-with-tag build=compareResult.reference></build-with-tag>\n    </div>\n    <div class=col-md-3>\n      <build-with-tag build=compareResult.compared></build-with-tag>\n    </div>\n    <div class=col-md-6>\n      <span class="cr-icon-lg intelicon-award-solid pull-right" ng-if=form.official></span>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <form name=makeReportForm>\n        <div class=form-group>\n          <label class=control-label>Name</label>\n          <input ng-model=form.name class=form-control required>\n          <span class=help-block>Name this report</span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=makeReportForm.$invalid>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/kpi/target-value.html",'<div title="Target: {{target.effectiveTarget|number}}, Min: {{target.effectiveMin|number}}, Max: {{target.effectiveMax|number}}, Waiver: {{target.waiver|number}}">\n  <span class=cr-target-value>{{target.effectiveTarget|number}}</span>\n  <span class="cr-text-subsup cr-target-range hidden-print">\n    <sup ng-if="target.type === targetType.LOWER_IS_BETTER || target.type === targetType.RANGE">{{target.effectiveMax|number}}</sup>\n    <sub ng-if="target.type === targetType.HIGHER_IS_BETTER || target.type === targetType.RANGE">{{target.effectiveMin|number}}</sub>\n  </span>\n  <small class="text-muted cr-target-waiver hidden-print" ng-if=target.waiver>({{target.waiver|number:2}})</small>\n\n  <div class=visible-print>\n    <sup ng-if="target.type === targetType.LOWER_IS_BETTER || target.type === targetType.RANGE">Min: {{target.effectiveMax|number}}</sup>\n    <sub ng-if="target.type === targetType.HIGHER_IS_BETTER || target.type === targetType.RANGE">Max: {{target.effectiveMin|number}}</sub>\n  </div>\n</div>'),a.put("app/layout/left-column-layout.html","<div class=cr-page-aside>\n  <div ui-view=column></div>\n</div>\n<div class=cr-page-content>\n  <div ui-view=header class=container-fluid></div>\n  <div ui-view=content class=container-fluid></div>\n</div>"),a.put("app/oneandroid/add-campaigns-to-report-modal.html","<div class=modal-header>\n  <h3 class=modal-title>Add campaigns to <strong>{{report.name}}</strong></h3>\n  <div class=text-muted>\n    The report {{report.name}} \n    <ng-pluralize count=report.campaigns.length when=\"{'0': ' has no campaign yet',\n              '1': ' already contains 1 campaign',\n              'other': ' already contains {} campaigns'}\">\n    </ng-pluralize>\n    and {{alreadyPresentCount}} are coming from this report\n  </div>\n</div>\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No campaign selected',\n              '1': '{} campaign to be added',\n              'other': '{} campaigns to be added'}\">\n    </ng-pluralize>\n  </p>\n</div>\n<div class=\"modal-body cr-modal-body-overflow\">\n  <item-selector items=campaigns selection=selected ng-show=!loading>\n    <campaign-summary campaign=choice.value></campaign-summary>\n  </item-selector>\n  <loading-indicator ng-if=loading></loading-indicator>\n  <pagination-bar ng-if=paging.enable class=pull-right limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n</div>\n<div class=modal-footer>\n"+'  <button class="btn btn-primary" ng-click=ok() ng-disabled="selected.length === 0">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/oneandroid/build-report-activities.component.html",'<activity-timeline>\n  <activity-flow on-submit="$ctrl.onAction(action, comment)" activities=$ctrl.activities></activity-flow>\n  <activity-comment-form on-submit="$ctrl.onAction(action, comment)" actions=$ctrl.actions></activity-comment-form>\n</activity-timeline>'),a.put("app/oneandroid/build-report-bootota.component.html",'<div class=row id=content>\n  <div class="col-md-12 col-lg-8">\n    <div ng-repeat="(group, campaigns) in $ctrl.campaignGroups" class="panel panel-default panel-dark">\n      <div class=panel-heading>\n        <h4 class=panel-title>{{group}}</h4>\n      </div>\n      <campaign-list campaigns=campaigns></campaign-list>\n    </div>\n    <div ng-if="$ctrl.campaignCount === 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>No BOOT OTA campaign in this report</h3>\n      <p>Only ENDURANCE campaign with domain boot_ota from the BOOT OTA team are displayed there. Run them.</p>\n    </div>\n\n    <div class=hide-in-mail>\n      <h4>Conversation</h4>\n      <build-report-activities section=$ctrl.reportSection report=$ctrl.report></build-report-activities>\n    </div>\n\n  </div>\n</div>'),a.put("app/oneandroid/build-report-campaigns.html",'<div class=row id=content>\n  <div class="col-md-12 col-lg-9">\n    <div class="panel panel-info">\n      <div class=panel-heading>\n        <h4 class=panel-title>Report status</h4>\n      </div>\n      <check-list list=checkList></check-list>\n    </div>\n\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <h4 class=panel-title>\n          <span ng-if=!paging.enable>{{campaigns.length}}</span>\n          <span ng-if=paging.enable>\n            {{paging.offset + 1}} ~ \n            {{paging.offset + paging.limit > paging.totalCount? paging.totalCount: paging.offset + paging.limit}} of {{paging.totalCount}}\n          </span>\n        campaigns</h4>\n      </div>\n      <campaign-list ng-if=!loading campaigns=campaigns></campaign-list>\n      <loading-indicator ng-if=loading></loading-indicator>\n      <pagination-bar ng-if=paging.enable class=pull-right limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n    </div>    \n    \n    <div class=hide-in-mail ng-if="activities.length > 0">\n      <h4>Activities</h4>\n      <activity-timeline>\n        <activity-flow activities=activities></activity-flow>\n      </activity-timeline> \n    </div>\n\n  </div>\n</div>'),a.put("app/oneandroid/build-report-delete-campaigns-modal.html","<div class=modal-header>\n  <h3 class=modal-title>{{title}}</h3>\n</div>\n\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No campaign selected',\n              '1': '{} campaign to be added',\n              'other': '{} campaigns to be added'}\">\n    </ng-pluralize>\n  </p>\n</div>\n\n<div class=\"modal-body cr-modal-body-overflow\">\n  <item-selector items=campaigns selection=selected action=remove>\n    <campaign-summary campaign=choice.value></campaign-summary>\n  </item-selector>\n</div>\n\n<div class=modal-footer>\n"+'  <button class="btn btn-danger" ng-click=ok() ng-disabled="selected.length === 0">Remove</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),
a.put("app/oneandroid/build-report-edition-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>{{title}}</h3>\n</div>\n<div class=modal-body>\n  <form name=editForm>\n    <div class=form-group>\n      <label for=name>Report name</label>\n      <input class=form-control id=name placeholder=Name ng-model=report.name name=buildReportNameInput required>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Branch</label>\n      <categorized-items-select items=buildBranches item-label="\'branch\'" item-property="\'branch\'" categorized=true ng-model=report.branch></categorized-items-select>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Target Product</label>\n      <categorized-items-select items=buildTargetProducts item-label="\'target product\'" item-property="\'targetProduct\'" categorized=true ng-model=report.targetProduct></categorized-items-select>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Team</label>\n      <div>\n        <team-selector team=report.team allow-clear=true placeholder="Optional, Report belong to which team..."></team-selector>\n      </div>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Private</label><small class=text-muted> (Valid when Team selected)</small>\n      <div>\n        <input type=checkbox ng-model=report.isPrivate ng-disabled=!report.team> Only visual to team member\n      </div>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Type</label><small class=text-muted> (Type of Build Report, default is WEEKLY)</small>\n      <div class=radio ng-repeat="type in types">\n        <label>\n          <input type=radio name=optionsRadios ng-model=report.type value={{type}}>\n          {{type}}\n        </label>\n      </div>\n    </div>\n    \n    <div class=form-group>\n      <label for=name>Sections </label><small class=text-muted> (Please select at least 1 section)</small>\n      <div class=checkbox ng-repeat="section in choices" ng-class="{\'text-info\': section.selected}">\n        <label><input type=checkbox ng-model=section.selected ng-change=selectionChange()> {{section.name}}</label>\n      </div>\n    </div> \n  </form>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled="editForm.$invalid || selected.length === 0 || !report.branch || !report.targetProduct">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/oneandroid/build-report-ft.html",'<div class=row id=content>\n  <div class="col-md-12 col-lg-10">\n    <div class="panel panel-default panel-dark">\n      <div class=panel-heading>\n        <div class=pull-right>\n          <button type=button class="btn btn-default btn-xs" ng-click=openCompare() ng-if="report.type === \'WEEKLY\'">\n            <span class="glyphicon glyphicon-duplicate"></span> Compare\n          </button>\n          <a type=button class="btn btn-default btn-xs" ng-href={{exportCsvUrl}}>\n            <span class="glyphicon glyphicon-download-alt"></span> Export as CSV\n          </a>\n          <button type=button class="btn btn-default btn-xs" ng-click=openHpalmUpload()>\n            <span class="glyphicon glyphicon-export"></span> Upload to HP-ALM\n          </button>\n        </div>\n        <h4 class=panel-title>Domain Overview</h4>\n      </div>\n\n      <div class=row>\n        <div class=col-md-8>\n          <verdict-distribution-panel data=functional.domainOverview group=functional.group context=functional.domainOverview.context options=functional.domainOverview.options>\n          </verdict-distribution-panel>\n        </div>\n        <div class=col-md-4>\n          <issue-panel issues=functional.issues></issue-panel>\n        </div>\n      </div>\n    </div>\n\n    <div class="panel panel-info" ng-if="domains.length > 0">\n      <div class=panel-heading>\n        <h4 class=panel-title>Domain Details</h4>\n      </div>\n      <domain-list domains=domains context=functional.domainOverview.context report=report></domain-list>\n    </div>\n\n    <div class=hide-in-mail>\n      <h4>Conversation</h4>\n      <build-report-activities section=reportSection report=report></build-report-activities>\n    </div>\n  </div>\n</div>'),a.put("app/oneandroid/build-report-header.html",'<div class="page-header page-header-block">\n  <div class="pull-right cr-toolbar">\n    <button class="btn btn-default" ng-click=mailReport()>Mail</button>\n    <btn-add-to-report reports=reports ng-if=reports.length on-select=addCampaignsToReport(report) ng-if=isAllowed(actions.ADD_TO_REPORT)></btn-add-to-report>\n    <div class="btn-group cr-toolbar" ng-if=isAllowed(actions.EDIT_REPORT)>\n        <button class="dropdown-toggle btn btn-default" data-toggle=dropdown>Actions <span class=caret></span></button>\n        <ul class="dropdown-menu pull-right">\n          <li>\n            <a href="" ng-click=editReport()><span class="glyphicon glyphicon-pencil"></span> Edit Report</a>\n          </li>\n          <li>\n            <a href="" ng-click=deleteCampaign()><span class="glyphicon glyphicon-log-out"></span> Remove Campaigns</a>\n          </li>\n\n          <li role=separator class=divider></li>\n          <li>\n            <a href="" ng-click=addReport()><span class="glyphicon glyphicon-log-out"></span> Add Report To Project</a>\n          </li>\n          \n          <li role=separator class=divider></li>\n          <li>\n            <a href="" ng-click=deleteReport()><span class="glyphicon glyphicon-remove"></span> Delete Report</a>\n          </li>\n        </ul>\n    </div>\n    <it-btn-select choices=teams on-select=onTeamSelect all-label="All teams"></it-btn-select>\n  </div>\n\n  <small class=text-muted><private-icon ng-if="report.isPrivate"> {{report.lastModified|date}} \n    <span class="label label-default">{{report.type}}</span>\n  </small>\n  <h2><strong>{{report.name}}</strong> <span>{{report.branch}}/{{report.targetProduct}}</span></h2>\n  <span class=lead>{{sectionTitle}}</span>\n  <release-tag tag=metadata.tag></release-tag>\n  <a href="" ng-click=openSignatures()>\n    <ng-pluralize count=signatures.length when="{\'1\': \'{} build signature\',\n                        \'other\': \'{} build signatures\'}">\n    </ng-pluralize>\n  </a>\n</div>'),a.put("app/oneandroid/build-report-kpi.html",'<div ng-if="otherCampaigns.campaignRacks.length > 0 || racks.length > 0" class="page-header page-header-block">\n  <button type=button class="btn btn-default btn-xs" ng-click=openRackOrganisation()><span class="glyphicon glyphicon-cog"></span> Rack settings</button>\n</div>\n\n<div class=row id=content>\n  <div class=col-md-12>\n    <div ng-if=kpiCount class="panel panel-info">\n      <div class=panel-heading>\n        <h4 class=panel-title>KPI</h4>\n      </div>\n\n      <div ng-repeat="(group, campaigns) in kpiCampaignGroups">\n        <div class=panel-subheading>\n          <h4 class=panel-title>{{group}}</h4>\n        </div>\n        <campaign-table campaigns=campaigns show-average=true show-device=true></campaign-table>\n      </div>\n    </div>\n    <div ng-if="kpiCount === 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>No KPI campaign in this report</h3>\n      <p>Only campaign with types include "KPI" are displayed there. Run them.</p>\n    </div>\n\n    <div class=hide-in-mail>\n      <h4>Conversation</h4>\n      <build-report-activities section=reportSection report=report></build-report-activities>\n    </div>\n    \n  </div>\n</div>'),a.put("app/oneandroid/build-report-layout.html","<div class=cr-page-aside>\n  <div ui-view=side></div>\n</div>\n<div class=cr-page-content>\n  <div class=container-fluid>\n    <div ui-view=header></div>\n    <div ui-view=content></div>\n  </div>\n</div>"),a.put("app/oneandroid/build-report-mtbf.html",'<div ng-if="otherCampaigns.campaignRacks.length > 0 || racks.length > 0" class="page-header page-header-block">\n  <button type=button class="btn btn-default btn-xs" ng-click=openRackOrganisation()><span class="glyphicon glyphicon-cog"></span> Rack settings</button>\n</div>\n\n<div class=row id=content>\n  <div class=col-md-12>\n    <div ng-if="otherCampaigns.length == 0 && racks.length == 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>No MTBF campaign in this report</h3>\n      <p>Endurance MTBF campaign might not have been run yet or filters are too restricted</p>\n    </div>\n    <div class="panel panel-default panel-dark" ng-repeat="rack in racks" ng-if="rack.campaignRacks.length > 0">\n      <rack-list rack-group=rack label="Rack {{$index}}"></rack-list>\n    </div>\n    <div class="panel panel-default panel-dark" ng-if="otherCampaigns.campaignRacks.length > 0">\n      <rack-list rack-group=otherCampaigns label="Other Campaigns"></rack-list>\n    </div>\n    \n    <div class=hide-in-mail>\n      <h4>Conversation</h4>\n      <build-report-activities section=reportSection report=report></build-report-activities>\n    </div>\n    \n  </div>\n</div>'),a.put("app/oneandroid/build-report-system-integration.html",'<div class=row id=content>\n  <div class="col-md-12 col-lg-10">\n    <div class="panel panel-default panel-dark">\n      <div class=panel-heading>\n        <div class=pull-right>\n          <a type=button class="btn btn-default btn-xs" ng-href={{exportCsvUrl}}>\n            <span class="glyphicon glyphicon-download-alt"></span> Export as CSV\n          </a>\n          <button type=button class="btn btn-default btn-xs" ng-click=openCompare() ng-if="report.type === \'WEEKLY\'">\n            <span class="glyphicon glyphicon-duplicate"></span> Compare\n          </button>\n        </div>\n        <h4 class=panel-title>Functional tests</h4>\n      </div>\n\n      <div class=row>\n        <div class=col-md-8>\n          <verdict-distribution-panel data=functional.featureOverview group=functional.group context=functional.featureOverview.context options=functional.featureOverview.options>\n          </verdict-distribution-panel>\n        </div>\n        <div class=col-md-4>\n          <issue-panel issues=functional.issues></issue-panel>\n        </div>\n      </div>\n    </div>\n\n    <div class="panel panel-default panel-dark">\n      <div class=panel-heading>\n        <h4 class=panel-title>Stress tests</h4>\n      </div>\n      <div ng-if="stress.campaignCount === 0" class="cr-blankslate cr-blankslate-spacious">\n        <h3>No stress campaign</h3>\n        <p>No stress campaign has been run on this build.</p>\n      </div>\n      <div ng-repeat="(group, campaigns) in stress.campaignGroups">\n        <div class=panel-subheading>\n          <h4 class=panel-title>{{group}}</h4>\n        </div>\n        <campaign-table campaigns=campaigns></campaign-table>\n      </div>\n    </div>\n\n    <div class=hide-in-mail>\n      <h4>Conversation</h4>\n      <build-report-activities section=reportSection report=report></build-report-activities>\n    </div>\n  </div>\n</div>'),a.put("app/oneandroid/build-report.html",'<div class=cr-section>\n  <h4 href="">Sections</h4>\n  <ul class="nav nav-pills nav-stacked">\n    <li ui-sref-active=active>\n      <a ui-sref=home.build.report.campaigns><span class="glyphicon glyphicon-th-list"></span> Overview</a>\n    </li>\n    <li ui-sref-active=active ng-if="sectionExists(\'system-integration\')">\n      <a ui-sref=home.build.report.sysint><span class="glyphicon glyphicon-cog"></span> System integration</a>\n    </li>\n    <li ui-sref-active=active ng-if="sectionExists(\'ft\')">\n      <a ui-sref=home.build.report.ft><span class="glyphicon glyphicon-certificate"></span> Functional Test</a>\n    </li>\n    <li ui-sref-active=active ng-if="sectionExists(\'mtbf\')">\n      <a ui-sref=home.build.report.mtbf><span class=intelicon-activity-solid></span> MTBF</a>\n    </li>\n    <li ui-sref-active=active ng-if="sectionExists(\'kpi\')">\n      <a ui-sref=home.build.report.kpi><span class="glyphicon glyphicon-equalizer"></span> KPI</a>\n    </li>\n    <li ui-sref-active=active ng-if="sectionExists(\'bootota\')">\n      <a ui-sref=home.build.report.bootota><span class="glyphicon glyphicon-off"></span> Boot OTA</a>\n    </li>\n  </ul>\n</div>\n\n<div class=cr-section>\n  <div ng-if="report.links.length > 0">\n    <h4 href="">External links</h4>\n    <ul class="nav cr-sidenav">\n      <li ng-repeat="link in report.links"><a href={{link.url}} target=_blank title={{link.name}}><span class="glyphicon glyphicon-new-window"></span> {{link.name}}</a></li>\n    </ul>\n  </div>\n\n  <div ng-if="report.relatedReports.length > 0">\n    <h4 href="">Related target products</h4>\n    <ul class="nav cr-sidenav">\n      <li ng-repeat="relatedReport in report.relatedReports">\n        <a ui-sref="home.build.report.campaigns({reportId: relatedReport.key, targetProduct: relatedReport.targetProduct})">{{relatedReport.targetProduct}}</a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div class=cr-section>\n  <h4>Participants</h4>\n  <people-grid ng-if="participants.length > 0" people=participants></people-grid>\n  <div ng-if="participants.length === 0" class=text-muted>No participants</div>\n</div>'),a.put("app/oneandroid/campaign-list.component.html",'<div ng-if="$ctrl.runningCampaigns.length > 0" class=list-group>\n  <div ng-repeat="campaign in $ctrl.runningCampaigns" class=list-group-item>\n    <campaign-summary campaign=::campaign hidden-fields=$ctrl.hiddenFields></campaign-summary>\n\n  </div>\n</div>\n<div ng-if="$ctrl.completedCampaigns.length > 0" class=list-group>\n  <div ng-repeat="campaign in $ctrl.completedCampaigns" class=list-group-item>\n    <campaign-summary campaign=::campaign hidden-fields=$ctrl.hiddenFields></campaign-summary>\n  </div>\n</div>\n<div class="cr-blankslate cr-blankslate-spacious" ng-if="$ctrl.campaigns.length === 0">\n  <h3>No campaign</h3>\n  <p class=text-center>Run campaign first then reload the page</p>\n</div>'),a.put("app/oneandroid/campaign-table.html",'<table class="table table-condensed table-hover cr-campaign-table">\n  <tr>\n    <th ng-if=showIndex>#</th>\n    <th class="cr-column-name cr-campaign-table-name">Name</th>\n    <th class=cr-campaign-table-bench>Bench</th>\n    <th ng-if=showDevice>Device (SSN)</th>\n    <th class=cr-campaign-table-bench>Build</th>\n    <th class=cr-campaign-table-executionrate>Execution rate</th>\n    <th class=cr-campaign-table-passrate>Pass rate</th>\n    <th class=cr-campaign-table-duration>Duration</th>\n    <th class=cr-campaign-table-crashes>Crashes</th>\n    <th class=cr-campaign-table-issues>Issues</th>\n    <th ng-if=!hideCount class=cr-campaign-table-testcount>Test count</th>\n  </tr>\n  <tr ng-repeat="c in campaigns">\n    <td ng-if=showIndex><strong>{{ $index + 1 }}</strong></td>\n    <td>\n      <a ui-sref=campaign.detail({campaignId:c.id})>{{c.name}}</a>\n      <a href="" target=_self ng-if=c.comments ng-click=showComments(c)><span tooltip=" show Comments" class="text-muted glyphicon glyphicon-comment"></span></a>\n\n    </td>\n    <td>{{c.bench.name}}<br><small><span class=text-muted>({{c.bench.os}})</span></small></td>\n    <td ng-if=showDevice>\n      <device-link device=c.device tooltip-text="deviceId: {{c.device.deviceId}}" style="word-wrap: break-word">{{c.device.ssn}}</device-link>\n    </td>\n    <td>\n      <div ng-if=c.build.targetProduct><a ui-sref="home.build.report.campaigns({reportId: c.build.buildId,targetProduct: c.build.targetProduct,reportType: \'preview\'})">{{c.build.buildId}}</a></div>\n      <div ng-if=!c.build.targetProduct><span>{{c.build.buildId}}</span></div>\n  </td>\n\n    <td><execution-rate-bar value=c._meta.rates.executionRate tooltip-message="Execution rate: {{c._meta.rates.status.COMPLETED + \' / \' + c._meta.rates.effectives}}" ng-if=c._meta.rates></execution-rate-bar></td>\n    <td><pass-rate-bar red-on-zero="c._meta.rates.status.COMPLETED > 0" value=c._meta.rates.passRate></pass-rate-bar></td>\n    <td>{{c.duration| customDuration}}</td>\n    <td>\n      <crashes-link entity=c type=campaign params={campaignId:c.id}></crashes-link>\n    </td>     \n    <td>\n     <span ng-if="c.issues.length > 0"> <span class="icomoon icon-bug"></span> {{c.issues|join:\', \':\'key\'}}</span>\n    </td>\n    <td ng-if=!hideCount>\n      <counter-bar counter=c._meta.rates.effectives max=maxEffectiveTestCount></counter-bar>\n    </td>\n  </tr>\n  <tr ng-if=showAverage>\n    <td><h6>Total:</h6> {{campaigns.length}}</td>\n    <td></td>\n    <td ng-if=showDevice></td>\n    <td></td>\n    <td><h6>Mean:</h6><execution-rate-bar value=average.executionRate></execution-rate-bar></td>\n    <td><h6>Mean:</h6><pass-rate-bar value=average.passRate></pass-rate-bar></td>\n    <td><h6>Mean:</h6>{{average.duration| customDuration}}</td>\n    <td></td>\n    <td></td>\n    <td><h6 class=pull-right>Mean:</h6><counter-bar counter=average.effectives.toFixed(1) max=maxEffectiveTestCount></counter-bar></td>\n  </tr>\n</table>'),a.put("app/oneandroid/explorer-feed.html",'<div class="panel panel-info" ng-if=isDisplayed()>\n  <div class=panel-heading>\n    <h3><span class=intelicon-child></span> {{branch}} / {{targetProduct}}</h3>\n  </div>\n  <div class=panel-body>\n    <button class="btn btn-default btn-sm pull-right" ng-click=openNewReport() has-permission=permissions.buildReport.EDIT>Create</button>\n    <h4>{{selectedType}} Reports</h4>\n  </div>\n  <div class=form-group>\n    <label class=control-label>Type</label><small class=text-muted> (Choice report type, default is \'weekly\')</small>\n    <div>\n      <select ng-init="selectedType = types[1]" ng-model=selectedType ng-change=change(selectedType) ng-options="i for i in types"></select>\n    </div>\n  </div>\n  <div>\n    <div class=list-group>\n      <a ng-repeat="report in weeklyReports" ui-sref="home.build.report.campaigns({reportType:report.type, reportId:report.key})" class=list-group-item>\n        <span class="pull-right text-muted">{{report.creation|date}}</span>\n        <strong>{{report.name}}</strong>\n        <report-section-tag ng-repeat="section in report.sectionKeys.sort()" section=section></report-section-tag>\n      </a>\n    </div>\n    <div class=pull-right ng-show="paging.totalCount > paging.limit">\n      <pagination-bar limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n    </div>\n    <div class=panel-body>\n      <loading-indicator promise=reportsPromise>\n        <div ng-if="weeklyReports.length === 0">\n          No weekly report for this project. <a href="" ng-click=openNewReport() has-permission=permissions.buildReport.EDIT>Create one</a>\n        </div>\n      </loading-indicator>\n    </div>\n  </div>\n</div>'),a.put("app/oneandroid/explorer-filters.html",'<div class="page-header page-header-block cr-catch-primary">\n<h2><span class="glyphicon glyphicon-search"></span> Builds</h2>\n</div>\n<faceted-navigation facets=facets></faceted-navigation>'),a.put("app/oneandroid/explorer-reports-filters.html","<faceted-navigation facets=facets></faceted-navigation>"),a.put("app/oneandroid/explorer-reports.html",'<div class=page-header>\n  <h2>Build Reports\n    <button class="btn btn-default pull-right" has-permission=permissions.buildReport.EDIT ng-click=createReport()>Create</button>\n  </h2>\n  <team-filter team=team namespace=report></team-filter>\n</div>\n\n<form ng-submit=submitSearch()>\n  <div class=input-group>\n    <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n    <input class=form-control placeholder="report name" ng-model=quickFilter ng-enauto-focus>\n  </div>\n</form>\n<facet-selection></facet-selection>\n\n<div class="row cr-section">\n  <div class=col-md-12>\n    <div ng-repeat="week in keys" ng-show="!loading && keys">\n       <div class="cr-timeline-event cr-timeline-event-info">\n        <h4>{{week}}</h4>\n      </div>\n      <div class=cr-timeline-list>\n        <div class="row cr-search cr-search-viewport no-gutter">\n          <div class=list-group>\n            <div ng-repeat="report in weeks[week] | orderBy : \'-creation\'">\n              <a class=list-group-item ui-sref="home.build.report.campaigns({reportType:report.type, reportId: report.id})">\n                <report-summary report=report></report-summary>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-show="!loading && keys.length == 0" class="cr-blankslate cr-blankslate-spacious">\n      <h3>No build reports found</h3>\n      <p>Please change your query, or create a new build report.</p>\n    </div>\n    <loading-indicator ng-show=loading></loading-indicator>\n    <div class=pull-right ng-show="paging.totalCount > paging.limit">\n      <pagination-bar limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n    </div>\n  </div>\n</div>'),a.put("app/oneandroid/explorer.html",'<facet-selection></facet-selection>\n\n<form ng-submit=submitSearch()>\n  <div class=input-group>\n    <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n    <input class=form-control placeholder="campaign name, type, domain, buildId" ng-model=quickFilter ng-enauto-focus>\n  </div>\n</form>\n\n<div class="row cr-section">\n  <div class=col-md-9>\n    <div ng-repeat="build in results">\n      <div class="cr-timeline-event cr-timeline-event-info">\n        <span ng-if=build.tag>{{::build.tag.name}}</span> \n        <small>({{build.buildId}})</small> \n        <small class=text-muted>{{::build.date|date}}</small>\n      </div>\n      <div class=cr-timeline-list>\n        <div ng-repeat="targetProduct in build.targetProducts" class="panel panel-default">\n          <div class=panel-heading>\n            <h4 class=panel-title>\n              <strong>\n                <a ui-sref="home.build.report.campaigns({reportId:build.buildId, targetProduct:targetProduct.name})">\n                  {{::targetProduct.name}}\n                </a>\n              </strong>\n            </h4>\n          </div>\n          <campaign-list campaigns=targetProduct.campaigns></campaign-list>\n        </div>\n      </div>\n    </div>\n    <loading-indicator promise=resultPromise>\n      <p ng-if="results.length === 0" class=lead>No results found</p>\n      <button type=button ng-if=hasMore class="btn btn-info" ng-click=getMore()>View More</button>\n    </loading-indicator>    \n  </div>\n  <div class=col-md-3>\n    <div ui-view=feed></div>\n  </div>\n</div>'),a.put("app/oneandroid/mtbf-racks-list.html",'<h4>Devices to associate to racks</h4>\n<div class=row>\n  <ul ui-sortable ng-model=otherDevices class=cr-drop-zone>\n    <li ng-repeat="device in otherDevices" class="cr-card cr-drag-pill">{{device}}</li>\n  </ul>\n</div>\n<h4>Current associations</h4>\n<div class=row>\n  <div ng-repeat="rack in racks" class=col-md-6>\n    <h4>Rack n{{$index}}</h4>\n    <ul ui-sortable=sortableOptions ng-model=rack class=cr-drop-zone>\n      <li ng-repeat="device in rack" class="cr-card cr-drag-pill">{{device}}</li>\n    </ul>\n  </div>\n  <div class=col-md-6>\n    <ul ui-sortable=sortableOptions ng-model=newRack class=cr-drop-zone></ul>\n  </div>\n</div>'),a.put("app/oneandroid/rack-list.html",'<div class=panel-heading>\n  <h4 class=panel-title>{{label}}\n  <span class="pull-right no-wrap">\n    <span class="glyphicon glyphicon-cog cursor-pointer" ng-click=openRackSetting(rackGroup)></span>\n  </span>\n  </h4>\n</div>\n<div class=list-group>\n  <div class=list-group-item>\n    <div class="row no-gutter">\n      <div class=col-md-4>\n        Benches\n      </div>\n      <div class=col-md-1>\n        Device (SSN)\n      </div>\n      <div class=col-md-1>\n        Build\n      </div>\n      <div class="col-md-1 text-center">\n        MTBF status\n      </div>\n      <div class=col-md-1>\n        <center>Execution Rate</center>\n      </div>\n      <div class=col-md-1>\n        <center>Pass Rate</center>\n      </div>\n      <div class="col-md-1 text-center">\n        Number of crashes\n      </div>\n      <div class="col-md-1 text-center">\n        Certified\n      </div>\n      <div class=col-md-1>\n        RTFF\n      </div>\n    </div>\n  </div>\n</div>\n<div class=list-group>\n  <span ng-repeat="rack in rackGroup.campaignRacks">\n    <div ng-repeat="campaign in rack.campaigns" class=list-group-item>\n      <div class="row no-gutter">\n        <div class=col-md-4>\n          <div class="cr-circle cr-circle-sm pull-left cr-circle-{{campaign.types[0]|lowercase}}">\n            {{campaign.types[0][0] | isBlank:\'C\'}}\n          </div>\n          <a href=#/campaigns/{{campaign.id}}/detail tooltip="Open campaign {{campaign.name}}" target=_blank>{{campaign.bench.name}}</a>&nbsp;<cr-status input=campaign.status></cr-status>\n           <small>\n  \t\t\t\t\t\t<button tooltip="View Comments" class="btn btn-default btn-xs" target=_self ng-click=showComments(campaign)>\n    \t\t\t\t\t\t<span class="glyphicon glyphicon-comment" ng-modal=campaign._meta.nbComments></span> {{campaign._meta.nbComments}}\n \t\t\t\t\t\t \t</button>\n\t\t\t\t\t</small>\n\n\n          <small ng-if="campaign.lastTest.testCase && campaign.status===\'RUNNING\'" class=text-muted>\n            <strong><a ui-sref=test.detail({testId:campaign.lastTest.id})>{{campaign.lastTest.testCase}}</a></strong>\n          </small>\n\n          <div ng-if=campaign.startTime>\n            <span class="glyphicon glyphicon-time"></span>\n            {{campaign.startTime || \'-\' | crdate}}\n            <span ng-if="campaign.startTime && !campaign.stopTime" class="text-muted small"> (started <span am-time-ago=campaign.startTime></span><span ng-if=campaign.duration>, duration: {{campaign.duration | customDuration}}</span>)</span>\n            <span ng-if=campaign.stopTime>\n              <span class=text-muted> to </span>\n              {{campaign.stopTime | crdate}}\n              <span ng-if=campaign.stopTime class="text-muted small"> (ended <span am-time-ago=campaign.stopTime></span><span ng-if=campaign.duration>, duration: {{campaign.duration | customDuration}}</span>)</span>\n            </span>\n          </div>\n        </div>\n        <div class=col-md-1>\n          <device-link device=campaign.device tooltip-text="deviceId: {{campaign.device.deviceId}}" style="word-wrap: break-word">{{campaign.device.ssn}}</device-link>\n        </div>\n         <div class=col-md-1>\n           <div ng-if=campaign.build.targetProduct><a ui-sref="home.build.report.campaigns({reportId: campaign.build.buildId,targetProduct: campaign.build.targetProduct,reportType: \'preview\'})">{{campaign.build.buildId}}</a></div>\n          <div ng-if=!campaign.build.targetProduct><span>{{campaign.build.buildId}}</span></div>\n        </div>\n        <div class="col-md-1 text-center">\n          <cr-boolean true=OK false=KO input=!campaign.rtffData.failure></cr-boolean>\n        </div>\n        <div class=col-md-1>\n          <execution-rate-bar value=campaign._meta.rates.executionRate tooltip-message="Execution rate: {{campaign._meta.rates.status.COMPLETED + \' / \' + campaign._meta.rates.effectives}}" ng-if=campaign._meta.rates></execution-rate-bar>\n        </div>\n        <div class=col-md-1>\n          <pass-rate-bar red-on-zero="campaign._meta.rates.status.COMPLETED > 0" value=campaign._meta.rates.passRate ng-if=campaign._meta.rates></pass-rate-bar>\n        </div>\n        <div class="col-md-1 text-center">\n          <crashes-link entity=campaign type=campaign params="{campaignId: campaign.id}"></crashes-link>\n        </div>\n        <div class="col-md-1 text-center" ng-if=campaign.certification>\n          Yes\n        </div>\n        <div class="col-md-1 text-center" ng-if=!campaign.certification>\n          No\n        </div>\n        <div class=col-md-1>\n          {{campaign.rtffData.value | MTBFDuration}}\n        </div>\n      </div>\n    </div>\n  </span>\n</div>\n<div class=list-group>\n  <div class=list-group-item>\n    <div class="row no-gutter">\n      <div class=col-md-1 ng-if="rackGroup.mtbf !== undefined">\n        <h6>MTBF:</h6> {{ rackGroup.mtbf | MTBFDuration}}\n      </div>\n      <div class=col-md-1>\n        <div ng-if="rackGroup.displayMTTF && rackGroup.mttf !== undefined">\n          <h6>MTTF:</h6> {{ rackGroup.mttf | MTBFDuration}}\n        </div>\n      </div>\n      <div class="col-md-1 col-md-offset-5" ng-if="rackGroup.executionRate !== undefined">\n        <h6>Mean: </h6>\n        <execution-rate-bar value=rackGroup.executionRate tooltip-message="Mean rack execution rate"></execution-rate-bar>\n      </div>\n      <div class=col-md-1 ng-if="rackGroup.passRate !== undefined">\n        <h6>Mean: </h6>\n        <pass-rate-bar value=rackGroup.passRate></pass-rate-bar>\n      </div>\n      <div class="col-md-1 text-center" ng-if="rackGroup.rackCrashes !== undefined">\n        <h6>Total: </h6>\n        <span class="glyphicon glyphicon-flash"></span> {{rackGroup.criticalCrashes}} / {{rackGroup.rackCrashes}}\n      </div>\n      <div class="col-md-1 col-md-offset-1" ng-if=rackGroup.threshold.enable>\n        <h4><span class="label label-info">Valid Range:</span></h4>\n        {{rackGroup.threshold.low | MTBFDuration}} ~ {{rackGroup.threshold.high | MTBFDuration}}\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/oneandroid/rack-organisation-modal.html",'<div class=modal-header>\n  <h3>Organize test racks</h3>\n</div>\n<div class=modal-body>\n  <h4>Device (SSN)/bench to associate to racks</h4>\n  <div class=row>\n    <ul ui-sortable=sortableOptions ng-model=devices class=cr-drop-zone>\n      <li ng-repeat="device in devices" class="cr-card cr-drag-pill">\n        <div>\n          <span class="icomoon icon-tablet"></span> {{device.ssn}}\n        </div>\n        <div>\n          <span class="icomoon icon-database"></span> {{device.benchName}}\n        </div>\n      </li>\n    </ul>\n  </div>\n  <h4>Current associations</h4>\n  <div class=row ng-repeat="rack in rackDevices" ng-if=$even>\n    <div class=col-md-6>\n      <h4>Rack n{{$index}}</h4>\n      <ul ui-sortable=sortableOptions ng-model=rack class=cr-drop-zone>\n        <li ng-repeat="device in rack" class="cr-card cr-drag-pill">\n          <div>\n            <span class="icomoon icon-tablet"></span> {{device.ssn}}\n          </div>\n          <div>\n            <span class="icomoon icon-database"></span> {{device.benchName}}\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=col-md-6 ng-if=rackDevices[$index+1]>\n      <h4>Rack n{{$index+1}}</h4>\n      <ul ui-sortable=sortableOptions ng-model=rackDevices[$index+1] class=cr-drop-zone>\n        <li ng-repeat="device in rackDevices[$index+1]" class="cr-card cr-drag-pill">\n          <div>\n            <span class="icomoon icon-tablet"></span> {{device.ssn}}\n          </div>\n          <div>\n            <span class="icomoon icon-database"></span> {{device.benchName}}\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=col-md-6 ng-if="$last && !rackDevices[$index+1]">\n      <h4>New rack</h4>\n      <ul ui-sortable=sortableOptions ng-model=newRack class=cr-drop-zone>\n        <i class="glyphicon glyphicon-plus cr-drop-zone-icon"></i>\n        <li ng-repeat="device in newRack" class="cr-card cr-drag-pill">\n          <div>\n            <span class="icomoon icon-tablet"></span> {{device.ssn}}\n          </div>\n          <div>\n            <span class="icomoon icon-database"></span> {{device.benchName}}\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class=row ng-if="rackDevices.length % 2 == 0">\n    <div class=col-md-6>\n      <h4>New rack</h4>\n      <ul ui-sortable=sortableOptions ng-model=newRack class=cr-drop-zone>\n        <i class="glyphicon glyphicon-plus cr-drop-zone-icon"></i>\n        <li ng-repeat="device in newRack" class="cr-card cr-drag-pill">\n          <div>\n            <span class="icomoon icon-tablet"></span> {{device.ssn}}\n          </div>\n          <div>\n            <span class="icomoon icon-database"></span> {{device.benchName}}\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Confirm</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),
a.put("app/oneandroid/rack-setting-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Rack Setting</h3>\n</div>\n<div class="cr-steps-modal-step-header cr-catch-primary">\n  <h4>Threshold settings</h4>\n  <span class=text-muted>Add max/min threshold of RTFF in MTBF computation</span>\n</div>\n<div class="modal-body cr-modal-body-overflow">\n  <div class=form-group>\n    <label>Enable/Disable</label>\n    <div class=checkbox>\n      <input type=checkbox ng-model=setting.threshold.enable> Enable threshold \n    </div>\n  </div>\n\n  <div class=form-group>\n    <label class=form-control-label>Max Threshold</label>\n    <div>\n      <input ng-model=setting.threshold.high ng-hide="true">\n      <duration-picker ng-model=setting.threshold.high ng-enable=setting.threshold.enable></duration-picker>\n      <div class=text-danger ng-show=highInvalid text-left><span class="glyphicon glyphicon-warning-sign warning"> {{message}}</div>\n    </div>\n    <span class=help-block>if <em>RTFF &gt max_threshold</em>; then <em>RTFF = max_threshold</em> </span>\n  </div>\n\n  <div class=form-group>\n    <label class=form-control-label>Min Threshold</label>\n    <div>\n      <input ng-model=setting.threshold.low ng-hide="true">\n      <duration-picker ng-model=setting.threshold.low ng-enable=setting.threshold.enable></duration-picker>\n      <div class=text-danger ng-show=lowInvalid text-left><span class="glyphicon glyphicon-warning-sign warning"> {{message}}</div>\n    </div>\n    <span class=help-block>if <em>RTFF &lt min_threshold</em>; then <em>RTFF = 0</em></span>\n  </div>\n</div>\n<div class="cr-steps-modal-step-header cr-catch-primary">\n  <h4>Display settings</h4>\n  <span class=text-muted>Rack Display Options</span>\n</div>\n<div class="modal-body cr-modal-body-overflow">\n  <div class=form-group>\n    <label>Hide/Show MTTF Value</label>\n    <div class=checkbox>\n      <input type=checkbox ng-model=setting.displayMTTF> Display MTTF\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=invalid>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/projects/project-data-panel.html",'<div class="panel panel-default">\n  <div class=panel-heading>\n    <h3 class=panel-title>\n      <div class="pull-right btn-group" ng-show=canEdit>\n        <button class="btn btn-default btn-xs" ng-show=!edit ng-click="edit = true">Edit</button>\n        <button class="btn btn-danger btn-xs" ng-show=edit ng-click=remove() ng-disabled=!count>Remove ({{count}})</button>\n        <button class="btn btn-default btn-xs" ng-show=edit ng-click=cancel()>Cancel</button>\n      </div>\n      <span ng-if=!paging.enable>{{items.length}}</span>\n      <span ng-if=paging.enable>\n        {{paging.offset + 1}} ~\n        {{paging.offset + paging.limit > paging.totalCount? paging.totalCount: paging.offset + paging.limit}} of {{paging.totalCount}}\n      </span>\n      {{title}}\n    </h3>\n  </div>\n  <div class=panel-body>\n    <div class=list-group>\n      <div class=list-group-item ng-repeat="item in items">\n        <div class=media>\n          <div class=media-left ng-show=edit>\n            <a href="" ng-click=select(item)>\n              <div ng-if=item.selected><span class="glyphicon glyphicon-remove-sign text-danger cr-icon-lg"></span></div>\n              <div ng-if=!item.selected><span class="glyphicon glyphicon-remove-sign text-muted cr-icon-lg"></span></div>\n            </a>\n          </div>\n          <div class=media-body inject></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=panel-footer>\n      <pagination-bar ng-if=paging.enable limit=paging.limit total=paging.totalCount ng-model="paging.offset">\n  </div>\n</div>'),a.put("app/projects/project-detail-campaign.html",'<div class="panel panel-default">\n  <div class=btn-group>\n    <button class="btn btn-primary btn-xs" title="Choose at least 2 build reports to compare" style="pointer-events: auto" ng-disabled="selection.length < 2" ng-click=openCompare()>\n       <span class="glyphicon glyphicon-duplicate"></span> Compare\n    </button>\n\n  </div>\n  <history-trend-chart data=data selection=selection></history-trend-chart>\n</div>\n\n\n<project-data-panel items=campaigns title="Campaign in project" paging=paging can-edit=canEdit on-remove=removeCampaign()>\n  <campaign-summary campaign=item></campaign-summary>\n</project-data-panel>'),a.put("app/projects/project-detail-cts.html",'<div class="panel panel-default">\n  <div class=btn-group>\n    <dropdown-selector title=ABI choices=abis ng-model=abi btn-class="btn-default btn-xs"></dropdown-selector>\n    <dropdown-selector title=Module choices=modules ng-model=module search=true btn-class="btn-default btn-xs"></dropdown-selector>\n  </div>\n  <history-trend-chart data=data selection=selection></history-trend-chart>\n</div>\n\n<project-data-panel items=campaigns title="Campaign in project" paging=paging can-edit=canEdit on-remove=removeCts()>\n  <campaign-summary campaign=item></campaign-summary>\n</project-data-panel>'),a.put("app/projects/project-detail-layout.html",'<div class=row id=content>\n  <div class="col-md-10 col-md-offset-1">\n    <div class=page-header>\n      <small class=text-muted>{{project.creation|date}}</small>\n\n      <nav class="navbar cr-navbar pull-right" style="text-align: right; margin-top: 1em">\n          <div class=btn-group>\n            <share-users security-entity=project after-people-selected=addSharePeople after-privacy-selected="selectPrivacy">\n          </div>\n          <br>\n          <div class=btn-group style="display: block; margin-top: 1em">\n            <dropdown-selector title=View choices=types ng-model=type btn-class=btn-default without-all=true></dropdown-selector>\n          </div>\n\n      </nav>\n\n      <h2><strong>{{project.name}}</strong> <small class=text-muted>Project</small></h2>\n\n      <span class=lead>\n        <span>{{project.description}}</span>\n      </span>\n    </div>\n\n    <div ui-view=content ng-if=canSee></div>\n    <div ng-if=!canSee>\n      <h1>This is a private project,you don\'t have permission to see this project, please ask owner to share this project to you. </h1>\n    </div>\n    <div ng-if="activities.length > 0">\n      <h4>Activities</h4>\n      <activity-timeline>\n        <activity-flow activities=activities></activity-flow>\n      </activity-timeline>\n    </div>\n  </div>\n</div>'),a.put("app/projects/project-detail-report.html",'<div class="panel panel-default">\n  <div class=btn-group>\n    <button class="btn btn-primary btn-xs" title="Choose at least 2 build reports to compare" style="pointer-events: auto" ng-disabled="selection.length < 2" ng-click=openCompare()>\n     <span class="glyphicon glyphicon-duplicate"></span> Compare\n    </button>\n\n    <dropdown-selector title=Domain choices=domains ng-model=domain btn-class="btn-default btn-xs"></dropdown-selector>\n  </div>\n  <history-trend-chart data=data selection=selection></history-trend-chart>\n</div>\n\n<project-data-panel items=buildReports title="Build Reports" can-edit=canEdit paging=paging on-remove=removeReport()>\n  <report-summary report=item></report-summary>\n</project-data-panel>'),a.put("app/projects/project-edition-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Create a Project</h3>\n</div>\n<div class=modal-body>\n  <form name=editForm>\n    <div class=form-group>\n      <label for=name>Name</label>\n      <input class=form-control id=name placeholder=Name ng-model=name required>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Description</label>\n      <input class=form-control id=name placeholder=Description ng-model=description required>\n    </div>\n\n    <div class=form-group>\n      <label for=name>Sections </label><small class=text-muted> (Please select at least 1 section)</small>\n      <div class=checkbox ng-repeat="section in choices" ng-class="{\'text-info\': section.selected}">\n        <label><input type=checkbox ng-model=section.selected ng-change=selectionChange()> {{section.name}}</label>\n      </div>\n    </div> \n  </form>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-disabled="!editForm.$valid|| selected.length === 0" ng-click=create()>Create</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/projects/project-explorer.html",'<div class=row id=content>\n  <div class="col-md-10 col-md-offset-1">\n    <div class=page-header>\n      <h2>Projects\n        <button class="btn btn-default pull-right" ng-click=createProject()>Create</button>\n      </h2>\n    </div>\n\n    <form ng-submit=submitSearch()>\n      <div class=input-group>\n        <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n        <input class=form-control placeholder="project name" ng-model=quickFilter ng-enauto-focus>\n      </div>\n    </form>\n\n    <div class="row cr-section">\n      <div class=col-md-12>\n        <div class=cr-timeline-list>\n            <div class=list-group>\n              <div ng-repeat="project in results | orderBy : \'-creation\'">\n                <a class=list-group-item ui-sref="home.projects.detail({id: project.id})">\n                  <project-summary project=project></project-summary>\n                </a>\n              </div>\n            </div>\n        </div>\n        <div ng-show="!loading && results.length == 0" class="cr-blankslate cr-blankslate-spacious">\n          <h3>No build projects found</h3>\n          <p>Please change your query, or create a new projects.</p>\n        </div>\n        <loading-indicator ng-show=loading></loading-indicator>\n        <div class=pull-right ng-show="paging.totalCount > paging.limit">\n          <pagination-bar limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/projects/report-add-to-project-modal.html","<div class=modal-header>\n  <h3 class=modal-title>Add Build Report to Project</h3>\n  <div class=text-muted>\n    The report {{report.name}} \n    <ng-pluralize count=report.projects.length when=\"{'0': ' has no project yet',\n              '1': ' already contains 1 project',\n              'other': ' already contains {} projects'}\">\n    </ng-pluralize>\n    and {{alreadyPresentCount}} are coming from this page\n  </div>\n</div>\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No project selected',\n              '1': '{} project to be added',\n              'other': '{} projects to be added'}\">\n    </ng-pluralize>\n  </p>\n</div>\n<div class=\"modal-body cr-modal-body-overflow\">\n  <project-picker selection=selected query=query projects=projects></project-picker>\n</div>\n<div class=modal-footer>\n"+'  <button class="btn btn-primary" ng-click=ok() ng-disabled="selected.length === 0">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/quality-reporting/hpalm-testcase-selector-modal.html",'<div class=container-fluid>\n  <div class=row>\n    <div class=col-md-12>\n      <h1>Add test cases for campaign {{campaign.name}}</h1>\n\n      <qr-testset-select qr-info=qrInfo></qr-testset-select>\n      <div class=cr-progress-thin ng-show=true>\n        <strong class=lead>{{progressValue| number :2}}%</strong>\n        <progressbar animate=false value=progressValue></progressbar>\n      </div>\n      <button type=button class="btn btn-primary" ng-click=import()>\n        <span class="glyphicon glyphicon-import"></span> Import\n      </button>\n      <button type=button class="btn btn-primary" ng-click=cancel()>\n        <span class="glyphicon glyphicon-eye-close"></span> Close\n      </button>\n\n    </div>\n  </div>\n</div>'),a.put("app/quality-reporting/import-done-modal.html",'<div class=modal-body>\n  <div class=row>\n    <div class=col-md-3>\n      <span class="glyphicon glyphicon-ok-sign text-success lead"></span>\n    </div>\n    <div class=col-md-9>\n      <p>\n        Your tests upload to HP ALM is on going and you will receive an email when done.\n        You can start exploring your test campaign or import a new one.\n      </p>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok()>See campaign</button>\n  <button class="btn btn-primary" ng-click=ok()>Import another</button>\n</div>'),a.put("app/quality-reporting/qr-import.html",'<div class=container-fluid>\n  <div class=row>\n    <div class=col-md-12>\n      <h1>Import from HP-ALM Testset</h1>\n\n      <alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>\n        {{alert.msg}} <a ng-show=alert.link href={{alert.link.url}} target=_blank>{{alert.link.label}}</a>\n        <br>\n        <button type=button class="btn btn-link" ng-show=alert.button ng-click=alert.button.doIt()><span class=glyphicon ng-class=alert.button.glyph></span> {{alert.button.label}}\n        </button>\n      </alert>\n\n      <form>\n        <div class=cr-stepper>\n          <step title="Login HP-ALM and choose Testset" sign-label=1 active=true>\n            <qr-testset-select qr-info=qrInfo></qr-testset-select>\n            <button type=button class="btn btn-primary" ng-disabled=qrImported ng-click=importFromQr(qrInfo) ng-show=qrInfo.folder>Import Testset</button>\n          </step>\n\n          <step title="Verify the data" sign-label=2 active=qrImported>\n            <div>\n              <div ng-if=!tests.length>Select a Testset and import</div>\n               <tests-editor ng-model=tests ng-if="tests.length > 0" ng-disabled="!qrImported || isImportInProgress()" checked-tests=checkedTests></tests-editor>\n            </div>\n          </step>\n\n          <step title="Define the test campaign" sign-label=3 active=qrImported>\n            <define-campaign ng-model=campaign ng-disabled="!qrImported || isImportInProgress()"></define-campaign>\n          </step>\n\n          <step title="Choose a build" sign-label=4 active=qrImported>\n            <choose-build ng-model=build ng-disabled="!qrImported || isImportInProgress()"></choose-build>\n          </step>\n        </div>\n\n        <div class=cr-progress-thin ng-show=isImportInProgress()>\n          <strong class=lead>{{progressValue| number :2}}%</strong>\n          <progressbar animate=false value=progressValue></progressbar>\n        </div>\n        <button type=button class="btn btn-primary" ng-disabled="campaign.name === \'\'\n            || build.buildId === undefined || build.targetProduct === undefined  || build.targetDevice === undefined\n            || checkedTests.length === 0 || isImportInProgress()" ng-click=doImport()>\n          <span class="glyphicon glyphicon-cloud-upload"></span> Import checked test cases\n        </button>\n      </form>\n    </div>\n  </div>\n</div>'),a.put("app/quality-reporting/qr-testset-select.directive.html",'<div>\n  <form novalidate>\n    <div class=row>\n      <div class=col-md-6>\n        <div class=form-group>\n          <label class=control-label for=instance>Instance</label>\n          <div class=dropdown>\n              <button class="btn btn-default dropdown-toggle" tracker=button id=instance data-toggle=dropdown aria-haspopup=true aria-expanded=true>\n                  {{qrInfo.label}}\n                  <span class=caret></span>\n              </button>\n              <ul class=dropdown-menu aria-labelledby=instance>\n                  <li ng-repeat="inst in instances">\n                      <a href="" ng-click=setInstance(inst);>{{inst.address}}</a>\n                  </li>\n              </ul>\n          </div>\n        </div>\n\n        <div class=form-group ng-class="{\'has-error\' : loginError}">\n          <label class=control-label for=username>Username</label>\n          <input class=form-control id=username placeholder="Your username" ng-model=username name=hp_alm_username ng-change=resetLogin() ng-enter=login()>\n        </div>\n        <div class=form-group ng-class="{\'has-error\' : loginError}">\n          <label class=control-label for=password>Password</label>\n          <input class=form-control id=password type=password placeholder=Password ng-model=password name=hp_alm_password ng-change=resetLogin() ng-enter=login()>\n          <div ng-if="logged  === false && loginError === true" class=help-block>Wrong username and/or password</div>\n\n        </div>\n        <div class=form-group>\n            <button class="btn btn-primary" ng-click=login()>Login</button>\n        </div>\n      </div>\n      <div class=col-md-6>\n        <div class=form-group collapse="!logged && !logging">\n\n          <label class=control-label for=domain>Domain</label>\n          <div class=row>\n            <loading-indicator class=col-md-1 ng-if="(qrInfo.domain === \'\' && logging )" class=float-left></loading-indicator>\n          </div>\n          <div class=dropdown ng-if="qrInfo.domain !== \'\'">\n            <button class="btn btn-default dropdown-toggle" tracker=button id=domain data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled="!logged ">\n                {{qrInfo.domain}}\n                <span class=caret></span>\n            </button>\n            <ul class=dropdown-menu aria-labelledby=domain>\n                <li ng-repeat="domain in domains">\n                    <a href="" ng-click=selectDomain(domain)>{{domain}}</a>\n                </li>\n            </ul>\n          </div>\n        </div>\n\n        <div collapse="!logged " class=form-group>\n          <label class=control-label for=project>Project</label>\n          <div class=row>\n            <loading-indicator class=col-md-1 ng-if="qrInfo.project === \'\' && logged" class=float-left></loading-indicator>\n          </div>\n          <div class=dropdown ng-if="qrInfo.project !== \'\'">\n            <button class="btn btn-default dropdown-toggle" tracker=button id=project data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled="!logged ">\n                {{qrInfo.project}}\n                <span class=caret></span>\n            </button>\n            <ul class=dropdown-menu aria-labelledby=project>\n                <li ng-repeat="proj in projects">\n                    <a href="" ng-click=selectProject(proj)>{{proj}}</a>\n                </li>\n            </ul>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <div class=row>\n      <div class=col-md-12>\n        <div class=form-group ng-hide="!logged  || qrInfo.project === \'\' " ng-class="{\'has-error\' : testSetPathError}">\n\n          <label>Full path: </label>\n          <span ng-if=currentSelectPath>{{currentSelectPath}}</span>\n          <span ng-if=!currentSelectPath class=text-muted>Select one <span ng-if=!folder>TestSet</span><span ng-if=folder>Folder</span></span>\n\n          <div class=cr-tree-container>\n            <treecontrol class=tree-classic tree-model=testSetPathTreeData options=testSetPathTreeOptions on-selection="selectTestSet(node, selected, $path)" on-node-toggle="testSetPathTreeExpandFolder(node, expanded, $path)" selected-node=node1>\n              {{node.name}} <span ng-if=node.loading>...</span>\n\n            </treecontrol>\n            <loading-indicator class=col-md-1 ng-if=testSetTreeLoading></loading-indicator>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>'),a.put("app/quality-reporting/qr-upload-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Upload to HP-ALM</h3>\n</div>\n<div class="modal-header cr-catch-primary">\n  <div class=row>\n    <div class=col-md-offset-4>\n      <indicator name="campaign._meta.nbTests + \'Tests\'" value=campaign.name icon-class="glyphicon glyphicon-export"></indicator>\n    </div>\n  </div>\n</div>\n<div class=modal-body>\n  <qr-testset-select qr-info=qrInfo></qr-testset-select>\n  <div ng-show=qrInfo.folder>\n    <input type=checkbox ng-model="qrInfo.extend"> <span class=text-muted>Create Instance If Test is not found in TestSet</span>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-disabled="qrInfo.folder === \'\'" ng-click=upload()>Upload</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/quality-reporting/qr-upload-report-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Upload to HP-ALM</h3>\n</div>\n<div class=modal-body>\n  <div class=cr-stepper>\n    <step title="Login HP-ALM and choose a Folder" sign-label=1 active=true>\n      <qr-testset-select qr-info=qrInfo folder></qr-testset-select>\n      <button class="btn btn-primary" ng-click=chooseFolder() ng-show=qrInfo.folder ng-disabled="step > 0">Choose Folder</button>\n    </step>\n    <step title=Verify sign-label=2 active="step >= 1">\n      <form class=form-inline>\n        <div class=input-group>\n          <div class=input-group-addon>Prefix</div>\n          <input class=form-control ng-model=prefix ng-disabled="step === 0" placeholder="TestSet prefix if have">\n        </div>\n        <button class="btn btn-primary" type=submit ng-disabled="step === 0" ng-click=verify(prefix)>Verify</button>\n      </form>\n      <loading-indicator ng-if="step === 2"></loading-indicator>\n      <table class="table table-hover table-striped" ng-show="step >= 3">\n        <tr>\n          <th></th>\n          <th>Item</th>\n          <th>Folder</th>\n          <th>TestSet</th>\n          <th>Status</th>\n        </tr>\n        <tr ng-repeat="item in info.uploads">\n          <td><input type=checkbox ng-model=item.selected ng-disabled=item.error ng-change="itemSelected()"></td>\n          <td><strong>{{item.title}}</strong></td>\n          <td>{{item.folder}}</td>\n          <td>{{item.testSet}}</td>\n          <td>\n            <strong>\n              <span ng-if=!item.error class=text-success><span class="glyphicon glyphicon-ok"></span> OK</span>\n              <span ng-if=item.error class=text-danger><span class="glyphicon glyphicon-remove"></span> {{item.error}}</span>\n            </strong>\n          </td>\n        </tr>\n      </table>\n        <input type=checkbox ng-model="qrInfo.extend"> <span class=text-muted>Create Instance If Test is not found in TestSet</span>\n    </step>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-disabled="step < 4" ng-click=upload()>Upload</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/quality-reporting/quality-reporting.html",'<div class="container-fluid cr-page">\n  <div class=page-header>\n    <h1>Quality Reporting Import</h1>\n    <p>Import your CSV file to HP-ALM</p>\n  </div>\n  <div class=row>\n    <div class="col-md-4 col-sm-12">\n      <form class=cr-section novalidate>\n        <div class=cr-stepper>\n\n          \n          <step title="Select a file" sign-label=1 active=true>\n            <div class=form-group>\n              <input type=file id=testsFile file-change=handleFile accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">\n              <div class=help-block>\n                Select a file in the <a title="View expected CSV format" target=_blank href=https://wiki.ith.intel.com/display/DRD/HP-ALM+CSV+file+format>csv format</a>\n                \n              </div>\n            </div>\n            <fieldset ng-disabled=!qrInfo.file>\n              <div class=form-group>\n                <label class=control-label for=separator>CSV Separator ({{qrInfo.separator|isBlank:\'Please select one\'}})</label>\n                <div class=form-inline>\n                  <label class=radio-inline>\n                    <input type=radio name=separatorOptions ng-model=qrInfo.separatorType value=semicolon ng-change="qrInfo.separator = \';\'"> Semicolon\n                  </label>\n                  <label class=radio-inline>\n                    <input type=radio name=separatorOptions ng-model=qrInfo.separatorType value=comma ng-change="qrInfo.separator = \',\'"> Comma\n                  </label>\n                  <div class=input-group>\n                    <span class=input-group-addon>\n                      <input type=radio name=separatorOptions ng-model=qrInfo.separatorType value=custom ng-change="qrInfo.separator = qrInfo.customSeparator">\n                    </span>\n                    <input class=form-control placeholder="enter a CSV separator" ng-model=qrInfo.customSeparator name=separator ng-click="qrInfo.separatorType = \'custom\'; qrInfo.separator = qrInfo.customSeparator;" ng-change="qrInfo.separator = qrInfo.customSeparator">\n                  </div>\n                </div>\n              </div>\n              <div class=form-group>\n                <label class=control-label for=campaignName>Campaign Name</label>\n                <input class=form-control id=campaignName placeholder="Campaign that will contain the imported tests" ng-model=qrInfo.campaignName name=campaignName>\n              </div>\n            </fieldset>\n          </step>\n\n          \n          <step title="Log to HP-ALM" sign-label=2 active="qrInfo.separator && qrInfo.file && qrInfo.campaignName">\n            <fieldset ng-disabled="!qrInfo.campaignName || !qrInfo.file || !qrInfo.separator">\n              <div class=form-group>\n                <label class=control-label for=instance>Instance</label>\n                <div class=dropdown>\n                  <button class="btn btn-default dropdown-toggle" tracker=button id=instance data-toggle=dropdown>\n                      {{qrInfo.label}}\n                      <span class=caret></span>\n                  </button>\n                  <ul class=dropdown-menu>\n                    <li ng-repeat="inst in instances">\n                      <a href="" ng-click=changeInstance(inst);>{{inst.address}}</a>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div class=form-group ng-class="{\'has-error\' : loginError}">\n                <label class=control-label for=username>Username</label>\n                <input class=form-control id=username placeholder="Your username" ng-model=qrInfo.username name=hp_alm_username ng-enter=getDomainsAndProjects() ng-change=resetLogin()>\n              </div>\n              <div class=form-group ng-class="{\'has-error\' : loginError}">\n                <label class=control-label for=password>Password</label>\n                <input class=form-control id=password type=password placeholder=Password ng-model=qrInfo.password name=hp_alm_password ng-enter=getDomainsAndProjects() ng-change=resetLogin()>\n              </div>\n              <div ng-if="login === false && loginError === true" class=help-block>Wrong username and/or password</div>\n\n              <div class=form-group>\n                  <button class="btn btn-primary" ng-click=getDomainsAndProjects()>Login </button>\n              </div>\n            </fieldset>\n          </step>\n\n          \n          <step title="Domain and Project" sign-label=3 active="qrInfo.file && login">\n            <div ng-if=login>\n              <div ng-hide="qrInfo.domain && qrInfo.project">\n                Querying HP-ALM...\n                <loading-indicator></loading-indicator>\n              </div>\n              <fieldset ng-show="qrInfo.domain && qrInfo.project" ng-disabled=!qrInfo.file>\n                <div class=form-group>\n                  <label class=control-label for=domain>Domain</label>\n                  <div class=dropdown>\n                    <button class="btn btn-default dropdown-toggle" tracker=button id=domain data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled=!login>\n                      {{qrInfo.domain}}\n                      <span class=caret></span>\n                    </button>\n                    <ul class=dropdown-menu aria-labelledby=domain>\n                      <li ng-repeat="dom in domains">\n                        <a href="" ng-click="qrInfo.domain = dom;getProjects();">{{dom}}</a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <div class=form-group>\n                  <label class=control-label for=project>Project</label>\n                  <div class=dropdown>\n                    <button class="btn btn-default dropdown-toggle" tracker=button id=project data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled=!login>\n                      {{qrInfo.project}}\n                      <span class=caret></span>\n                    </button>\n                    <ul class=dropdown-menu aria-labelledby=project>\n                      <li ng-repeat="proj in projects">\n                        <a href="" ng-click="qrInfo.project = proj">{{proj}}</a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n          </step>\n\n        </div>\n        <button type=button class="btn btn-primary" ng-disabled=!isValid() ng-click=doImport()>\n          <span class="glyphicon glyphicon-cloud-upload"></span> Import test instances\n        </button>\n      </form>\n    </div>\n    <div class="col-md-8 col-sm-12">\n      <div ng-if=qrInfo.file class="panel panel-default">\n        <div class=panel-heading>\n          <h4 class=panel-title><span class="glyphicon glyphicon-file"></span> {{qrInfo.file.name}} preview</h4>\n        </div>\n        <div class="table responsive">\n          <upload-viewer-csv file=qrInfo.file separator=qrInfo.separator></upload-viewer-csv>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/quality-reporting/retry-credentials.html",'<div class=modal-header>\n  <h3 class=modal-title>Retry HP-ALM Upload</h3>\n</div>\n<div class=modal-body>\n <div class=form-group>\n    <label class=control-label for=username>Username</label>\n    <input class=form-control id=username placeholder="Your username" ng-model=credentials.username name=username>\n  </div>\n  <div class=form-group>\n\n    <label class=control-label for=password>Password</label>\n    <input class=form-control id=password type=password placeholder=Password ng-model=credentials.password name=password>\n  </div>\n  <div class=form-group>\n\n    <label class=control-label for=usermail>Mail address</label>\n    <input class=form-control id=usermail type=usermail placeholder=...@intel.com ng-model=credentials.userMail name=usermail>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=confirm()>Retry</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/seLinux/seLinux.raws.modal.html",'<div class=modal-header>\n  <button type=button ng-click=$dismiss() class=close>&times</button>\n  <h3 class=modal-title>Raw Lines</h3>\n</div>\n<div class="modal-body intel-display-object-modal-body">\n  <div class="row modal-details">\n    <div class=col-md-12>\n      <table class="table table-condensed col-md-12"> \n          <tr>\n            <th>Occurences</th>\n            <th>Log Level</th>\n            <th>Tag</th>\n            <th>Action</th>\n            <th>Commm</th>\n            <th>Path</th>\n            <th>sContext</th>\n            <th>tContext</th>\n            <th>tClass</th>\n            <th>Permissive</th>\n          </tr>\n          <tr>\n            <td>{{seError.occurences}}</td>\n            <td>{{seError.error.logLevel}}</td>\n            <td>{{seError.error.tag |truncate:20}}</td>\n            <td>{{seError.error.action|truncate:20}}</td>\n            <td>{{seError.error.commm|truncate:20}}</td>\n            <td>{{seError.error.path|truncate:20}}</td>\n            <td>{{seError.error.sContext|truncate:20}}</td>\n            <td>{{seError.error.tContext|truncate:20}}</td>\n            <td>{{seError.error.tClass|truncate:20}}</td>\n            <td>{{seError.error.permissive}}</td>\n          </tr>\n          </table>\n    </div>\n    <div class=col-md-12>\n      <pre>{{seError.raws |json}}</pre>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n    <button class="btn btn-primary" ng-click=$dismiss()>OK</button>\n</div>'),
a.put("app/seLinux/seLinux.view.html",'<div>\n  <form ng-submit=submitSeLinuxSearch(seLinuxQuickFilter)>\n    <div class=input-group>\n      <span class=input-group-addon><span class="glyphicon glyphicon-search"></span></span>\n      <input class=form-control placeholder="Log level, tag, action..." ng-model=seLinuxQuickFilter ng-enauto-focus>\n    </div>\n  </form>\n  <table class="table table-condensed">\n  <tr>\n    <th>Occurences</th>\n    <th>Log Level</th>\n    <th>Tag</th>\n    <th>Action</th>\n    <th>Commm</th>\n    <th>Path</th>\n    <th>sContext</th>\n    <th>tContext</th>\n    <th>tClass</th>\n    <th>Permissive</th>\n    <th>Raw lines</th>\n  </tr>\n  <tr ng-repeat="se in selinux">\n    <td>{{se.occurences}}</td>\n    <td>{{se.error.logLevel}}</td>\n    <td>{{se.error.tag}}</td>\n    <td>{{se.error.action}}</td>\n    <td>{{se.error.commm}}</td>\n    <td>{{se.error.path}}</td>\n    <td>{{se.error.sContext}}</td>\n    <td>{{se.error.tContext}}</td>\n    <td>{{se.error.tClass}}</td>\n    <td>{{se.error.permissive}}</td>\n    <td><a class="glyphicon glyphicon-zoom-in" ng-click=showRaws(se)></a></td>\n  </tr>\n  </table>\n</div>'),a.put("app/tags/tag-selector.html",'<div class=ct-tag-selector-content>\n  <input ng-model="query">\n  <ul class="list-unstyled cr-tag-selector-proposal">\n    <li ng-repeat="t in tagProposal">\n      <label>\n        <input type=checkbox ng-model=selection[t] ng-change="onSelectionChanged(t)"> {{t}}\n      </label>\n    </li>\n    <li ng-if=canCreate><a href="" ng-click=createTag(query)>Create tag "{{query}}"</a></li>\n  </ul>\n</div>'),a.put("app/tags/tags-list.html","<div ng-controller=TagsGridCtrl>\n  <div ui-grid=gridOptions ui-grid-pagination auto-fit-rows ui-grid-move-columns ui-grid-resize-columns ui-grid-persist-state ui-grid-choose-columns ui-grid-extended-filters class=ui-grid-intel ui-grid-edit ui-grid-row-edit ui-grid-cellnav></div>\n  <pagination-controls api=gridApi size=5></pagination-controls>\n</div>"),a.put("app/tags/tags.html","<div class=container-fluid>\n\t<div class=page-header>\n\t\t<h1>Tags management</h1>\n\t</div>\n\t<ui-view>\n</div>"),a.put("app/test-signature/test-signature-detail-filters.html",'<div class="page-header page-header-block cr-catch-info">\n  <h3>{{testSignature.targetProduct}}</h3>\n  <p>{{testSignature.lastModified|date}}</p>\n</div>\n<div>\n  <ul class="nav cr-sidenav">\n\n    <li ng-if="relatedSignatures.length > 0">\n      <a href="">Related Signature</a>\n      <ul class=nav>\n        <li ng-repeat="relatedSign in relatedSignatures | orderBy: \'-lastModified\'">\n          <a target="" ui-sref="home.test-signature.detail.views({testSignatureId: relatedSign.id})">{{relatedSign.body | truncate:20}}</a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</div>'),a.put("app/test-signature/test-signature-detail.html",'<div ng-if="tests.length >= 0">\n  <table class="table table-condensed table-striped">\n    <tr>\n      <th>Test Case</th>\n      <th>Campaign</th>\n      <th>Build Id</th>\n      <th>Branch</th>\n    </tr>\n    <tr ng-repeat="test in tests">\n      <td><a target=_blank ui-sref="test.detail({testId: test.id})">{{test.testCase}}</a></td>\n      <td><a target=_blank ui-sref="campaign.detail({campaignId: test.campaignId})">{{test.campaignName}}</a></td>\n      <td><a target=_blank ui-sref="home.build.report.campaigns({reportId:test.build.buildId, targetProduct:test.build.targetProduct})">{{test.build.buildId}}</a>\n      </td>\n      <td>{{test.build.branch}}</td>\n    </tr>\n  </table>\n</div>'),a.put("app/test-signature/test-signature-explorer-filters.html",'<div class="page-header page-header-block cr-catch-primary">\n<h2><span class="glyphicon glyphicon-search"></span>Test Signatures</h2>\n</div>\n<faceted-navigation facets=facets></faceted-navigation>'),a.put("app/test-signature/test-signature-explorer.html",'<facet-selection></facet-selection>\n<search-field on-submit=submitSearch(search) placeholder="Test Signature body" term=body></search-field>\n\n\n<div class="row cr-section">\n  <div class=col-md-12>\n    <div ng-if="results.length >= 0">\n      <table class="table responsive">\n        <tr>\n          <th>Target Product</th>\n          <th>Body</th>\n          <th>Nb Tests</th>\n        </tr>\n        <tr ng-repeat="sign in results | orderBy: \'-lastModified\'">\n          <td>{{sign.targetProduct}}</td>\n          <td><a ui-sref="home.test-signature.detail.views({testSignatureId: sign.id})">{{sign.body}}</a></td>\n          <td>{{sign.nbTests}}</td>\n        </tr>\n      </table>\n    \n    </div>\n    <loading-indicator promise=resultPromise>\n      <p ng-if="results.length === 0" class=lead>No results found</p>\n      <button type=button ng-if=hasMore class="btn btn-info" ng-click=getMore()>View More</button>\n    </loading-indicator>    \n  </div>\n  <div class=col-md-3>\n    <div ui-view=feed></div>\n  </div>\n</div>'),a.put("app/tests/import-new/testsimport-new.html",'<div class=container-fluid>\n  <div class=row>\n    <div class=col-md-12>\n      <h1>Import of Manual Test results</h1>\n\n      <alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>\n        {{alert.msg}} <a ng-show=alert.link href={{alert.link.url}} target=_blank>{{alert.link.label}}</a>\n        <br>\n        <button type=button class="btn btn-link" ng-show=alert.button ng-click=alert.button.doIt()><span class=glyphicon ng-class=alert.button.glyph></span> {{alert.button.label}}\n        </button>\n      </alert>\n\n      <form>\n        <div class=cr-stepper>\n          <step title="Select a file" sign-label=1 active=true>\n            <div class=form-group>\n              <input type=file id=testsFile ng-disabled=isImportInProgress() file-change="handleFile">\n              <div class=help-block>Select a file in the right excel format <wiki-help page-id=743609828 modal-title="\'Excel file format\'"></wiki-help></div>\n              <strong ng-show="manualTestsInFile !== null">\n                {{manualTestsInFile}} tests have been found in the excel file.\n              </strong>\n            </div>\n          </step>\n\n          <step title="Define the test campaign" sign-label=2 active=true>\n            <define-campaign ng-model=campaign ng-disabled=isImportInProgress()></define-campaign>\n          </step>\n\n          <step title="Choose a build" sign-label=3 active=true>\n            <choose-build ng-model=build ng-disabled=isImportInProgress()></choose-build>\n          </step>\n\n          <step title="Verify the data" sign-label=4 active=true>\n            <div>\n              <div ng-if=!tests.length>Select a file</div>\n              <tests-editor ng-model=tests ng-if="tests.length > 0" ng-disabled=isImportInProgress() checked-tests=checkedTests></tests-editor>\n            </div>\n          </step>\n        </div>\n\n        <div class=cr-progress-thin ng-show=isImportInProgress()>\n          <strong class=lead>{{progressValue| number :2}}%</strong>\n          <progressbar animate=false value=progressValue></progressbar>\n        </div>\n\n        <button type=button class="btn btn-primary" ng-disabled="campaign.name === \'\'\n            || build.buildId === undefined || build.targetProduct === undefined  || build.targetDevice === undefined\n            || checkedTests.length === 0 || isImportInProgress()" ng-click=doImport()>\n          <span class="glyphicon glyphicon-cloud-upload"></span> Import checked test cases\n        </button>\n      </form>\n    </div>\n  </div>\n</div>'),a.put("app/tests/import/testsimport.html",'<div class=container-fluid>\n  <div class=row>\n    <div class=col-md-12>\n      <h1>Import of Manual Test results</h1>\n\n      <alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>\n        {{alert.msg}} <a ng-show=alert.link href={{alert.link.url}} target=_blank>{{alert.link.label}}</a>\n        <br>\n        <button type=button class="btn btn-link" ng-show=alert.button ng-click=alert.button.doIt()><span class=glyphicon ng-class=alert.button.glyph></span> {{alert.button.label}}\n        </button>\n      </alert>\n\n      <form>\n        <div class=cr-stepper>\n          <step title="Select a file" sign-label=1 active=true>\n            <div class=form-group>\n              <input type=file id=testsFile ng-disabled=isImportInProgress() file-change="handleFile">\n              <div class=help-block>Select a file in the right excel format <wiki-help page-id=487240757 modal-title="\'Excel file format\'"></wiki-help></div>\n              <strong ng-show="manualTestsInFile !== null">\n                {{manualTestsInFile}} tests have been found in the excel file.\n              </strong>\n            </div>\n          </step>\n\n          <step title="Define the test campaign" sign-label=2 active=true>\n            <define-campaign ng-model=campaign ng-disabled=isImportInProgress()></define-campaign>\n          </step>\n\n          <step title="Choose a build" sign-label=3 active=true>\n            <choose-build ng-model=build ng-disabled=isImportInProgress()></choose-build>\n          </step>\n\n          <step title="Verify the data" sign-label=4 active=true>\n            <div>\n              <div ng-if=!tests.length>Select a file</div>\n               <tests-editor ng-model=tests ng-if="tests.length > 0" ng-disabled=isImportInProgress() checked-tests=checkedTests></tests-editor>\n            </div>\n          </step>\n        </div>\n\n        <div class=cr-progress-thin ng-show=isImportInProgress()>\n          <strong class=lead>{{progressValue| number :2}}%</strong>\n          <progressbar animate=false value=progressValue></progressbar>\n        </div>\n\n        <button type=button class="btn btn-primary" ng-disabled="campaign.name === \'\'\n            || build.buildId === undefined || build.targetProduct === undefined  || build.targetDevice === undefined\n            || checkedTests.length === 0 || isImportInProgress()" ng-click=doImport()>\n          <span class="glyphicon glyphicon-cloud-upload"></span> Import checked test cases\n        </button>\n      </form>\n    </div>\n  </div>\n</div>'),a.put("app/tests/pnp-detail.html",'<div class=row>\n\n  <div class=col-md-5>\n    <h2>Power Measurement Data</h2>\n    <table class=table ng-if=pnp.PwrRail>\n      <tr>\n        <th>Power rail</th>\n        <th>Average ({{pnp.PwrRail.unit}})</th>\n        <th>Min ({{pnp.PwrRail.unit}})</th>\n        <th>Max ({{pnp.PwrRail.unit}})</th>\n        <th>Fail ({{pnp.PwrRail.unit}})</th>\n        <th>Target ({{pnp.PwrRail.unit}})</th>\n      </tr>\n      <tr ng-repeat="(powerRail, measure) in pnp.PwrRail.data" ng-class="{active:powerRail==pnp.verdict_rail}">\n        <td>{{powerRail}}</td>\n        <td>{{measure.average}}</td>\n        <td>{{measure.min}}</td>\n        <td>{{measure.max}}</td>\n        <td>{{measure.failure}}</td>\n        <td>{{measure.target}}</td>\n      </tr>\n    </table>\n    <p ng-if="pnp.PwrRail === undefined">No power rail data</p>\n  </div>\n\n  <div class=col-md-7>\n    <div ng-if=chartConfig>\n      <highchart id=comsumptionChart config=chartConfig></highchart>\n    </div>\n    <div ng-if=!chartConfig>\n      <div class=cr-chart-nodata><span class=intelicon-bar-chart-outlined></span> No power measurement data</div>\n    </div>\n  </div>\n</div>\n\n<div class=row>\n  <div class=col-md-5>\n    <h2>Residency results</h2>\n    <table class=table ng-if=pnp.residencies>\n      <tr>\n        <th>Mode</th>\n        <th>Wakeup count</th>\n        <th>Sleep time <span ng-if=pnp.residencies.unit.sleep_time>({{pnp.residencies.unit.sleep_time}})</span></th>\n        <th>Residency <span ng-if=pnp.residencies.unit.residency>({{pnp.residencies.unit.residency}})</span></th>\n      </tr>\n      <tr ng-repeat="(mode, res) in pnp.residencies.data" ng-class="{active:mode==pnp.residency_mode}">\n        <td>{{mode}}</td>\n        <td>{{res.wakup_count}}</td>\n        <td>{{res.sleep_time}}</td>\n        <td>{{res.residency}}</td>\n      </tr>\n    </table>\n    <p ng-if="pnp.residencies === undefined">No residency data</p>\n  </div>\n  <div class=col-md-7>\n    <h2>Thermal results</h2>\n    <table class=table ng-if=pnp.thermals>\n      <tr>\n        <th>Name</th>\n        <th colspan={{thermalRuns}}>Value ({{pnp.thermals.unit}})</th>\n      </tr>\n      <tr ng-repeat="(name, values) in pnp.thermals.data">\n        <td>{{name}}</td>\n        <td ng-repeat="val in values track by $index" class=cr-table-col-striped>\n          {{val}}\n        </td>\n      </tr>\n    </table>\n    <p ng-if="pnp.thermals === undefined">No thermal data</p>\n  </div>\n</div>'),a.put("app/tests/test-child-grid.html",'<div ng-show=isActiveFilter>\n  <button type=button class="btn btn-danger btn-xs pull-right intel-btn-reset-filter" ng-click=resetFilters()><span class="glyphicon glyphicon-filter"></span>Reset filters</button><div class=clearfix></div>\n</div>\n<div ui-grid=gridOptions ui-grid-pagination auto-fit-rows=300 ui-grid-move-columns ui-grid-resize-columns ui-grid-auto-resize ui-grid-persist-state ui-grid-choose-columns ui-grid-filters-ext class=ui-grid-intel external-scopes=cellScope></div>\n<pagination-controls api=gridApi size=5></pagination-controls>'),a.put("app/tests/test-properties.html","<cr-display-object options=displayTestOptions></cr-display-object>"),a.put("app/tests/test-results.html",'<cr-display-results options="displayTestResultsOptions">'),a.put("app/tests/test-set-change-verdict.html",'<div class=modal-header>\n  <h3 class=modal-title>Change Verdict</h3>\n</div>\n<div class=modal-body>\n  <table class="table table-condensed table-striped">\n    <tr>\n      <th>Test case</th>\n      <th>Status</th>\n      <th>Verdict</th>\n    </tr>\n    <tr ng-repeat-end ng-repeat="test in tests">\n      <td><a ui-sref=test.detail({testId:test.id})>{{test.testCase}}</a></td>\n      <td><cr-status input=test.status></cr-status></td>\n      <td><cr-verdict input=test.verdict></cr-verdict></td>\n    </tr>\n  </table>\n\n  <label>Change Verdict to </label>\n  <div class=dropdown>\n    <button class="btn btn-default dropdown-toggle" tracker=button id=verdict data-toggle=dropdown aria-haspopup=true aria-expanded=true>\n      <cr-verdict input=verdict></cr-verdict> <span class=caret></span>\n    </button>\n    <ul class=dropdown-menu style="height: auto;max-height: 100px;overflow-x: hidden" aria-labelledby=verdict>\n      <li ng-repeat="newVerdict in verdicts">\n        <a href="" ng-click=changeVerdict(newVerdict)><cr-verdict input=newVerdict></cr-verdict></a>\n      </li>\n    </ul>\n  </div>\n\n  <comment-editor model=reason placeholder="Reason to change verdict..."></comment-editor>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=!reason>OK</button>\n  <button class="btn btn-warning" ng-click=close()>Close</button>\n</div>'),a.put("app/tests/test.html",'<div id=cr-page-test class="container-fluid cr-page">\n\n  \n  <div class=page-header>\n    <div class="cr-test-project pull-right">\n      <ul class=list-inline>\n        <li class=h3>\n          <span class="label label-danger" ng-if=!canEdit>\n            Read Only\n          </span>\n        </li>\n        <li class=h3>\n          <span class="label label-primary" ng-if=test.build.branch>\n            {{test.build.branch}} / {{test.build.targetProduct}}\n          </span>\n        </li>\n        <li class=h3>\n          <span class="label label-success" ng-if=test.build.buildId>\n            <a ng-if=test.build.targetProduct target=_blank title="Go to build page" ui-sref="home.build.report.campaigns({reportId: test.build.buildId,targetProduct: test.build.targetProduct})">{{test.build.buildId}}</a>\n            <span ng-if=!test.build.targetProduct>{{test.build.buildId}}</span>\n          </span>\n        </li>\n      </ul>\n    </div>\n\n    \n    <h1>Test <small>{{test.testCase}}</small>\n    </h1>\n    <p>\n      <cr-status input=test.status></cr-status>\n    </p>\n    <span class="glyphicon glyphicon-time"></span>\n    {{test.startTime | crdate}}\n    <span ng-if=test.stopTime>\n      <span class="glyphicon glyphicon-arrow-right"></span> {{test.stopTime | crdate}}\n    </span>\n    <span ng-if=test.duration> ({{test.duration | duration}})</span>\n    <span ng-repeat="tag in test.tags"><span class="label label-primary">{{tag}}</span> </span>\n    <span class=text-muted>{{test.description}}</span>\n\n    \n    <div class=row>\n      <div class=col-md-12>\n        <button type=button class="btn btn-default" title="{{previousTest.index + \': \' + previousTest.testCase|| \'Open the previous test in the campaign\'}}" ng-disabled=!previousTest ng-click=openTest(previousTest.id)><span class="glyphicon glyphicon-arrow-left"></span></button>\n        <button type=button class="btn btn-default" title="{{nextTest.index + \': \' + nextTest.testCase|| \'Open the next test in the campaign\'}}" ng-disabled=!nextTest ng-click=openTest(nextTest.id)><span class="glyphicon glyphicon-arrow-right"></span></button>\n        <span class=cr-test-tags>\n          <div class="btn-group cr-toolbar">\n            <button type=button class="btn btn-default dropdown-toggle" title="Apply tags" data-toggle=dropdown aria-expanded=false>\n              <span class=intelicon-tag-solid></span> Tag <span class=caret></span>\n            </button>\n            <cr-tag-selector class=dropdown-menu ng-model=test.tags on-select-tag=addTag on-unselect-tag=removeTag></cr-tag-selector>\n          </div>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  \n  <div class=row>\n    <div class=col-md-12>\n      <div class=cr-test-properties ui-view=properties></div>\n    </div>\n  </div>\n\n  <div class=row>\n    <div class=col-md-12>\n      <tabset>\n        <tab heading="PNP Detail" ng-if=test.result.pnp active=activeTab.pnpdetail ui-sref=test.detail.pnpdetail>\n          <div ui-view=pnp-detail></div>\n        </tab>\n        <tab heading=Results ng-if=test.result active=activeTab.testresults ui-sref=test.detail.testresults>\n          <div ui-view=test-results></div>\n        </tab>\n        <tab heading=Iterations ng-if=test._meta.nbChildren active=activeTab.testchilds ui-sref=test.detail.testchilds>\n          <div ui-view=test-childs></div>\n        </tab>\n        <tab heading="Attachments ({{test._meta.nbAttachments}})" active=activeTab.attachments ui-sref=test.detail.attachments>\n          <div ui-view=attachments></div>\n        </tab>\n        <tab heading="Events ({{eventsService.count}})" ng-if=true select=loadEvents() active=activeTab.events ui-sref=test.detail.events>\n          <div ui-view=events></div>\n        </tab>\n        <tab heading="Comments ({{commentService.count}})" ng-if=true select=loadComments() active=activeTab.comments ui-sref=test.detail.comments>\n          <div ui-view=comments></div>\n        </tab>\n        <tab heading="Charts ({{chartService.count}})" ng-if="chartService.count > 0" select=loadCharts() active=activeTab.charts ui-sref=test.detail.charts>\n          <div ui-view=charts></div>\n        </tab>\n        <tab heading="Issues ({{issuesService.count}})" ng-if=true select=loadIssues() active=activeTab.issues ui-sref=test.detail.issues>\n          <div ui-view=issues></div>\n        </tab>\n        <tab heading="Activities ({{activitiesService.count}})" ng-if=true active=activeTab.activities ui-sref=test.detail.activities>\n          <div ui-view=activities></div>\n        </tab>\n      </tabset>\n    </div>\n  </div>\n</div>'),a.put("app/tests/tests-add.html",'<div class=container-fluid>\n  <div class=row>\n    <div class=col-md-12>\n      <h1>add test results for campaign {{campaign.name}}</h1>\n\n      <alert ng-repeat="alert in alerts" type={{alert.type}} close=closeAlert($index)>\n        {{alert.msg}} <a ng-show=alert.link href={{alert.link.url}} target=_blank>{{alert.link.label}}</a>\n        <br>\n        <button type=button class="btn btn-link" ng-show=alert.button ng-click=alert.button.doIt()><span class=glyphicon ng-class=alert.button.glyph></span> {{alert.button.label}}\n        </button>\n      </alert>\n\n      <form>\n        <div class=cr-stepper>\n\n          <step title=campaign sign-label=1 active=true>\n            <define-campaign ng-model=campaign ng-disabled=true></define-campaign>\n            <choose-build ng-model=campaign.build ng-disabled=true></choose-build>\n          </step>\n\n          <step title="Add test case" sign-label=2 active=true>\n            <div>\n              <button type=button class="btn btn-danger glyphicon glyphicon-plus pull-left" ng-click="addTestCase()">&nbsp;&nbsp;\n              <button class="btn btn-primary glyphicon glyphicon-import pull-left" ng-click=openAddImportTestModal()>Import</button></div>\n            <div>\n              <tests-editor ng-model=tests ng-if="tests.length > 0" ng-disabled=false checked-tests=checkedTests></tests-editor>\n            </div>\n          </step>\n        </div>\n\n        <div class=cr-progress-thin ng-show=true>\n          <strong class=lead>{{progressValue| number :2}}%</strong>\n          <progressbar animate=false value=progressValue></progressbar>\n        </div>\n\n        <button type=button class="btn btn-primary" ng-click=importSelected() ng-disabled="checkedTests.length<1||!passValidation()">\n          <span class="glyphicon glyphicon-cloud-upload"></span> Import selected\n        </button>\n        <button type=button class="btn btn-primary" ng-click=closePopup()>\n          <span class="glyphicon glyphicon-eye-close"></span> Close\n        </button>\n      </form>\n    </div>\n  </div>\n</div>'),a.put("app/tests/tests-list.html",'<section>\n    <div class="row cr-toolbar">\n        <div class=col-lg-4>\n            <tags-input ng-model=tagFilters on-tag-added=tagFiltersChanged($tag) on-tag-removed=tagFiltersChanged($tag) placeholder="Search by tag">\n                <cr-autocomplete-tags></cr-autocomplete-tags>\n            </tags-input>\n        </div>\n        <div class=col-lg-4>\n            <div class=btn-group ng-if="testSet.selection.length > 0">\n                <button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded=false ng-click=initTags()>\n                    <span class=intelicon-tag-solid></span> Tag <span class=caret></span>\n                </button>\n                <cr-tag-selector class=dropdown-menu on-select-tag=selectTag on-unselect-tag=unselectTag ng-model=selectedTags></cr-tag-selector>\n            </div>\n            <div class=btn-group ng-if="testSet.selection.length > 0">\n                <button type=button class="btn btn-default" ng-click=refIssue()>\n                    <span class="icomoon icon-bug"></span> Link Issue\n                </button>\n            </div>\n        </div>\n        <div class=col-lg-4>\n             <div class="btn-group pull-right">\n                <button type=button class="btn btn-default" ng-click=lastDayTests() ng-class="{active : time === \'lastDay\'}">Last Day</button>\n                <button type=button class="btn btn-default active" ng-click=lastWeekTests() ng-class="{active : time === \'lastWeek\'}">Last Week</button>\n                <button type=button class="btn btn-default" ng-click=lastMonthTests() ng-class="{active : time === \'lastMonth\'}">Last Month</button>\n                <button type=button class="btn btn-default" ng-click=allTests() ng-class="{active : time === \'all\'}">All Tests</button>\n             </div>\n        </div>\n    </div>\n    <div>\n        <a type=button class="btn btn-primary btn-xs pull-right intel-btn-reset-filter" ng-click="exportData(\'tests\')" ng-href={{exportCsvUrl}}><span class="glyphicon glyphicon-download-alt"></span> Export as CSV\n        </a>\n        <button ng-show=isActiveFilter type=button class="btn btn-primary btn-xs pull-right intel-btn-reset-filter" ng-click=shareGridUrl()><span class="glyphicon glyphicon-share"></span> Share filters\n        </button>\n        <button ng-show=isActiveFilter type=button class="btn btn-danger btn-xs pull-right intel-btn-reset-filter" ng-click=resetFilters()><span class="glyphicon glyphicon-filter"></span>Reset filters\n        </button>\n        <div class=clearfix></div>\n        <div ui-grid=gridOptions ui-grid-pagination ui-grid-selection auto-fit-rows=500 ui-grid-move-columns ui-grid-resize-columns ui-grid-auto-resize ui-grid-persist-state ui-grid-choose-columns ui-grid-filters-ext class=ui-grid-intel external-scopes=cellScope></div>\n        <pagination-controls api=gridApi size=5></pagination-controls>\n    </div>\n</section>'),a.put("app/tests/tests.html",'<div class="container-fluid cr-page">\n\t<div class=page-header>\n\t\t<h1>Tests results</h1>\n\t</div>\n\t<ui-view>\n</div>'),a.put("app/usage-statistics/usage-statistics.html",'<div class="jumbotron cr-page-header">\n  <div class=container>\n    <div class=row>\n      <h1>TCR Statistics</h1>\n      <p class=lead>Internal monitoring</p>\n    </div>\n    <div class=row>\n      <h3>Category</h3>\n      <div class="btn-group col-md-12">\n        <button class="btn btn-default col-md-2" ng-model=type btn-radio="\'TEST\'" ng-click="changeType(\'TEST\')">Tests</button>\n        <button class="btn btn-default col-md-2" ng-model=type btn-radio="\'CAMPAIGN\'" ng-click="changeType(\'CAMPAIGN\')">Campaigns</button>\n        <button class="btn btn-default col-md-3" ng-model=type btn-radio="\'ATTACHMENTSVOLUME\'" ng-click="changeType(\'ATTACHMENTSVOLUME\')">Attachments Size</button>\n        <button class="btn btn-default col-md-3" ng-model=type btn-radio="\'ATTACHMENTSNUMBER\'" ng-click="changeType(\'ATTACHMENTSNUMBER\')">Attachments Number</button>\n        <button class="btn btn-default col-md-2" ng-model=type btn-radio="\'FREESPACE\'" ng-click="changeType(\'FREESPACE\')">Free Space</button>\n      </div>\n    </div>\n    <div class=row>\n      <h3>Period</h3>\n\n      <div class=col-md-6>\n        <h4>Start</h4>\n        <div class=row>\n          <div class=col-md-7>\n            <input type=date class="form-control col-md-8" ng-change=printChart() ng-model="startTime">\n          </div>\n          <div class=col-md-5>\n            <timepicker ng-model=startTime show-spinners=false ng-change=printChart() show-meridian=false></timepicker>\n          </div>\n        </div>\n      </div>\n\n      <div class=col-md-6>\n        <h4>End</h4>\n        <div class=row>\n          <div class=col-md-7>\n            <input type=date class=form-control ng-change=printChart() ng-model="stopTime">\n          </div>\n          <div class=col-md-5>\n            <timepicker ng-model=stopTime show-spinners=false ng-change=printChart() show-meridian=false></timepicker>\n          </div>\n        </div>\n      </div>\n\n      <div class=col-md-12>\n        <h4>Quick pick</h4>\n        <div class="btn-group col-md-12">\n          <button class="btn btn-default col-md-3" ng-disabled="type== \'FREESPACE\'" ng-click=lastNHours(24)>Last 24h</button>\n          <button class="btn btn-default col-md-3" ng-disabled="type== \'FREESPACE\'" ng-click=lastNHours(48)>Last 48h</button>\n          <button class="btn btn-default col-md-3" ng-click=lastNDays(7)>Last Week</button>\n          <button class="btn btn-default col-md-3" ng-click=lastNMonth(1)>Last Month</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=row ng-hide="type == \'FREESPACE\' && granularity == \'HOURLY\'">\n      <h3>Data</h3>\n      <div ng-if=chartConfig class=col-md-12>\n        <highchart id=usageStats ng-model=chart config=chartConfig></highchart>\n      </div>\n    </div>\n\n    <div class=row>\n      <h3>Intel App Usage</h3>\n      <a target=_blank href=http://appusage.intel.com/#/details/12254>IAP details</a>\n    </div>\n\n  </div>\n</div>'),a.put("app/user/create-team-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Create a Team</h3>\n</div>\n<div class=modal-body>\n  <form name=editForm>\n    <div class=form-group>\n      <label for=name>Name</label>\n      <input class=form-control id=name placeholder=Name ng-model=name required>\n    </div>\n\n    <div class=form-group>\n      <label class=control-label>Description</label>\n      <input class=form-control id=name placeholder=Description ng-model=description required>\n    </div>\n  </form>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-disabled=!editForm.$valid ng-click=create()>Create</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/user/team-filter.html",'<form class=form-inline>\n  <div class=form-group>\n    <label title="Enable/Disable Team Filter"><input type=checkbox ng-model=enabled> Team Filter<wiki-help page-id=903515620></wiki-help></label>\n    <team-selector team=team ng-disabled=!enabled ng-show=enabled use-default=true style="display: inline-flex"></team-selector>\n  </div>\n</form>'),a.put("app/user/team-selector.html",'<ui-select ng-model=team ng-disabled=ngDisabled search-enabled=false on-select="onSelect($item, $model)">\n  <ui-select-match placeholder={{placeholder}} allow-clear={{allowClear}}>{{$select.selected}}&emsp;</ui-select-match>\n  <ui-select-choices repeat="t in teams">\n    <span ng-bind-html="t | highlight: $select.search"></span>\n  </ui-select-choices>\n</ui-select>'),a.put("app/user/team.html",'<div>\n  <h1>{{team.name}} <small class=text-muted>team</small></h1>\n  <p class=text-muted>{{team.description}}</p>\n\n  <div class="panel panel-primary" ng-if=isOwner>\n    <div class=panel-heading>Team Administrators</div>\n    <div class=panel-body>\n      <user-picker on-select=addAdmin(user)></user-picker>\n\n      <div ng-if="admins.length > 0">\n        <h4>Users <span class=text-muted>({{admins.length}})</span>:</h4>\n        <user-list users=admins on-remove=removeAdmin(user)></user-list>\n      </div>\n      <div ng-if="admins.length === 0" class="cr-blankslate cr-blankslate-spacious">\n        <h2>Not Administrators Found</h2>\n        <p>Please add one.</p>\n      </div>\n    </div>\n  </div>\n\n  <div class="panel panel-primary">\n    <div class=panel-heading>Team Members </div>\n    <div class=panel-body>\n      <user-picker on-select=addMember(user) ng-if=isAdmin></user-picker>\n\n      <div ng-if="members.length > 0">\n        <h4>Users <span class=text-muted>({{members.length}})</span>:</h4>\n        <user-list users=members on-remove=removeMember(user) disable-remove=!isAdmin></user-list>\n      </div>\n      <div ng-if="members.length === 0" class="cr-blankslate cr-blankslate-spacious">\n        <h2>Not Members Found</h2>\n        <p>Please add one.</p>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/user/teams.html",'<div>\n  <button class="btn btn-default pull-right" has-permission=permissions.team.CREATE ng-click=createTeam()>Create</button>\n\t<h1>Teams<wiki-help page-id=903515575></wiki-help></h1>\n\n  <h3>Memberships</h3>\n  <div class=list-group ng-if="teams.length > 0">\n    <div ng-repeat="team in teams" class=list-group-item>\n      <user-group group=team></user-group>\n    </div>\n  </div>\n  <div class="cr-blankslate cr-blankslate-spacious" ng-if="teams.length === 0">\n    <h2>No Membership Found</h2>\n    <p>You are not belonging to any teams.</p>\n  </div>\n</div>'),a.put("app/user/user-content.html",'<div class="cr-blankslate cr-blankslate-spacious">\n  <h2>Welcome to TCR</h2>\n  <p>Please select choices from the menu.</p>\n</div>'),a.put("app/user/user.html",'<div class=cr-page-aside>\n\t<div class=cr-section>\n\t\t<div class=center-block>\n\t\t\t<user-photo size="\'lg\'" wwid=subject.wwid class=center-block style="width: 100px"></user-photo>\n\t\t\t<h4 class=text-center><strong>{{subject.name}} {{subject.lastname}}</strong></h4>\n\t\t</div>\n\t</div>\n\t<hr>\n\t\n\t<div class=cr-section>\n\t\t<ul class="nav nav-pills nav-stacked">\n\t\t\t<li ui-sref-active=active><a ui-sref=home.user.teams><span class=intelicon-users-people-solid></span> Teams</a></li>\n\t\t</ul>\n\t</div>\n</div>\n<div class=cr-page-content>\n\t<div class=container-fluid>\n\t\t<div>\n\t\t\t<div ui-view=content></div>\n\t\t</div>\n\t</div>\n</div>'),
a.put("app/widgets/activity-filter.html","<div class=cr-filters-section>\n    <div class=row>\n        <div class=col-md-6>\n            <label>Date:</label>\n\n            <div>\n                <div class=btn-group-vertical>\n                    <label ng-repeat=\"date in dates\" ng-disabled=!loaded class=\"btn btn-success\" ng-model=selection.dates[date.key] btn-checkbox ng-change=\"onSelectionChange('dates', date.key)\">\n                        {{date.key | crshortdate}}{{date.value.count > 0 ? ' (' + date.value.count + ')' : ''}}\n                    </label>\n                </div>\n            </div>\n            <br>\n            <label>Status:</label>\n\n            <div>\n                <div class=btn-group-vertical>\n                    <label ng-repeat=\"status in statuses\" ng-disabled=!loaded class=\"btn btn-success\" ng-model=selection.statuses[status.key] btn-checkbox ng-change=\"onSelectionChange('statuses', status.key)\">\n                        <span class={{getStatusStyle(status.key)}}>{{status.key}}{{status.value.count > 0 ? ' (' + status.value.count + ')' : ''}}</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div ng-if=!loaded class=help-text>Loading filters...</div>\n    </div>\n</div>"),a.put("app/widgets/activity/activity-comment-form.component.html",'<div class=cr-activity-comment-form-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.currentUser.wwid></user-avatar>\n  </div>\n  <form>\n    <div class=cr-activity-speech-bubble>\n      <div class="panel panel-default">\n        <div class=panel-body> \n          <div class=form-group>\n            <comment-editor model=$ctrl.comment placeholder="Leave a comment..." rows=3></comment-editor>\n          </div>\n          <div class="cr-activity-form-actions btn-toolbar pull-right">\n            <div class=btn-group ng-repeat="(action, label) in $ctrl.actions">\n              <button type=submit class="btn btn-default btn-md" ng-click=$ctrl.submit(action)>{{label}}</button>\n            </div>\n            <div class=btn-group>\n              <button type=submit class="btn btn-info btn-md" ng-click="$ctrl.submit(\'comment\')">Comment</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>'),a.put("app/widgets/activity/activity-comment.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong> commented <span am-time-ago=$ctrl.activity.date></span>\n        <span class="glyphicon glyphicon-pencil" ng-if=$ctrl.isOwner ng-click=$ctrl.editComment() style=cursor:pointer tooltip=Edit></span>\n        <small class=text-muted ng-if="$ctrl.activity.lastModified !== $ctrl.activity.date"> edited </small>\n        <small class=text-muted ng-if="$ctrl.activity.lastModified !== $ctrl.activity.date" am-time-ago=$ctrl.activity.lastModified></small>\n      </div>\n      <div class=panel-body>\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n        <comment-editor ng-if=$ctrl.activity.edit model=$ctrl.activity.context.text placeholder="Leave a comment..." rows=3></comment-editor>\n        <button ng-if=$ctrl.activity.edit class="btn btn-primary" ng-click=$ctrl.updateComment(); ng-disabled="$ctrl.activity.context.text === undefined || $ctrl.activity.context.text.trim() === \'\'">Update</button>\n        <button ng-if=$ctrl.activity.edit class="btn btn-primary" ng-click=$ctrl.cancelEditComment()>Cancel</button>\n      <div>\n    </div>\n  </div>\n</div></div></div>'),a.put("app/widgets/activity/activity-flow.component.html",'<div class=cr-activity-flow>\n  <div ng-repeat="activity in $ctrl.activities" class=cr-activity-item>\n    <activity-item on-submit="$ctrl.submit(action, comment)" activity=activity></activity-item>\n  </div>\n</div>'),a.put("app/widgets/activity/activity-item.component.html","<div ng-include=$ctrl.templateUrl></div>"),a.put("app/widgets/activity/activity-project-add-campaign.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-success>Add </strong>{{$ctrl.activity.context.campaigns.length}} Campaigns\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-project-add-report.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-success>Add </strong>{{$ctrl.activity.context.buildReports.length}} Build Report\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-project-create.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \tCreate this Project\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-project-delete-campaign.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-danger>Remove </strong>{{$ctrl.activity.context.campaigns.length}} Campaigns\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-project-delete-report.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-danger>Remove </strong>{{$ctrl.activity.context.buildReports.length}} Build Report\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-quality-report.template.html",'<activity-timeline-item activity=$ctrl.activity>\n  <activity-timeline-item-header>\n    <span class="glyphicon glyphicon-export cr-activity-timeline-item-icon"></span>\n    <strong>Upload to HP-ALM</strong> \n    <span am-time-ago=$ctrl.activity.date></span>\n  </activity-timeline-item-header>\n  <activity-timeline-item-body>\n    <div class=cr-activity-timeline-inline-content>\n      <div class="panel panel-default">\n        <div class=panel-heading><user-icon user=$ctrl.activity.user></user-icon> <strong> <user-name user=$ctrl.activity.user></user-name></strong></div>\n        <div class=panel-body><task-item task-id=$ctrl.activity.context.task></task-item></div>\n      </div>\n    </div>\n  </activity-timeline-item-body>\n</activity-timeline-item>'),a.put("app/widgets/activity/activity-report-add-campaign.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-success>Add </strong>{{$ctrl.activity.context.campaigns.length}} campaigns\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-report-create.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \tCreate this report\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-report-delete-campaign.template.html",'<div class=cr-activity-comment-wrapper>\n  <div class=cr-activity-speech-avatar>\n    <user-avatar wwid=$ctrl.activity.user.wwid></user-avatar>\n  </div>\n  <div class="cr-activity-comment cr-activity-speech-bubble">\n    <div class="panel panel-default">\n      <div class=panel-heading>\n        <strong><user-name user=$ctrl.activity.user></user-name></strong>&nbsp;<span am-time-ago=$ctrl.activity.date></span>\n      </div>\n      <div class=panel-body>\n      \t<strong class=text-danger>Remove </strong>{{$ctrl.activity.context.campaigns.length}} campaigns\n        <markdown ng-if=!$ctrl.activity.edit markdown-model=$ctrl.activity.context.text></markdown>\n      <div>\n    </div>\n  </div></div></div></div>'),a.put("app/widgets/activity/activity-value-change.template.html",'<activity-timeline-item activity=$ctrl.activity>\n  <activity-timeline-item-header>\n    <span class="glyphicon glyphicon-pencil cr-activity-timeline-item-icon"></span>\n    <strong>{{$ctrl.activity.context.target}}</strong> \n    set to <strong>{{$ctrl.activity.context.value}}</strong> \n    <span am-time-ago=$ctrl.activity.date></span>\n  </activity-timeline-item-header>\n  <activity-timeline-item-body>\n    <div class=cr-activity-timeline-inline-content>\n      <activity-inline-comments comments=$ctrl.activity.comments></activity-inline-comments>\n    </div>\n  </activity-timeline-item-body>\n</activity-timeline-item>'),a.put("app/widgets/activity/activity-verdict-change.template.html",'<activity-timeline-item activity=$ctrl.activity>\n  <activity-timeline-item-header>\n    <span class="text-muted pull-right">{{$ctrl.activity.object.id|truncate:8}}</span>\n    <span class="glyphicon cr-activity-timeline-item-icon" ng-class="{\'glyphicon-ok text-success\': $ctrl.activity.context.verdict===\'PASSED\', \'glyphicon-remove text-danger\': $ctrl.activity.context.verdict!==\'PASSED\'}"></span>\n    <span ng-if=$ctrl.activity.user>\n      <user-name user=$ctrl.activity.user>{{$ctrl.activity.user}}</user-name> set verdict of \n    </span>\n    <strong>{{$ctrl.activity.context.name}}</strong> to <strong>{{$ctrl.activity.context.verdict}}</strong> <span am-time-ago=$ctrl.activity.date></span>\n    ({{$ctrl.activity.context.rates.verdict.PASSED}} passed, {{$ctrl.activity.context.rates.verdict.FAILED}} failed)\n  </activity-timeline-item-header>\n\n  <activity-timeline-item-body ng-if="$ctrl.activity.context.verdict===\'FAILED\'">\n    <table class=cr-activity-timeline-tests>\n      <tr ng-repeat="(id, testCase) in $ctrl.activity.context.tests">\n        <td><span class="glyphicon glyphicon-remove text-muted"></span></td>\n        <td><a ui-sref="test.detail({testId: id})">{{testCase}}</a></td>\n        <td class="text-right text-muted">{{id|truncate:8}}</td>\n      </tr>\n    </table>\n  </activity-timeline-item-body>\n</activity-timeline-item>'),a.put("app/widgets/build-select.html",'<ui-select ng-model=selection append-to-body=appendToBody on-select="callSelect($item, $model)">\n  <ui-select-match placeholder={{placeholder}}>{{$select.selected.buildId}}</ui-select-match>\n  <ui-select-choices repeat="item in searchChoices" refresh=refreshSearchChoices($select.search) refresh-delay=0>\n    <div class=text-info ng-bind-html="item.buildId | highlight: $select.search"></div>\n    <div>{{item.branch}} / {{item.targetProduct}} <release-tag tag=item.tag></release-tag></div>\n    <span class=text-muted>{{item.fingerPrint}}</span>\n  </ui-select-choices>\n</ui-select>'),a.put("app/widgets/build-with-tag.html","<span>\n  <span>{{build.buildId|truncate:20}}</span><br>\n  <release-tag tag=build.tag ng-if=build.tag></release-tag>\n</span>"),a.put("app/widgets/button/btn-add-to-report.html",'<div class=btn-group>\n  <button type=button class="btn btn-default" ng-click=select(reports[0])>Add to {{reports[0].name}}</button>\n  <button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>\n    <span class=caret></span>\n    <span class=sr-only>Other reports</span>\n  </button>\n  <ul class=dropdown-menu>\n    <li ng-repeat="report in reports"><a href="" ng-click=select(report)>{{report.name}}</a></li>\n  </ul>\n</div>'),a.put("app/widgets/campaign-progress.html","<cr-status input=campaign.status></cr-status>\n<cr-verdict input=campaign.verdict></cr-verdict>\n\n<small ng-if=\"lastTest && campaign.lastTest.testCase && campaign.status==='RUNNING'\" class=text-muted>\n    <strong><a ui-sref=test.detail({testId:campaign.lastTest.id})>{{campaign.lastTest.testCase}}</a></strong>\n    <span ng-if=campaign.bench.name>on <strong>{{campaign.bench.name}}</strong></span>\n</small>\n\n<campaign-dating campaign=campaign></campaign-dating>"),a.put("app/widgets/campaign-summary.html",'<div class="media cr-campaign-summary">\n  <div class=media-left>\n    <status-icon class="pull-left cr-icon-md" status=campaign.status></status-icon>\n  </div>\n  <div class=media-body>\n    <div class="row no-gutter">\n      <div class=col-md-3>\n        <test-type-label ng-repeat="type in campaign.types track by $index" type=type></test-type-label>\n        <span class="label label-default" ng-repeat="domain in campaign.domains track by $index">{{domain}}</span> \n        <a href="#/campaigns/{{ campaign.id }}/detail" target=_blank title={{campaign.name}}>{{campaign.name|truncate:30}}</a>\n        <private-icon ng-if=campaign.isPrivate></private-icon>\n        <a href="" target=_self ng-if=campaign.comments ng-click=showComments(campaign)><span tooltip=" show Comments" class="text-muted glyphicon glyphicon-comment"></span></a>\n      </div>\n      <div class=col-md-2>\n        <div ng-if=campaign.build.targetProduct>\n          <a ui-sref="home.build.report.campaigns({reportId: campaign.build.buildId,targetProduct: campaign.build.targetProduct,reportType: \'preview\'})">{{campaign.build.buildId}}</a>\n        </div>\n        <div ng-if=!campaign.build.targetProduct><span>{{campaign.build.buildId}}</span></div>\n      </div>\n       <div class=col-md-2>\n        <div ng-if="campaign.bench.name && !hiddenFields.bench">\n          <span tooltip="Bench name">{{campaign.bench.name| truncate:15}}</span>\n        </div>\n      </div>\n\n      <div class=col-md-2>\n        <execution-rate-bar value=campaign._meta.rates.executionRate tooltip-message="Execution rate: {{campaign._meta.rates.status.COMPLETED + \' / \' + campaign._meta.rates.effectives}}" ng-if=campaign._meta.rates></execution-rate-bar>\n      </div>\n      <div class=col-md-2>\n        <pass-rate-bar value=campaign._meta.rates.passRate red-on-zero="campaign._meta.rates.status.COMPLETED > 0" tooltip-message="Pass rate" ng-if=campaign._meta.rates></pass-rate-bar>\n      </div>\n      <div class=col-md-1>\n        <div class=pull-right>\n          <span tooltip="Crash count"> <crashes-link entity=campaign type=campaign params="{campaignId: campaign.id}"></crashes-link> </span>\n        </div>\n      </div>\n    </div>\n    <div class=row>\n      <div class=col-md-5>\n        <small class=text-muted ng-if=campaign.lastTest> Running test {{campaign.lastTest.testCase|truncate:50}}</small>\n      </div>\n      <div class=col-md-7>\n        <div class="text-muted pull-right"><campaign-dating campaign=campaign></campaign-dating></div>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/widgets/campaign/campaign-dating.component.html",'<div ng-if=$ctrl.campaign.startTime>\n  <small>\n    <span class="glyphicon glyphicon-time"></span>\n    {{$ctrl.campaign.startTime || \'-\' | crdate}}\n    <span ng-if="$ctrl.campaign.startTime && !$ctrl.campaign.stopTime" class=text-muted> \n      (started <span am-time-ago=$ctrl.campaign.startTime></span>\n      <span ng-if=$ctrl.campaign.duration>, duration: {{$ctrl.campaign.duration | customDuration}}</span>)</span>\n      <span ng-if=$ctrl.campaign.stopTime>\n        <span class=text-muted> to </span>\n        {{$ctrl.campaign.stopTime | crdate}}\n        <span ng-if=$ctrl.campaign.stopTime class="text-muted small"> (ended <span am-time-ago=$ctrl.campaign.stopTime></span>\n        <span ng-if=$ctrl.campaign.duration>, duration: {{$ctrl.campaign.duration | customDuration}}</span>)\n      </span>\n    </span>\n  </small>\n</div>'),a.put("app/widgets/categorized-items-select.html",'<ui-select ng-disabled=ngDisabled>\n  <ui-select-match placeholder="Select a {{itemLabel}} in the most used items or search by his name{{categorized?\' or category\':\'\'}}...">\n    {{$select.selected[itemProperty]}}\n  </ui-select-match>\n  <ui-select-choices repeat="item in items | categorizedItemsSelectFilter: itemProperty:$select.search" group-by=$select.search?groupByFn:null group-filter=$select.search?reverseOrderFilterFn:null>\n    <span ng-bind-html="item[itemProperty] | highlight: $select.search"></span>\n  </ui-select-choices>\n</ui-select>'),a.put("app/widgets/check-list.component.html","<table class=table>\n  <tr ng-repeat=\"check in $ctrl.list\">\n    <td class=cr-check-list-item-icon><span class=glyphicon ng-class=\"{'glyphicon-minus text-muted':check.state === 'PENDING', 'glyphicon-remove text-danger':check.state === 'FAILURE', 'glyphicon-ok text-success':check.state === 'SUCCESS'}\"></span></td>\n    <td class=cr-check-list-item-section ng-class=\"{'text-danger':check.state === 'FAILURE', 'text-success':check.state === 'SUCCESS'}\"><strong>{{check.section}}</strong></td>\n    <td class=cr-check-list-item-label ng-class=\"{'text-danger':check.state === 'FAILURE', 'text-success':check.state === 'SUCCESS'}\">{{check.label}}</td>\n    <td class=\"cr-check-list-item-description text-muted\">{{check.description}}</td>\n  </tr>\n</table>"),a.put("app/widgets/domain-list.html",'<div>\n  <div class=row>\n    <div class=list-group-item>\n      <div class=col-md-2>Domain</div>\n      <div class="col-md-1 text-center">Total</div>\n      <div class="col-md-1 text-center">Passed</div>\n      <div class="col-md-1 text-center">Failed</div>\n      <div class="col-md-1 text-center">Blocked</div>\n      <div class="col-md-1 text-center">Not Run</div>\n      <div class="col-md-2 text-center">Pass Rate</div>\n      <div class="col-md-1 text-center">Issues</div>\n      <div class="col-md-2 text-center">Confirm Result</div>\n    </div>\n  </div>\n\n  <div class=row ng-repeat="domain in domainDetails">\n    <h4 class=list-group-item>\n      <div class=col-md-2><strong class=text-info>{{domain.name}}</strong></div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click="openTests(domain, \'ALL\')"><strong class=text-muted></strong>{{domain.stat.planned}}<strong></strong></a>\n      </div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click="openTests(domain, \'PASSED\')">\n          <strong class=text-success>{{domain.stat.passed}}</strong>\n        </a>\n      </div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click="openTests(domain, \'FAILED\')"><strong class=text-danger>{{domain.stat.failed}}</strong></a>\n      </div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click="openTests(domain, \'BLOCKED\')"><strong class=text-warning>{{domain.stat.blocked}}</strong></a>\n      </div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click="openTests(domain, \'Not Run\')">{{domain.stat.na}}</a>\n      </div>\n      <div class="col-md-2 text-center">\n        <pass-rate-bar value=domain.stat.passRate red-on-zero="domain.stat.completed > 0" tooltip-message="Pass rate"></pass-rate-bar>\n      </div>\n      <div class="col-md-1 text-center">\n        <a href="" ng-click=openIssues(domain)><strong>{{domain.issues.count}}</strong></a>\n      </div>\n      <div class="col-md-2 text-center">\n        <strong class=text-success ng-if="domain.status.state === \'OK\'"><span class="glyphicon glyphicon-ok"> </span> OK</strong>\n        <strong class=text-muted ng-if="domain.status.state !== \'OK\'"><span class="glyphicon glyphicon-asterisk"> </span> PENDING</strong>\n        <button class="btn btn-default btn-xs hide-in-report" ng-click=toggleDomainConfirm(domain) tooltip=Change><span class="glyphicon glyphicon-edit"></span></button>\n      </div>\n    </h4>\n  </div>\n</div>'),a.put("app/widgets/dropdown-selector.html",'<button type=button class="btn dropdown-toggle" ng-class=btnClass data-toggle=dropdown>\n  <span class=text-muted>{{title}}:</span>\n  <span ng-if="ngModel === null">All</span><strong ng-if="ngModel !== null">{{ngModel}}</strong> <span class=caret></span>\n</button>\n<ul class=dropdown-menu role=menu aria-labelledby=single-button>\n  <li role=menuitem ng-hide=withoutAll><a href=javascript:void(0) ng-click=select(null)>All</a></li>\n  <li>\n    <div class=input-group ng-show=search ng-click=$event.stopPropagation()>\n      <input class=form-control ng-model=searchText placeholder=Search...>\n      <div class=input-group-addon><span class="glyphicon glyphicon-search"></span></div>\n    </div>\n  </li>\n  <li class=divider ng-hide=withoutAll></li>\n  <li ng-repeat="choice in displayChoices" role=menuitem><a href=javascript:void(0) ng-click=select(choice)>{{choice}}</a></li>\n</ul>'),a.put("app/widgets/duration-picker-directive.html","<div>\n  <div class=input-group>\n    <input class=form-control placeholder=Hour ng-model=hour ng-change=onChange() ng-disabled=!ngEnable>\n    <div class=input-group-addon>Hours</div>\n    <input class=form-control placeholder=Minute ng-model=minute ng-change=onChange() ng-disabled=!ngEnable>\n    <div class=input-group-addon>Minutes</div>\n  </div>\n</div>"),a.put("app/widgets/event-runtime.html",'<span ng-if="crashevent.runtime === 0 || !crashevent.runtime">No Runtime</span>\n<span ng-if="crashevent.runtime !== 0  && crashevent.runtime !== undefined">{{crashevent.runtime | customDuration}}</span>\n<a href="" popover-template="\'eventRuntimeTemplate.html\'" popover-placement=right popover-append-to-body=true popover-trigger=mouseenter popover-title="Runtime details" popover-popup-delay=500><span class="glyphicon glyphicon-question-sign"></span></a>\n\n<script type=text/ng-template id=eventRuntimeTemplate.html>\n  <div>\n    <table class="table table-condensed">\n        <tbody>\n          <tr>\n            <td class="ng-binding text-muted"><strong>Event</strong> time</td>\n            <td class="cr-object-property-value text-muted">{{crashevent.date |crdate}}</td>\n          </tr>\n          <tr ng-if="corestart">\n            <td class="ng-binding"><strong>Campaign</strong> t0 (first <i>core</i> test)</td>\n            <td class="cr-object-property-value">{{corestart |crdate}}</td>\n          </tr>\n          <tr ng-if="teststart">\n            <td class="ng-binding"><strong>Test</strong> start time (t)</td>\n            <td class="cr-object-property-value">{{teststart |crdate}}</td>\n          </tr>\n          <tr>\n            <td class="ng-binding"><strong>Runtime</strong> (t-t0)</td>\n            <td class="cr-object-property-value">{{crashevent.runtime | customDuration}}</td>\n          </tr>\n        </tbody>\n    </table>\n  </div>\n</script>'),a.put("app/widgets/facet-selection.html",'<div class=cr-indicator-bar>\n  <div class="pull-left cr-indicator cr-indicator-sm" ng-repeat="(facetName, values) in selection">\n    <span class=text-muted>{{facetName|uncamel}}</span>\n    <div>\n      <span ng-repeat="value in values">\n        <cr-output input=value></cr-output><span ng-if=!$last>,&nbsp;</span>\n      </span>\n    </div>\n  </div>\n</div>'),a.put("app/widgets/faceted-navigation.html",'<script type=text/ng-template id=inline/widgets/facet-navigation/facet-category>\n  <span ng-if="facetCategory.items" class="cr-facetnav-group-title">\n    {{facetCategory.displayName}} <a href="" ng-click="reset(facetCategory)" ng-if="hasSelection(facetCategory)">(reset)</a>\n  </span>\n  <div ng-if="facetCategory.recommendedItems.length && facetCategory.viewAll !== true">\n    <div ng-include="\'inline/widgets/facet-navigation/facet-items\'" ng-init="items = facetCategory.recommendedItems"></div>\n    <a class="text-muted cr-facetnav-group-link" ng-if="facetCategory.items.length > 1" ng-click="facetCategory.viewAll = true">View all ({{facetCategory.items.length}})</a>\n  </div>\n  <div ng-if="facetCategory.items.length && (facetCategory.viewAll === true || !facetCategory.recommendedItems.length)">\n    <div ng-include="\'inline/widgets/facet-navigation/facet-items\'" ng-init="items = facetCategory.items"></div>\n    <a class="text-muted cr-facetnav-group-link" ng-if="facetCategory.recommendedItems.length > 1" ng-click="facetCategory.viewAll = false">View less</a>\n  </div>\n</script>\n\n<script type=text/ng-template id=inline/widgets/facet-navigation/facet-items>\n  <ul class="cr-facetnav-group">\n    <li ng-repeat="facet in items" ng-class="{active: isSelected(facetCategory, facet.value)}">\n      <a ng-if="facet.value" href="" class="cr-facetnav-item" ng-click="toggle(facetCategory, facet.value)">\n        {{facet.displayName}}\n      </a>\n    </li>\n  </ul>\n</script>\n\n<div class=cr-facetnav>\n  <ul class=cr-facetnav-group>\n    <li ng-repeat="facetCategory in facets" ng-include="\'inline/widgets/facet-navigation/facet-category\'"></li>\n  </ul>\n</div>'),a.put("app/widgets/file-viewer.html",'<div>\n  <div class="alert alert-warning" ng-if=warning>{{warning}}</div>\n  <div class=cr-status-bar>\n    <div class=row>\n      <div class="col-md-9 text-muted">\n        <span ng-if="previewStatus.status === \'running\'">\n          Rendering file preview...\n        </span>\n      </div>\n      <div class=col-md-3>\n        <div ng-if="previewStatus.status === \'running\'">\n          <progressbar animate=false max=previewStatus.total value=previewStatus.chunk></progressbar>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=cr-file-viewer-preview>\n\n</div>\n<div class=row>\n  <div class=col-md-12>\n    <small ng-if="previewStatus.status === \'finished\'" class=pull-right>\n      File preview rendered in {{previewStatus.timer.duration | amDurationFormat : \'millisecond\' }}\n    </small>\n  </div>\n</div>'),a.put("app/widgets/form/choose-build.html",'<div>\n  <div class=form-group>\n    <label class=control-label for=buildId>Build id</label>\n    <input class=form-control id=buildId placeholder="Build ID" ng-model=build.buildId name=buildId ng-disabled="ngDisabled">\n  </div>\n  <div class=form-group>\n    <label class=control-label>Target Product</label>\n    <categorized-items-select items=buildTargetProducts item-label="\'target product\'" item-property="\'targetProduct\'" categorized=true ng-model=build.targetProduct ng-disabled=ngDisabled></categorized-items-select>\n  </div>\n  <div class=form-group>\n    <label class=control-label>Variant</label>\n    <categorized-items-select items=buildVariants item-label="\'build variant\'" item-property="\'variant\'" categorized=false ng-model=build.variant ng-disabled=ngDisabled></categorized-items-select>\n  </div>\n  <div class=form-group>\n    <label class=control-label>Target Device{{targetDevice}}</label>\n    <categorized-items-select items=buildTargetDevices item-label="\'target device\'" item-property="\'targetDevice\'" categorized=false ng-model=build.targetDevice ng-disabled=ngDisabled></categorized-items-select>\n  </div>\n</div>'),a.put("app/widgets/form/define-campaign.html",'<div>\n  <div class=form-group>\n      <label class=control-label for=campaignName>Name</label>\n      <input class=form-control id=campaignName placeholder="Campaign that will contain the imported tests" ng-model=campaign.name name=campaignName ng-disabled=ngDisabled auto-focus>\n  </div>\n  <div class=form-group>\n      <label class=control-label for=startTime>Start Time</label>\n      <div class=row>\n          <div class=col-md-3>\n              <input type=date class="form-control col-md-8" ng-model=campaign.startTime ng-disabled="ngDisabled">\n          </div>\n          <div class=col-md-5>\n              <timepicker ng-model=campaign.startTime show-spinners=false show-meridian=false></timepicker>\n          </div>\n      </div>\n  </div>\n  <div class=form-group>\n      <label class=control-label for=stopTime>Stop Time</label>\n      <div class=row>\n          <div class=col-md-3>\n              <input type=date class="form-control col-md-8" ng-model=campaign.stopTime ng-disabled="ngDisabled">\n          </div>\n          <div class=col-md-5>\n              <timepicker ng-model=campaign.stopTime show-spinners=false show-meridian=false></timepicker>\n          </div>\n      </div>\n  </div>\n  <div class=form-group>\n      <label class=control-label for=testsDomain>Domain</label>\n      <categorized-items-select items=domains item-label="\'build variant\'" item-property="\'domain\'" categorized=false ng-model=campaign.domain ng-disabled=ngDisabled></categorized-items-select>\n  </div>\n  <div class=form-group>\n      <label class=control-label for=testsType>Type</label>\n      <categorized-items-select items=types item-label="\'type\'" item-property="\'value\'" categorized=false ng-model=campaign.type ng-disabled=ngDisabled></categorized-items-select>\n  </div>\n  <div class=form-group>\n      <label class=control-label for=testsTeam>Team</label>\n      <div class=row>\n        <div class=col-md-3>\n          <input class="form-control col-md-8 ng-pristine ng-untouched ng-valid ng-not-empty" ng-model=campaign.team placeholder="Optional, belong to which team..." ng-disabled=ngDisabled>\n        </div>\n      </div>\n  </div>\n  <div class=form-group>\n    <label class=control-label>Private</label><small class=text-muted> (Valid when Team selected)</small>\n    <div>\n      <input type=checkbox ng-model=campaign.isPrivate ng-disabled="ngDisabled || !campaign.team"> Only visual to team member\n    </div>\n  </div>\n</div>'),
a.put("app/widgets/form/tests-editor.html",'<table class="table table-condensed">\n  <thead>\n    <tr>\n      <th><input type=checkbox ng-checked=isCheckedAll() ng-click="clickCheckAll()"></th>\n      <th><button type=button ng-disabled=ngDisabled class="btn btn-danger glyphicon glyphicon-trash pull-left" ng-click=removeAllChecked()></button></th>\n      <th>#</th>\n      <th>Test Case ID</th>\n      <th>Feature</th>\n      <th>Description</th>\n      <th>&nbsp;&nbsp;Status&nbsp;&nbsp;&nbsp;</th>\n      <th>&nbsp;Verdict&nbsp;&nbsp;</th>\n      <th>Comments</th>\n      <th>Issues</th>\n      <th>details</th>\n    </tr>\n\n  </thead>\n  <tbody>\n    <tr>\n      <th colspan=3><span class="glyphicon glyphicon-search">\n        <input type=checkbox ng-model="dispalyChecked">\n      </span></th>\n      <th><input class=form-control ng-model="search.testCase"></th>\n      <th><input class=form-control ng-model="search.feature"></th>\n      <th><input class=form-control ng-model="search.description"></th>\n      <th>\n        <div class=form-control dropdown auto-close=always>\n        <a id=status-search-button dropdown-toggle href=javascript:void(0)>\n          <span class="{{search.status | statusStyle}}">{{search.status?search.status:\'All\'}} </span>\n        </a>\n        <ul class=dropdown-menu role=menu aria-labelledby=status-search-button>\n          <li role=menuitem>\n            <a href=javascript:void(0) ng-click="search.status=\'\';">\n              All\n            </a>\n          </li>\n          <li role=menuitem ng-repeat="status in statuses">\n            <a href=javascript:void(0) ng-click="search.status=status.key;" class="{{status.key | statusStyle}}">\n              {{status.value}}\n            </a>\n          </li>\n        </ul>\n      </div></th>\n      <th><div class=form-control dropdown auto-close=always>\n        <a id=verdict-search-button dropdown-toggle href=javascript:void(0)>\n          <span class="{{search.verdict | verdictStyle}}">{{search.verdict?search.verdict:\'All\'}} </span>\n        </a>\n        <ul class=dropdown-menu role=menu aria-labelledby=verdict-search-button>\n          <li role=menuitem>\n            <a href=javascript:void(0) ng-click="search.verdict=\'\';">\n              All\n            </a>\n          </li>\n          <li role=menuitem ng-repeat="verdict in verdicts">\n            <a href=javascript:void(0) ng-click="search.verdict=verdict.key;" class="{{verdict.key | verdictStyle}}">\n              {{verdict.value}}\n            </a>\n          </li>\n        </ul>\n      </div></th>\n      <th>&nbsp;</th>\n      <th>&nbsp;</th>\n      <th>&nbsp;</th>\n    </tr>\n  </tbody>\n  <tbody ng-repeat="test in tests track by $index">\n    <tr>\n      <td><input type=checkbox ng-checked=isChecked(test) ng-click="clickCheck(test)"></td>\n      <td>\n        <button title="delete test case" type=button ng-disabled=ngDisabled class="btn btn-danger glyphicon glyphicon-trash pull-left" ng-click="remove(\'this test result : \' + test.testCase, test)"></button>\n      </td>\n      <td>{{$index + 1}}</td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <input class=form-control ng-model=test.testCase ng-disabled=ngDisabled placeholder="Test Case ID">\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <input class=form-control ng-model=test.feature ng-disabled=ngDisabled placeholder=Feature>\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <input class=form-control ng-model=test.description ng-disabled=ngDisabled placeholder=Description>\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <div class=form-control dropdown auto-close=always>\n          <a id=status-button dropdown-toggle href=javascript:void(0)>\n            <span class="{{test.status | statusStyle}}">{{test.status?test.status:\'NA\'}} </span>\n          </a>\n          <ul class=dropdown-menu role=menu aria-labelledby=status-button>\n            <li role=menuitem ng-repeat="status in statuses">\n              <a href=javascript:void(0) ng-click="test.status=status.key;" class="{{status.key | statusStyle}}">\n                {{status.value}}\n              </a>\n            </li>\n          </ul>\n        </div>\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <div class=form-control dropdown auto-close=always>\n          <a id=verdict-button dropdown-toggle href=javascript:void(0)>\n            <span class="{{test.verdict | verdictStyle}}">{{test.verdict?test.verdict:\'NA\'}} </span>\n          </a>\n          <ul class=dropdown-menu role=menu aria-labelledby=verdict-button>\n            <li role=menuitem ng-repeat="verdict in verdicts">\n              <a href=javascript:void(0) ng-click="test.verdict=verdict.key;" class="{{verdict.key | verdictStyle}}">\n                {{verdict.value}}\n              </a>\n            </li>\n          </ul>\n        </div>\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <input class=form-control ng-model=test.comments ng-disabled=ngDisabled placeholder=Comments>\n      </td>\n      <td class="{{test.importFailed?\'danger\':\'\'}}">\n        <input class=form-control popover-template=issuePopover.templateUrl popover-title="Input issues" ng-model=test.issues>\n        \n        <script type=text/ng-template id=inputIssuesTemplate.html>\n          <div class="form-group">\n            <label>issues:</label>\n            <input type="text" ng-model="test.issues" class="form-control">\n          </div>\n       </script>\n      </td>\n\n      <td>\n        <cr-display-object-modal object=test></cr-display-object-modal>\n      </td>\n    </tr>\n    <tr ng-show=test.importFailed>\n      <td colspan=3>\n      </td>\n      <td colspan=7 class="{{test.importFailed?\'danger\':\'\'}}" ng-style="{color: \'white\'}">\n        {{test.errorMsg}}\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n'),a.put("app/widgets/indicator.html",'<div class=cr-indicator>\n  <div class=cr-indicator-icon ng-if=iconClass>\n    <span class={{::iconClass}}></span>\n  </div>\n  <div class=cr-indicator-body>\n    <div class="{{::valueClass}} cr-indicator-value">{{value}}</div>\n    <span class=cr-indicator-label>{{::name}}</span>\n  </div>\n</div>'),a.put("app/widgets/issue-list.html",'<div ng-if="issues.length === 0" class="text-muted text-center panel-body">\n  <p>No issues</p>\n</div>\n<div class=list-group ng-if="issues.length > 0">\n  <div ng-repeat="issue in issues | orderBy: \'-details.id\'">\n    <button ng-click=onSelected(issue) class="list-group-item btn btn-link">\n      <div>\n        <a href={{issue.url}} target=_blank>{{issue.key}}</a> \n        <issue-status status=issue.details.status></issue-status>\n        <small class="text-muted pull-right">updated <span am-time-ago=issue.lastModified></span></small>\n      </div>\n      <div class=text-muted>{{issue.details.summary}}</div>\n    </button>\n  </div>\n</div>'),a.put("app/widgets/issue-panel.html",'<div class=panel-functional-issues>\n  <input class=form-control ng-show="issues.length > 10" ng-model=quickFilter placeholder="Issue Quick Search" ng-enauto-focus>\n  <div class=pull-right>\n    <span ng-repeat="(status, count) in statuses">\n      <a class="btn btn-default btn-xs" ng-class="{active: currentFilter === status}" href="" ng-click=filterIssues(status)>{{status}} ({{count}})</a>\n    </span>\n  </div>\n  <h4>{{title}}\n    <a class="small text-primary" style=cursor:pointer ng-click=exportIssues() title="Export Issues">\n      <span class="glyphicon glyphicon-download-alt"></span>\n    </a>\n  </h4>\n\n  <issue-list issues=filteredIssues on-selected=onSelected></issue-list>\n</div>'),a.put("app/widgets/item-list.html",'<form class=form-horizontal>\n    <div class=row>\n        <div class=col-md-12>\n            <div class=input-group>\n                <input class=form-control placeholder="New {{itemName}} here" ng-model=newItem auto-focus>\n                        <span class=input-group-btn>\n                            <button class="btn btn-default" type=submit ng-click=create() type=button>Create</button>\n                        </span>\n            </div>\n        </div>\n    </div>\n</form>\n\n<hr ng-show="items.length > 0">\n\n<table class="table table-condensed table-striped" ng-show="items.length > 0">\n    <tr ng-repeat="item in items track by $index">\n        <td class=col-md-1>\n            <button type=button class="btn btn-danger glyphicon glyphicon-trash pull-left" ng-click="delete(\'this \' + itemName + \' : \' + item[itemName], item)"></button>\n        </td>\n        <td class=col-md-11>\n            {{item[itemName]}}\n        </td>\n    </tr>\n</table>'),a.put("app/widgets/item-selector.html",'<div class=list-group>\n  <div class=list-group-item ng-repeat="choice in choices">\n    <a href="" ng-click=select(choice)>\n      <div class=media>\n        <div class=media-left>\n          <div ng-if="action === \'add\'">\n            <div ng-if=choice.selected><span class="glyphicon glyphicon-ok-sign text-success cr-icon-lg"></span></div>\n            <div ng-if=!choice.selected><span class="glyphicon glyphicon-ok-sign text-muted cr-icon-lg"></span></div>\n          </div>\n          <div ng-if="action === \'remove\'">\n            <div ng-if=choice.selected><span class="glyphicon glyphicon-remove-sign text-danger cr-icon-lg"></span></div>\n            <div ng-if=!choice.selected><span class="glyphicon glyphicon-remove-sign text-muted cr-icon-lg"></span></div>\n          </div>\n        </div>\n        <div class=media-body inject></div> \n      </div>\n    </a>\n  </div>\n</div>'),a.put("app/widgets/logFeature/log-feature-chart.component.html",'<div class="panel panel-default panel-dark">\n  <div class=panel-heading>\n    <h4 class=panel-title>Log file statistics</h4>\n  </div>\n  <div class=panel-body>\n    <div class=row>\n      <div class=col-md-4>\n        <highchart id=feature-heat-map config=$ctrl.heatMapConfig></highchart>\n        </div>\n      <div class=col-md-8>\n        <highchart id=feature-distribution config=$ctrl.distributionConfig></highchart>\n        <highchart id=top-failed-feature config=$ctrl.topFailedConfig></highchart>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("app/widgets/modal/build-signatures-modal.html","<div class=modal-header>\n  <h3 class=modal-title>\n    <ng-pluralize count=signatures.length offset=2 when=\"{'1': 'Build signature',\n                         'other': '{{signatures.length}} different build signatures'}\">\n    </ng-pluralize>\n  </h3>\n</div>\n<div class=modal-body>\n  <object-comparator list=signatures options=compareOptions></object-comparator>\n</div>\n<div class=modal-footer>\n  <button class=\"btn btn-primary\" ng-click=ok()>OK</button>\n</div>"),a.put("app/widgets/modal/campaign-selector-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>\n    Select Campaign\n  </h3>\n</div>\n<div class=modal-body>\n    <div id=body ui-grid=gridOptions ui-grid-pagination class=ui-grid-intel ui-grid-move-columns ui-grid-resize-columns auto-fit-rows=500 ui-grid-selection ui-grid-choose-columns ui-grid-filters-ext external-scopes=cellScope>\n    </div>\n     <pagination-controls api=gridApi size=5></pagination-controls>    \n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled="selection.length == 0">Select</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/widgets/modal/comment-popup-modal.html",'<div class=modal-header>\n\t<h3 class=modal-title>\n    Comments on {{campaign.name}}\n  </h3>\n</div>\n<div class=modal-body>\n\t<ul class=media-list>\n\t\t<li ng-repeat="comment in campaign.comments" ng-modal=campaign.comments class=media>\n\t\t\t<div class=pull-left>\n\t\t\t\t<a href=#>\n\t\t\t\t\t<user-photo size="\'xs\'" wwid=comment.author.wwid></user-photo>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=media-body>\n\t\t\t\t<strong>{{comment.author.firstname}} {{comment.author.lastname}}</strong>\n\t\t\t\t<span class="glyphicon glyphicon-pencil" ng-if=canEdit(comment) ng-click=editComment(comment) style=cursor:pointer tooltip=Edit></span>\n\t\t\t\t<small class=text-muted am-time-ago=comment.date></small>\n\t\t\t\t<small class=text-muted ng-if="comment.lastModified !== comment.date"> edited </small>\n\t\t\t\t<small class=text-muted ng-if="comment.lastModified !== comment.date" am-time-ago=comment.lastModified></small>\n\t\t\t\t<span ng-if=comment.context.testId class=text-muted> on test <strong><a ui-sref=test.detail({testId:comment.context.testId})>{{comment.context.testCase}}</a></strong></span>\n\t\t\t\t<div>\n\t\t\t\t\t<markdown ng-if=!comment.edit markdown-model=comment.text></markdown>\n\t\t\t\t\t<comment-editor ng-if=comment.edit model=comment.text placeholder="Leave a comment..." rows=3></comment-editor>\n\t\t\t\t\t<button ng-if=comment.edit class="btn btn-primary" ng-click=updateComment(comment); ng-disabled="comment === undefined || comment.trim() === \'\'">Update</button>\n\t\t\t\t\t<button ng-if=comment.edit class="btn btn-primary" ng-click=cancelEditComment(comment)>Cancel</button>\n\t\t\t\t\t<div>\n\t\t\t\t\t</div>\n\n\t\t</div></div></li>\n\t\t<hr>\n\t\t<comment-editor model=newComment placeholder="Leave a comment..." rows=10></comment-editor>\n\t\t<button class="btn btn-primary" ng-click=addComment() ng-disabled="newComment === undefined || newComment.trim() === \'\'">Add</button>\n\t</ul>\n\t</div>\n\t<div class=modal-footer>\n\t\t<button class="btn btn-primary" ng-click=ok()>OK</button>\n\t</div>'),a.put("app/widgets/modal/diff-campaigns-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Campaign Compare</h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <campaign-table campaigns=campaigns show-index=true hide-count=true></campaign-table>\n\n      <div class="pull-right checkbox">\n        <label>\n          <input type=checkbox ng-model=options.hideIteration>\n          <span class=text-muted>Hide Iteration </span>\n        </label>\n        <label tooltip="ignore SETUP/TEARDOWN TestCase">\n          <input type=checkbox ng-model=options.onlyCore>\n          <span class=text-muted>Only CORE</span>\n        </label>\n      </div>\n      <h3>Difference</h3>\n      <test-diff-table diffs=campaigns items=items class=row></test-diff-table>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/widgets/modal/diff-reports-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Reports Compare</h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <ul class=list-group>\n        <li class=list-group-item ng-repeat="report in reports">\n          <div class=media>\n            <div class=media-left><h4><strong class=text-muted>#{{ $index + 1}}</strong></h4></div>\n            <div class=media-body><report-summary report=report></report-summary></div>\n          \n        </div></li>\n      </ul>\n\n      <h3>Difference</h3>\n      <test-diff-table ng-show=!loading diffs=reports items=items group=groupBy></test-diff-table>\n      <loading-indicator ng-show=loading></loading-indicator>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/widgets/modal/find-people-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>{{title}}</h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <form name=peopleForm>\n        <div class=form-group>\n          <input class=form-control data-intc-worker-picker=peopleInputConfig data-ng-model="worker">\n        </div>\n      </form>\n      <user-list users=workers></user-list>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=peopleForm.$invalid>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/widgets/modal/issue-list-modal.html",'<div class=modal-header>\n  <h3 class=modal-title><span class="glyphicon glyphicon-fire"></span> {{title}} <small>{{issues.length}} found</small></h3>\n</div>\n<div class=modal-body>\n  <div class=row>\n    <div class=col-md-12>\n      <issue-panel issues=issues></issue-panel>\n    </div>\n  </div>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/widgets/modal/mail-report-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>\n    Mail Report <small>{{ title }}</small>\n  </h3>\n</div>\n\n<div ng-if=!supported class="cr-blankslate cr-blankslate-spacious">\n  <h3>Internet Explorer not supported.</h3>\n  <p>Please use Chrome or Firefox instead.</p>\n</div>\n<div ng-if=supported>\n  <div class=modal-body>\n    <div class=row>\n      <div class=col-md-3>\n        <form name=peopleForm>\n          <div class=form-group>\n            <label>Subject</label>\n            <input class=form-control ng-model="title">\n          </div>\n          <div class=form-group>\n            <label>Recipients</label>\n            <user-picker on-select=selectUser(user)></user-picker>\n          </div>\n        </form>\n        <user-list users=workers></user-list>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-header cr-catch-secondary">\n  Preview\n  </div>\n  <div class="modal-body cr-modal-body-overflow">\n    <div class=center-block id=preview></div>\n  </div>\n</div>\n\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled="workers.length === 0">Send</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/widgets/modal/report-picker-modal.html","<div class=modal-header>\n  <h3 class=modal-title>Choose Build Report</h3>\n</div>\n<div class=\"modal-header cr-catch-primary\">\n  <p class=lead>\n    <ng-pluralize count=selected.length when=\"{'0': 'No report selected',\n              '1': '{} report selected',\n              'other': '{} reports selected'}\">\n    </ng-pluralize>\n  </p>\n</div>\n<div class=\"modal-body cr-modal-body-overflow\">\n  <report-picker selection=selected query=query reports=reports></report-picker>\n</div>\n<div class=modal-footer>\n"+'  <button class="btn btn-primary" ng-click=ok() ng-disabled="selected.length === 0">OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/widgets/modal/step-modal.html",'<div class=modal-header>\n  <h3 class=modal-title><span class={{title.icon}}></span> {{title.text}}</h3>\n</div>\n<div class="modal-body no-gutter">\n  <form name=stepForm novalidate>\n    <div class="row no-gutter">\n      <div class=col-md-3>\n        <div class=cr-steps-modal-steps>\n          <ul class="nav nav-pills nav-stacked">\n            <li ng-repeat="tab in tabs" ng-class="{active: isActive(tab)}"><a href="" ng-click=active(tab)>{{tab.title}}</a></li>\n          </ul>      \n        </div>\n      </div>\n      <div class=col-md-9>\n        <div ng-repeat="tab in tabs" ng-show=isActive(tab)>\n          <div ng-controller=tab.controllerInstance>\n            <div ng-include=tab.templateUrl></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=ok() ng-disabled=stepForm.$invalid>OK</button>\n  <button class="btn btn-warning" ng-click=cancel()>Cancel</button>\n</div>'),a.put("app/widgets/modal/test-duplicate-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>Resolve Duplicate</h3>\n</div>\n<div>\n  <loading-indicator ng-if=loading></loading-indicator>\n  <div ng-if="!loading && data.length === 0" class="cr-blankslate cr-blankslate-spacious">\n    <h3>No duplicated test cases found</h3>\n  </div>\n  <table ng-if="!loading && data.length > 0" class="table table-condensed table-striped">\n    <tr>\n      <th>Hide</th>\n      <th>Campaign</th>\n      <th>Status</th>\n      <th>Verdict</th>\n      <th>Creation</th>\n      <th>Detail</th>\n    </tr>\n\n    <tr ng-repeat-start="item in data" ng-class="{\'success\': count(item) < 2, \'warning\': count(item) > 1}">\n      <td colspan=6>\n        Test Case: \n        <strong>\n          {{item.key}}\n          <small class=text-muted>({{item.tests.length}} tests)</small>\n        </strong>\n      </td>\n    </tr>\n\n    <tr ng-repeat-end ng-repeat="test in item.tests" ng-class="{\'text-muted\': test.isInReport === false}">\n      <td>\n        <span>\n          <a href="" tooltip="show in report" ng-if="test.isInReport === false " ng-click="showInReport(test, true)"><span class="glyphicon glyphicon-eye-close"></span></a>\n          <a href="" tooltip="hide from report" ng-if="test.isInReport === true || test.isInReport === undefined" ng-click="showInReport(test, false)"><span class="glyphicon glyphicon-eye-open"></span></a>\n      </span></td>\n      <td><a ui-sref=test.detail({testId:test.id}) target=_blank>{{test.campaignName}}</a></td>\n      <td><cr-status input=test.status></cr-status></td>\n      <td><cr-verdict input=test.verdict></cr-verdict></td>\n      <td>{{test.creation | crdate}}</td>\n      <td><cr-display-object-modal object=test></cr-display-object-modal></td>\n    </tr>\n  </table>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/widgets/modal/test-list-modal.html",'<div class=modal-header>\n  <h3 class=modal-title>\n    <span class=intelicon-lab></span> {{title}} <small>{{paging.totalCount}} found</small>\n    <label class=switch>\n      <input type=checkbox ng-model=showHidden ng-disabled="loading === true"><small>show hidden</small>\n    </label>\n    <div class="btn-group pull-right">\n      <button type=button class="btn btn-sm btn-default" ng-click=openDuplicate()>Resolve Duplicate</button>\n      <button type=button class="btn btn-sm btn-info dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false ng-disabled=!testSet.selection.length>\n        Action <span class=caret></span>\n      </button>\n      <ul class=dropdown-menu>\n        <li><a href="" ng-click=testSet.refIssueSelection()>Link Issue</a></li>\n        <li><a href="" ng-click=testSet.addCommentToSelection()>Add Comment</a></li>\n        <li><a href="" ng-click=testSet.changeVerdictSelection()>Change Verdict</a></li>\n        <li role=separator class=divider></li>\n        <li><a href="" ng-click=testSet.hideSelectionInReport(true)>Hide in Report</a></li>\n        <li><a href="" ng-click=testSet.hideSelectionInReport(false)>Show in Report</a></li>\n      </ul>\n    </div>\n  </h3>\n</div>\n<div>\n  <loading-indicator ng-if=loading></loading-indicator>\n  <div ng-show="loading === false">\n    <test-list list=testSet.data selection=testSet.selection extra=extraFields></test-list>\n  </div>\n</div>\n<div class=modal-body>\n  <pagination-bar limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>\n</div>\n<div class=modal-footer>\n  <button class="btn btn-primary" ng-click=close()>Close</button>\n</div>'),a.put("app/widgets/multi-select.html",'<button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>\n  {{btnLabel}} <span class=caret></span>\n</button>\n<div class=dropdown-menu ng-click=$event.stopPropagation()>\n  <div class=multi-select-inner>\n    <input ng-model=search class=form-control placeholder={{placeholder}}>\n    <div ng-repeat="choice in options" ng-click=select(choice) ng-class={active:isSelected(choice)}>\n      {{choiceLabel(choice)}}\n    </div>\n  </div>\n</div>'),a.put("app/widgets/object-comparator.html",'<div class=cr-object-comparator>\n  <p>\n    <span ng-if="list.length > 1" class="label cr-object-label" ng-repeat="item in list">\n      {{itemName($index)}}\n    </span>\n  </p>\n  <table class="table table-condensed">\n    <tr ng-repeat="property in properties">\n      <td>{{property.name|uncamel}}</td>\n      <td ng-if=!property.haveDifferences>\n        <div class=cr-object-property-value title="{{property.name|uncamel}} of {{itemName($index)}} is {{values[0]}}">\n          {{property.values[0]}}\n        </div>\n      </td>\n      <td ng-if=property.haveDifferences>\n        <div ng-repeat="value in property.values track by $index" class=cr-object-property-value title="{{property.name|uncamel}} of {{itemName($index)}} is {{value|isBlank: \'not provided\'}}">\n          {{value|isBlank: \'&lt;not provided&gt;\'}}\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>'),a.put("app/widgets/pagination-bar.html","<pagination ng-model=currentPage items-per-page=limit total-items=total boundary-links=true previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></pagination>"),a.put("app/widgets/project-picker.html","<item-selector items=projects selection=selection ng-show=!loading>\n  <project-summary project=choice.value></project-summary>\n</item-selector>\n<loading-indicator ng-if=loading></loading-indicator>\n<pagination-bar ng-if=paging.enable class=pull-right limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>"),a.put("app/widgets/project-summary.html",'<div class="media no-underline">\n  <span class=pull-right>\n    <small>Created at {{project.creation|date}}</small>\n  </span>\n  <div class=media-body>\n    <div class=media-heading>\n      <a ui-sref="home.projects.detail({id: project.id})" target=_blank>{{project.name}}</a>\n    </div>\n    <small class=text-muted>{{project.description}} - {{data}}</small>\n  </div>\n</div>'),a.put("app/widgets/rates-chart.html","<highchart config=chartConfig class=cr-verdict-indicator ng-if=chartConfig></highchart>"),a.put("app/widgets/report-picker.html","<item-selector items=reports selection=selection ng-show=!loading>\n  <report-summary report=choice.value></report-summary>\n</item-selector>\n<loading-indicator ng-if=loading></loading-indicator>\n<pagination-bar ng-if=paging.enable class=pull-right limit=paging.limit total=paging.totalCount ng-model=paging.offset></pagination-bar>"),a.put("app/widgets/report-summary.html",'<div class="media no-underline">\n  <span class=pull-right>\n  <private-icon ng-if="report.isPrivate">\n    <small>Created at {{report.creation|date}}</small>\n  </span>\n  <div class=media-body>\n    <div class=media-heading>\n      <h5>\n        <a ui-sref="home.build.report.campaigns({reportType:report.type, reportId:report.key})" target=_blank>{{report.name}}</a>\n        <small><report-section-tag ng-repeat="section in report.sectionKeys.sort() | unique" section=section></report-section-tag></small>\n      </h5>\n    </div>\n    <span class="label label-default">{{report.type}}</span> <small class=text-muted>{{report.targetProduct}}/{{report.branch}} - {{report.campaigns.length ? report.campaigns.length: 0}} campaigns</small>\n  </div>\n</div>'),a.put("app/widgets/state/state-breadcrumbs.html",'<ol class=breadcrumb ng-if="options.show && breadcrumbs.length > 0">\n  <li ng-repeat="bc in breadcrumbs" ng-class="{ active: $last}" dropdown>\n    <a ng-if=!$last href="" ng-click="goToState(bc.stateName, bc.stateParams)" dropdown-hover=getStateHistory(bc.stateName)>{{bc.label}}</a>\n    <span ng-if=$last dropdown-hover=getStateHistory(bc.stateName)>{{bc.label}}</span>\n\n    \n    <ul ng-if="bc.enableHistory && history.length > 0" class=dropdown-menu dropdown-menu>\n      <li class=dropdown-header><strong>Recent history</strong></li>\n      <li ng-repeat="state in history|orderBy:\'-time\'">\n        <a href="" ng-click="goToState(state.name, state.params)">\n          <div>{{getHistoryItemTitle(state)}}</div>\n          <div><small class=text-muted am-time-ago=state.time></small></div>\n        </a>\n      </li>\n    </ul>\n    \n  </li>\n</ol>'),a.put("app/widgets/step.html",'<div class=cr-stepper-header ng-class="{active: active}">\n    <div class=cr-stepper-sign>{{signLabel}}</div>\n    <div class=cr-stepper-title>{{title}}</div>\n</div>\n<div class=cr-stepper-body>\n    <div ng-transclude></div>\n</div>'),a.put("app/widgets/task-item.html",'<div class="cr-task-item {{taskClass}}">\n  <div class=cr-task-item-icon>\n  </div>\n  <div class=cr-task-item-body>\n    <small class="text-muted pull-right">{{task.creation|amCalendar}}</small>\n    <strong>{{title}}</strong>\n    <div class=cr-progress-thin ng-if="task.status === \'ACTIVE\'">\n      <progressbar max=1 value="task.checkpoint.progress ? task.checkpoint.progress : 0" type=success></progressbar>\n      <div ng-if=!task.checkpoint>Starting...</div>\n      <div ng-if=task.checkpoint>\n        <div>{{task.checkpoint.step}}</div>\n        <div class=text-muted>{{task.checkpoint.stepDetail}}</div>  \n      </div>\n    </div>\n    <div ng-if="task.status !== \'ACTIVE\'">\n      {{task.status}}\n    </div>\n    <div ng-if=task.stopTime>\n      <span>Executed within {{taskDuration | amDurationFormat : \'millisecond\' }}</span>\n    </div>\n  </div>\n</div>'),a.put("app/widgets/task-list.html",'<div ng-if=!filteredTasks.length class=text-muted>\n  <p>No task</p>\n</div>\n<div class="list-group media-list" ng-if="filteredTasks.length > 0">\n  <div ng-repeat="task in filteredTasks" class=list-group-item>\n    <task-item task=task></task-item>\n  </div>\n</div>'),a.put("app/widgets/test-list.html",'<table class="table table-condensed table-striped">\n  <tr>\n    <th><input type=checkbox ng-model=selectAllValue></th>\n    <th></th>\n    <th>Test case</th>\n    <th ng-if="isFieldShow(\'status\')">Status</th>\n    <th ng-if="isFieldShow(\'verdict\')">Verdict</th>\n    <th>Crashes</th>\n    <th>Issues</th>\n    <th>Comments</th>\n    <th></th>\n  </tr>\n\n  <tr ng-repeat-start="(campaignId, tests) in groupByCampaign" class=cr-table-section>\n    <td colspan=20>\n      <strong>\n        <a ui-sref=campaign.detail({campaignId:campaignId}) target=_blank>{{campaignById[campaignId].campaignName}}</a> \n        <small class=text-muted>({{countByCampaign[campaignId]}} tests)</small>\n      </strong>\n    </td>\n  </tr>\n  <tr ng-repeat-end ng-repeat="test in tests" ng-class="{\'text-muted\': test.isInReport === false, \'info\': test.selected === true}">\n    <td>\n        <input type=checkbox ng-model=test.selected ng-disabled=test._certification ng-change=refreshSelected()>\n      \n    </td>\n    <td>\n      <span ng-if="test._certification === undefined">\n        <a href="" tooltip="show in report" ng-if="test.isInReport === false " ng-click=includeTest(test)><span class="glyphicon glyphicon-eye-close"></span></a>\n        <a href="" tooltip="hide from report" ng-if="test.isInReport === true || test.isInReport === undefined" ng-click=excludeTest(test)><span class="glyphicon glyphicon-eye-open"></span></a>\n      </span>\n    </td>\n    <td><a ui-sref=test.detail({testId:test.id}) target=_blank>{{test.testCase}}</a></td>\n    <td ng-if="isFieldShow(\'status\')"><cr-status input=test.status></cr-status></td>\n    <td ng-if="isFieldShow(\'verdict\')"><cr-verdict input=test.verdict></cr-verdict></td>\n    <td><crashes-link entity=test type=test params="{testId: test.id}"></crashes-link></td>\n    <td><div ng-repeat="issue in test.issues" style=display:inline-block><a href={{issue.url}} target=_blank>{{issue.key}}</a>&nbsp;</div></td>\n'+"    <td><span>{{test.comments|join:', ':'text'|truncate:50}}</span></td>\n    <td><cr-display-object-modal object=test></cr-display-object-modal></td>\n  </tr>\n</table>"),a.put("app/widgets/test/test-diff-table.html",'<button class="btn btn-primary btn-xs pull-right" ng-click=exportCsv() ng-disabled="items.length === 0">\n  <span class="glyphicon glyphicon-download-alt"></span> Export as CSV</button>\n<table class="table table-hover">\n  <tr>\n    <th>\n      <h6>Test Case</h6>\n      <span class="pull-right text-muted">Filters:</span>\n    </th>\n    <th ng-repeat="d in diffs" width=150px title={{d.name}}>\n      <h6># {{$index + 1}}</h6>\n      <select ng-model=filters[d.id]>\n        <option ng-repeat="(key, value) in filterConfigs" value={{key}}>{{value.display}}</option>\n      </select>\n    </th>\n  </tr>\n  <tr ng-if=!group ng-repeat="item in displayItems">\n    <td class=active>{{ item.key }}</td>\n    <td ng-repeat="d in diffs">\n      <test-diff-cell test=item.tests[d.id]></test-diff-cell>\n    </td>\n  </tr>\n\n  <tr ng-if=group ng-repeat-start="(groupName, groupValues) in groupItems">\n    <td colspan=20>\n      <span class=text-capitalize>{{ group }}</span>: <strong>{{groupName}}</strong> <span class=text-muted>({{groupValues.length}} tests)</span>\n    </td>\n  </tr>\n  <tr ng-if=group ng-repeat-end ng-repeat="item in groupValues">\n    <td class=active>{{ item.key }}</td>\n    <td ng-repeat="d in diffs">\n      <test-diff-cell test=item.tests[d.id]></test-diff-cell>\n    </td>\n  </tr>\n</table>\n<span class=pull-right>Total: {{displayItems.length}}</span>'),
a.put("app/widgets/user-group.html",'<div class=media>\n  <div class=media-left>\n    <span class="intelicon-group-people-team-outlined text-primary" style="font-size: 40px"></span>\n  </div>\n  <div class=media-body>\n    <div class=pull-right>\n      <p><small><span class=text-muted>Owner:</span> {{$ctrl.group.user.firstname}} {{$ctrl.group.user.lastname}}</small></p>\n      <p class=pull-right><span class="label label-primary">{{$ctrl.group.role}}</span></p>\n    </div>\n    <a ui-sref="home.user.teams.team({teamName: $ctrl.group.name})"><h4 class=media-heading><strong>{{$ctrl.group.name}}</strong></h4></a>\n    <p>{{$ctrl.group.description}}</p>\n  </div>\n</div>'),a.put("app/widgets/user-list.html",'<ul class=media-list>\n  <li class=media ng-repeat="user in users">\n    <div ng-mouseover=mouseOver(user) ng-mouseleave=mouseLeave(user)>\n      <user-photo class=pull-left size="\'xs\'" wwid=user.wwid></user-photo>\n      <h5 class=media-heading>\n        {{user.lastname}} {{user.firstname}}\n        <small class=text-muted> - {{user.wwid}}</small>\n        <div class=pull-right ng-if="user._active && !disableRemove">\n          <a ng-click=remove(user) class=text-danger title=delete>\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n        </div>\n      </h5>\n      <span>{{user.email}}</span>\n    </div>\n  </li>\n</ul>'),a.put("app/widgets/user/share-users.html",'<ul class="nav navbar-nav">\n      <li ng-if=securityEntity._security.owner>\n        <user-photo size="\'xs\'" wwid=securityEntity._security.owner.wwid title="{{securityEntity._security.owner.firstname + \' \' +securityEntity._security.owner.lastname + \' is the owner\'}}">\n        </user-photo>\n      </li>\n      <li class=horizontal-divider></li>\n      <li>\n        <user-photo ng-repeat="worker in securityEntity._security.sharePeople" size="\'xs\'" wwid=worker.wwid title="{{worker.firstname + \' \' + worker.lastname + \' is a maintainer\'}}" class=pull-left>\n        </user-photo>\n      </li>\n      <li class=horizontal-divider ng-if=canEdit></li>\n      <li ng-if=canEdit>\n        <a class="btn btn-icon" ng-click=findPeople() title="Share with someone else">\n          <span class="glyphicon glyphicon-share"></span>\n        </a>\n      </li>\n      <li class=horizontal-divider ng-if=canEdit></li>\n      <li class=dropdown ng-if=canEdit>\n        <a href="" class="dropdown-toggle btn btn-icon" data-toggle=dropdown>\n          <span class=glyphicon ng-class="{\n            \'glyphicon-globe\':securityEntity._security.privacy === privacy.PUBLIC,\n            \'glyphicon-lock\':securityEntity._security.privacy === privacy.PRIVATE\n          }"></span>\n          <span class=caret></span>\n        </a>\n        <ul class="dropdown-menu pull-right">\n          <li class=dropdown-header>Who can see this ?</li>\n          <li class=cr-dropdown-media>\n            <a href="" ng-click=selectPrivacy(privacy.PUBLIC)>\n              <span class="cr-dropdown-media-icon glyphicon glyphicon-globe lead pull-left"></span> Public\n              <br><small class=text-muted>Everybody</small>\n            </a>\n          </li>\n          <li class=cr-dropdown-media>\n            <a href="" ng-click=selectPrivacy(privacy.PRIVATE)>\n              <span class="cr-dropdown-media-icon glyphicon glyphicon-lock lead pull-left"></span> Private\n              <br><small class=text-muted>You and share people</small>\n            </a>\n          </li>\n        </ul>\n      </li>\n    </ul>'),a.put("app/widgets/verdict-distribution-panel.html",'<div class=panel-feature-overview>\n  <div class=row>\n    <div class=col-md-9>\n      <div class=panel-body>\n        <h4>{{options.title}}</h4>\n        <small class=text-muted>{{options.description}}</small>\n        <div class="cr-blankslate cr-blankslate-spacious" ng-if="data.verdictDistribution.series.length  === 0">\n          <h3>{{options.noDataMessage}}</h3>\n          <p>{{options.noDataDescription}}</p>\n        </div>\n        <verdict-distribution-chart data=data.verdictDistribution context=context group=group></verdict-distribution-chart>\n      </div>\n    </div>\n    <div class=col-md-3>\n      <div class="panel-body panel-secondary">\n        <div class=row>\n          <div class="col-md-6 cursor-pointer" ng-click="openTests({}, [\'status\', \'verdict\'])" tooltip="view all tests">\n            <div class=text-center>\n              <span class=lead>{{data.executionStats.planned}}</span>\n              planned\n            </div>\n          </div>\n          <div class="col-md-6 cursor-pointer" ng-click="openTests({status: \'COMPLETED\'}, [\'verdict\'])" tooltip="view all completed tests">\n            <div class=text-center>\n              <span class=lead>{{data.executionStats.completed}}</span>\n              executed\n            </div>\n          </div>\n        </div>\n        <div class=row>\n          <div class="col-md-12 col-sm-6">\n            <div ng-if="data.executionStats.completed > 0">\n              <highchart config=executionChart ng-if=executionChart></highchart>\n              <div ng-if=data.executionStats>\n\n                <p><a href="" ng-click="openTests({verdict:\'PASSED\'})"><span class="label label-success">{{data.executionStats.passed}}</span> passed</a></p>\n                <p><a href="" ng-click="openTests({verdict:\'FAILED\'})"><span class="label label-danger">{{data.executionStats.failed}}</span> failed</a></p>\n                <p><a href="" ng-click="openTests({verdict:\'BLOCKED\'})"><span class="label label-warning">{{data.executionStats.blocked}}</span> blocked</a></p>\n                <p><a href="" ng-click="openTests({verdict:\'NA\'})"><span class="label label-default">{{data.executionStats.na}}</span> N/A</a></p>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}]);